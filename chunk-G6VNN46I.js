import{$ as E,$a as j,$b as ki,$c as Jl,A as kr,Aa as jl,Ab as jn,Ac as ip,B as yf,Ba as Rt,Bb as ve,Bc as w,C as Fl,Ca as kt,Cb as Si,Cc as un,D as bf,Da as Le,Db as Yf,Dc as pt,Ea as Df,Eb as Qf,Ec as ot,Fa as Wl,Fb as Jf,Fc as Di,Ga as Of,Gb as ge,Gc as rp,H as Vt,Ha as ze,Hb as _e,Hc as Oi,I as vi,Ib as ae,Ic as op,J as rn,Ja as Hl,Jb as Wn,Jc as sp,Ka as Pf,Kb as Hn,Kc as le,L as $l,Lb as zn,Lc as ap,M as yi,Ma as Nf,Mb as Ss,Mc as Nr,N as Ef,Na as Dr,Nb as Ue,Nc as lp,Oa as wi,Ob as ne,Oc as cp,P as bi,Pa as Ii,Pb as Ti,Pc as xr,Q as on,Qa as xf,Qb as Ai,Qc as Rs,R as Vl,Ra as Mf,Rc as Pi,S as Cf,Sa as Lf,Ta as Ff,Tb as De,Tc as ks,U as wf,Ua as $f,Ub as Xf,Uc as up,V as If,Va as Vf,Vb as Ce,Vc as dn,W as Qe,Wa as Uf,Wb as we,X as Sf,Xa as Bn,Xb as Yl,Xc as Ge,Y as Ae,Yb as Zf,Yc as dp,Z as B,Zc as Ds,_ as rt,_a as Bf,_b as Ri,_c as Mr,a as _,aa as Z,ab as Or,ad as Os,b as K,ba as Tf,bb as jf,ca as k,cb as Wf,d as Un,da as Ul,db as an,e as p,ea as P,eb as L,f as ff,fa as m,fb as Hf,g as pf,ga as Ve,gb as zf,gc as Q,h as tn,ha as Af,hb as zl,hc as ep,i as Pl,ia as Je,ib as Gf,ic as ln,j as Nl,ja as Rf,jb as Gl,jc as Ts,k as be,ka as Ut,kb as ie,l as it,la as Me,lb as te,m as gf,ma as Bl,mb as W,n as mf,na as Re,o as nn,oa as Ei,ob as N,p as xl,pa as Ci,pb as pe,q as Ml,qa as sn,qb as ql,r as Ll,rb as Cs,s as Ee,sa as S,sb as Kl,t as C,ta as kf,tb as qf,u as Rr,ua as ke,ub as ws,uc as tp,v as _f,vb as Is,vc as Pr,w as vf,wa as bs,wb as H,wc as np,x as U,xa as Es,xb as T,xc as As,y as ys,ya as ee,yb as Kf,yc as Ql,z as Ye,za as se,zb as ft,zc as cn}from"./chunk-ECOLD2DE.js";var $r=class{},Vr=class{},Bt=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(n,e){let i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var ec=class{encodeKey(n){return hp(n)}encodeValue(n){return hp(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function Vb(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var Ub=/%(\d[a-f0-9])/gi,Bb={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hp(t){return encodeURIComponent(t).replace(Ub,(n,e)=>Bb[e]??n)}function Ps(t){return`${t}`}var fn=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new ec,n.fromString){if(n.fromObject)throw new B(2805,!1);this.map=Vb(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],r=Array.isArray(i)?i.map(Ps):[Ps(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Ps(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Ps(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var tc=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function jb(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fp(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function pp(t){return typeof Blob<"u"&&t instanceof Blob}function gp(t){return typeof FormData<"u"&&t instanceof FormData}function Wb(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Lr="Content-Type",Ns="Accept",rc="X-Request-URL",yp="text/plain",bp="application/json",Ep=`${bp}, ${yp}, */*`,Fr=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,e,i,r){this.url=e,this.method=n.toUpperCase();let o;if(jb(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Bt,this.context??=new tc,!this.params)this.params=new fn,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||fp(this.body)||pp(this.body)||gp(this.body)||Wb(this.body)?this.body:this.body instanceof fn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gp(this.body)?null:pp(this.body)?this.body.type||null:fp(this.body)?null:typeof this.body=="string"?yp:this.body instanceof fn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?bp:null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,u=n.params||this.params,d=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((h,f)=>h.set(f,n.setHeaders[f]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((h,f)=>h.set(f,n.setParams[f]),u)),new t(e,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},pn=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(pn||{}),Ur=class{headers;status;statusText;url;ok;type;constructor(n,e=200,i="OK"){this.headers=n.headers||new Bt,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},xs=class t extends Ur{constructor(n={}){super(n)}type=pn.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Br=class t extends Ur{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=pn.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},hn=class extends Ur{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},Cp=200,Hb=204;function Xl(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var zb=(()=>{class t{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Fr)o=e;else{let l;r.headers instanceof Bt?l=r.headers:l=new Bt(r.headers);let c;r.params&&(r.params instanceof fn?c=r.params:c=new fn({fromObject:r.params})),o=new Fr(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=C(o).pipe(rn(l=>this.handler.handle(l)));if(e instanceof Fr||r.observe==="events")return s;let a=s.pipe(Vt(l=>l instanceof Br));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(U(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new B(2806,!1);return l.body}));case"blob":return a.pipe(U(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new B(2807,!1);return l.body}));case"text":return a.pipe(U(l=>{if(l.body!==null&&typeof l.body!="string")throw new B(2808,!1);return l.body}));case"json":default:return a.pipe(U(l=>l.body))}case"response":return a;default:throw new B(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new fn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Xl(r,i))}post(e,i,r={}){return this.request("POST",e,Xl(r,i))}put(e,i,r={}){return this.request("PUT",e,Xl(r,i))}static \u0275fac=function(i){return new(i||t)(P($r))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),Gb=/^\)\]\}',?\n/;function mp(t){if(t.url)return t.url;let n=rc.toLocaleLowerCase();return t.headers.get(n)}var wp=new k(""),Zl=(()=>{class t{fetchImpl=m(nc,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=m(se);handle(e){return new tn(i=>{let r=new AbortController;return this.doRequest(e,r.signal,i).then(ic,o=>i.error(new hn({error:o}))),()=>r.abort()})}doRequest(e,i,r){return p(this,null,function*(){let o=this.createRequestInit(e),s;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,_({signal:i},o)));qb(f),r.next({type:pn.Sent}),s=yield f}catch(f){r.error(new hn({error:f,status:f.status??0,statusText:f.statusText,url:e.urlWithParams,headers:f.headers}));return}let a=new Bt(s.headers),l=s.statusText,c=mp(s)??e.urlWithParams,u=s.status,d=null;if(e.reportProgress&&r.next(new xs({headers:a,status:u,statusText:l,url:c})),s.body){let f=s.headers.get("content-length"),g=[],v=s.body.getReader(),b=0,D,V,O=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>p(this,null,function*(){for(;;){let{done:$e,value:He}=yield v.read();if($e)break;if(g.push(He),b+=He.length,e.reportProgress){V=e.responseType==="text"?(V??"")+(D??=new TextDecoder).decode(He,{stream:!0}):void 0;let At=()=>r.next({type:pn.DownloadProgress,total:f?+f:void 0,loaded:b,partialText:V});O?O.run(At):At()}}}));let oe=this.concatChunks(g,b);try{let $e=s.headers.get(Lr)??"";d=this.parseBody(e,oe,$e)}catch($e){r.error(new hn({error:$e,headers:new Bt(s.headers),status:s.status,statusText:s.statusText,url:mp(s)??e.urlWithParams}));return}}u===0&&(u=d?Cp:0),u>=200&&u<300?(r.next(new Br({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new hn({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(e,i,r){switch(e.responseType){case"json":let o=new TextDecoder().decode(i).replace(Gb,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>i[o]=s.join(",")),e.headers.has(Ns)||(i[Ns]=Ep),!e.headers.has(Lr)){let o=e.detectContentTypeHeader();o!==null&&(i[Lr]=o)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){let r=new Uint8Array(i),o=0;for(let s of e)r.set(s,o),o+=s.length;return r}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),nc=class{};function ic(){}function qb(t){t.then(ic,ic)}function Kb(t,n){return n(t)}function Yb(t,n,e){return(i,r)=>Me(e,()=>n(i,o=>t(o,r)))}var Ip=new k(""),Qb=new k(""),Jb=new k("",{providedIn:"root",factory:()=>!0});var _p=(()=>{class t extends $r{backend;injector;chain=null;pendingTasks=m(bs);contributeToStability=m(Jb);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Ip),...this.injector.get(Qb,[])]));this.chain=i.reduceRight((r,o)=>Yb(r,o,this.injector),Kb)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(bi(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||t)(P(Vr),P(Ut))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();var Xb=/^\)\]\}',?\n/,Zb=RegExp(`^${rc}:`,"m");function eE(t){return"responseURL"in t&&t.responseURL?t.responseURL:Zb.test(t.getAllResponseHeaders())?t.getResponseHeader(rc):null}var vp=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new B(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ee(i.\u0275loadImpl()):C(null)).pipe(Qe(()=>new tn(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((v,b)=>s.setRequestHeader(v,b.join(","))),e.headers.has(Ns)||s.setRequestHeader(Ns,Ep),!e.headers.has(Lr)){let v=e.detectContentTypeHeader();v!==null&&s.setRequestHeader(Lr,v)}if(e.responseType){let v=e.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",b=new Bt(s.getAllResponseHeaders()),D=eE(s)||e.url;return l=new xs({headers:b,status:s.status,statusText:v,url:D}),l},u=()=>{let{headers:v,status:b,statusText:D,url:V}=c(),O=null;b!==Hb&&(O=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=O?Cp:0);let oe=b>=200&&b<300;if(e.responseType==="json"&&typeof O=="string"){let $e=O;O=O.replace(Xb,"");try{O=O!==""?JSON.parse(O):null}catch(He){O=$e,oe&&(oe=!1,O={error:He,text:O})}}oe?(o.next(new Br({body:O,headers:v,status:b,statusText:D,url:V||void 0})),o.complete()):o.error(new hn({error:O,headers:v,status:b,statusText:D,url:V||void 0}))},d=v=>{let{url:b}=c(),D=new hn({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(D)},h=!1,f=v=>{h||(o.next(c()),h=!0);let b={type:pn.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),e.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),o.next(b)},g=v=>{let b={type:pn.UploadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),o.next(b)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),e.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:pn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),e.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||t)(P(Os))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),Sp=new k(""),tE="XSRF-TOKEN",nE=new k("",{providedIn:"root",factory:()=>tE}),iE="X-XSRF-TOKEN",rE=new k("",{providedIn:"root",factory:()=>iE}),Ms=class{},oE=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rs(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||t)(P(le),P(ze),P(nE))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();function sE(t,n){let e=t.url.toLowerCase();if(!m(Sp)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let i=m(Ms).getToken(),r=m(rE);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}var Tp=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Tp||{});function aE(t,n){return{\u0275kind:t,\u0275providers:n}}function CP(...t){let n=[zb,vp,_p,{provide:$r,useExisting:_p},{provide:Vr,useFactory:()=>m(wp,{optional:!0})??m(vp)},{provide:Ip,useValue:sE,multi:!0},{provide:Sp,useValue:!0},{provide:Ms,useClass:oE}];for(let e of t)n.push(...e.\u0275providers);return Je(n)}function wP(){return aE(Tp.Fetch,[Zl,{provide:wp,useExisting:Zl},{provide:Vr,useExisting:Zl}])}var sc=class extends sp{supportsDOMEvents=!0},ac=class t extends sc{static makeCurrent(){op(new t)}onAndCancel(n,e,i,r){return n.addEventListener(e,i,r),()=>{n.removeEventListener(e,i,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=cE();return e==null?null:uE(e)}resetBaseElement(){Wr=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Rs(document.cookie,n)}},Wr=null;function cE(){return Wr=Wr||document.querySelector("base"),Wr?Wr.getAttribute("href"):null}function uE(t){return new URL(t,document.baseURI).pathname}var dE=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),lc=new k(""),Pp=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||t)(P(lc),P(se))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),Fs=class{_doc;constructor(n){this._doc=n}manager},Ls="ng-app-id";function Ap(t){for(let n of t)n.remove()}function Rp(t,n){let e=n.createElement("style");return e.textContent=t,e}function hE(t,n,e,i){let r=t.head?.querySelectorAll(`style[${Ls}="${n}"],link[${Ls}="${n}"]`);if(r)for(let o of r)o.removeAttribute(Ls),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function cc(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Np=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.isServer=Mr(o),hE(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,Rp);i?.forEach(r=>this.addUsage(r,this.external,cc))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(Ap(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Ap(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,Rp(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,cc(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Ls,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||t)(P(le),P(Wl),P(Hl,8),P(ze))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),oc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dc=/%COMP%/g;var xp="%COMP%",fE=`_nghost-${xp}`,pE=`_ngcontent-${xp}`,gE=!0,mE=new k("",{providedIn:"root",factory:()=>gE});function _E(t){return pE.replace(dc,t)}function vE(t){return fE.replace(dc,t)}function Mp(t,n){return n.map(e=>e.replace(dc,t))}var kp=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,s,a,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Mr(a),this.defaultRenderer=new Hr(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dr.ShadowDom&&(i=K(_({},i),{encapsulation:Dr.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof $s?r.applyToHost(e):r instanceof zr&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(i.encapsulation){case Dr.Emulated:o=new $s(l,c,i,this.appId,u,s,a,d,h);break;case Dr.ShadowDom:return new uc(l,c,e,i,s,a,this.nonce,d,h);default:o=new zr(l,c,i,u,s,a,d,h);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||t)(P(Pp),P(Np),P(Wl),P(mE),P(le),P(ze),P(se),P(Hl),P(Pf,8))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),Hr=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,i,r,o){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(oc[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Dp(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(Dp(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){e.remove()}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new B(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let o=oc[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=oc[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Or.DashCase|Or.Important)?n.style.setProperty(e,i,r&Or.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Or.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i,r){if(typeof n=="string"&&(n=Oi().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);let o=this.decoratePreventDefault(i);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,r)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function Dp(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var uc=class extends Hr{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,i,r,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=Mp(r.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=r.getExternalStyles?.();if(d)for(let h of d){let f=cc(h,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zr=class extends Hr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,i,r,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=c?Mp(c,u):u,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},$s=class extends zr{contentAttr;hostAttr;constructor(n,e,i,r,o,s,a,l,c){let u=r+"-"+i.id;super(n,e,i,o,s,a,l,c,u),this.contentAttr=_E(u),this.hostAttr=vE(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}},yE=(()=>{class t extends Fs{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||t)(P(le))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),Op=["alt","control","meta","shift"],bE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},CE=(()=>{class t extends Fs{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r,o){let s=t.parseEventName(i),a=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Oi().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Op.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=bE[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Op.forEach(s=>{if(s!==r){let a=EE[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||t)(P(le))};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();function GP(t,n){return ip(_({rootComponent:t},wE(n)))}function wE(t){return{appProviders:[...RE,...t?.providers??[]],platformProviders:AE}}function IE(){ac.makeCurrent()}function SE(){return new jl}function TE(){return Df(document),document}var AE=[{provide:ze,useValue:dp},{provide:Of,useValue:IE,multi:!0},{provide:le,useFactory:TE,deps:[]}];var RE=[{provide:Rf,useValue:"root"},{provide:jl,useFactory:SE,deps:[]},{provide:lc,useClass:yE,multi:!0,deps:[le]},{provide:lc,useClass:CE,multi:!0,deps:[le]},kp,Np,Pp,{provide:Wf,useExisting:kp},{provide:Os,useClass:dE,deps:[]},[]];var Lp=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||t)(P(le))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var kE=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=P(DE),r},providedIn:"root"})}return t})(),DE=(()=>{class t extends kE{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Bn.NONE:return i;case Bn.HTML:return Ii(i,"HTML")?wi(i):Uf(this._doc,String(i)).toString();case Bn.STYLE:return Ii(i,"Style")?wi(i):i;case Bn.SCRIPT:if(Ii(i,"Script"))return wi(i);throw new B(5200,!1);case Bn.URL:return Ii(i,"URL")?wi(i):Vf(String(i));case Bn.RESOURCE_URL:if(Ii(i,"ResourceURL"))return wi(i);throw new B(5201,!1);default:throw new B(5202,!1)}}bypassSecurityTrustHtml(e){return xf(e)}bypassSecurityTrustStyle(e){return Mf(e)}bypassSecurityTrustScript(e){return Lf(e)}bypassSecurityTrustUrl(e){return Ff(e)}bypassSecurityTrustResourceUrl(e){return $f(e)}static \u0275fac=function(i){return new(i||t)(P(le))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var A="primary",so=Symbol("RouteTitle"),mc=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function $i(t){return new mc(t)}function PE(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function NE(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Dt(t[e],n[e]))return!1;return!0}function Dt(t,n){let e=t?_c(t):void 0,i=n?_c(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Kp(t[r],n[r]))return!1;return!0}function _c(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Kp(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}else return t===n}function Yp(t){return t.length>0?t[t.length-1]:null}function _n(t){return _f(t)?t:Cs(t)?Ee(Promise.resolve(t)):C(t)}var xE={exact:Jp,subset:Xp},Qp={exact:ME,subset:LE,ignored:()=>!0};function Fp(t,n,e){return xE[e.paths](t.root,n.root,e.matrixParams)&&Qp[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function ME(t,n){return Dt(t,n)}function Jp(t,n,e){if(!qn(t.segments,n.segments)||!Bs(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!Jp(t.children[i],n.children[i],e))return!1;return!0}function LE(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Kp(t[e],n[e]))}function Xp(t,n,e){return Zp(t,n,n.segments,e)}function Zp(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!qn(r,e)||n.hasChildren()||!Bs(r,e,i))}else if(t.segments.length===e.length){if(!qn(t.segments,e)||!Bs(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!Xp(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!qn(t.segments,r)||!Bs(t.segments,r,i)||!t.children[A]?!1:Zp(t.children[A],n,o,i)}}function Bs(t,n,e){return n.every((i,r)=>Qp[e](t[r].parameters,i.parameters))}var Wt=class{root;queryParams;fragment;_queryParamMap;constructor(n=new G([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=$i(this.queryParams),this._queryParamMap}toString(){return VE.serialize(this)}},G=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return js(this)}},Gn=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=$i(this.parameters),this._parameterMap}toString(){return tg(this)}};function FE(t,n){return qn(t,n)&&t.every((e,i)=>Dt(e.parameters,n[i].parameters))}function qn(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function $E(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===A&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==A&&(e=e.concat(n(r,i)))}),e}var Wi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:()=>new Vi,providedIn:"root"})}return t})(),Vi=class{parse(n){let e=new yc(n);return new Wt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Gr(n.root,!0)}`,i=jE(n.queryParams),r=typeof n.fragment=="string"?`#${UE(n.fragment)}`:"";return`${e}${i}${r}`}},VE=new Vi;function js(t){return t.segments.map(n=>tg(n)).join("/")}function Gr(t,n){if(!t.hasChildren())return js(t);if(n){let e=t.children[A]?Gr(t.children[A],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==A&&i.push(`${r}:${Gr(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=$E(t,(i,r)=>r===A?[Gr(t.children[A],!1)]:[`${r}:${Gr(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[A]!=null?`${js(t)}/${e[0]}`:`${js(t)}/(${e.join("//")})`}}function eg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vs(t){return eg(t).replace(/%3B/gi,";")}function UE(t){return encodeURI(t)}function vc(t){return eg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ws(t){return decodeURIComponent(t)}function $p(t){return Ws(t.replace(/\+/g,"%20"))}function tg(t){return`${vc(t.path)}${BE(t.parameters)}`}function BE(t){return Object.entries(t).map(([n,e])=>`;${vc(n)}=${vc(e)}`).join("")}function jE(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Vs(e)}=${Vs(r)}`).join("&"):`${Vs(e)}=${Vs(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var WE=/^[^\/()?;#]+/;function hc(t){let n=t.match(WE);return n?n[0]:""}var HE=/^[^\/()?;=#]+/;function zE(t){let n=t.match(HE);return n?n[0]:""}var GE=/^[^=?&#]+/;function qE(t){let n=t.match(GE);return n?n[0]:""}var KE=/^[^&#]+/;function YE(t){let n=t.match(KE);return n?n[0]:""}var yc=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new G([],{}):new G([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[A]=new G(n,e)),i}parseSegment(){let n=hc(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(n),new Gn(Ws(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=zE(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=hc(this.remaining);r&&(i=r,this.capture(i))}n[Ws(e)]=Ws(i)}parseQueryParam(n){let e=qE(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=YE(this.remaining);s&&(i=s,this.capture(i))}let r=$p(e),o=$p(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=hc(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new B(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=A);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[A]:new G([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new B(4011,!1)}};function ng(t){return t.segments.length>0?new G([],{[A]:t}):t}function ig(t){let n={};for(let[i,r]of Object.entries(t.children)){let o=ig(r);if(i===A&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let e=new G(t.segments,n);return QE(e)}function QE(t){if(t.numberOfChildren===1&&t.children[A]){let n=t.children[A];return new G(t.segments.concat(n.segments),n.children)}return t}function Kn(t){return t instanceof Wt}function JE(t,n,e=null,i=null){let r=rg(t);return og(r,n,e,i)}function rg(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new G(o.url,s);return o===t&&(n=a),a}let i=e(t.root),r=ng(i);return n??r}function og(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(n.length===0)return fc(r,r,r,e,i);let o=XE(n);if(o.toRoot())return fc(r,r,new G([],{}),e,i);let s=ZE(o,r,t),a=s.processChildren?Yr(s.segmentGroup,s.index,o.commands):ag(s.segmentGroup,s.index,o.commands);return fc(r,s.segmentGroup,a,e,i)}function Hs(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Xr(t){return typeof t=="object"&&t!=null&&t.outlets}function fc(t,n,e,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===n?s=e:s=sg(t,n,e);let a=ng(ig(s));return new Wt(a,o,r)}function sg(t,n,e){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===n?i[r]=e:i[r]=sg(o,n,e)}),new G(t.segments,i)}var zs=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Hs(i[0]))throw new B(4003,!1);let r=i.find(Xr);if(r&&r!==Yp(i))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XE(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zs(!0,0,t);let n=0,e=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new zs(e,n,i)}var Mi=class{segmentGroup;processChildren;index;constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function ZE(t,n,e){if(t.isAbsolute)return new Mi(n,!0,0);if(!e)return new Mi(n,!1,NaN);if(e.parent===null)return new Mi(e,!0,0);let i=Hs(t.commands[0])?0:1,r=e.segments.length-1+i;return eC(e,r,t.numberOfDoubleDots)}function eC(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new B(4005,!1);r=i.segments.length}return new Mi(i,!1,r-o)}function tC(t){return Xr(t[0])?t[0].outlets:{[A]:t}}function ag(t,n,e){if(t??=new G([],{}),t.segments.length===0&&t.hasChildren())return Yr(t,n,e);let i=nC(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new G(t.segments.slice(0,i.pathIndex),{});return o.children[A]=new G(t.segments.slice(i.pathIndex),t.children),Yr(o,0,r)}else return i.match&&r.length===0?new G(t.segments,{}):i.match&&!t.hasChildren()?bc(t,n,e):i.match?Yr(t,0,r):bc(t,n,e)}function Yr(t,n,e){if(e.length===0)return new G(t.segments,{});{let i=tC(e),r={};if(Object.keys(i).some(o=>o!==A)&&t.children[A]&&t.numberOfChildren===1&&t.children[A].segments.length===0){let o=Yr(t.children[A],n,e);return new G(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=ag(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new G(t.segments,r)}}function nC(t,n,e){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;let s=t.segments[r],a=e[i];if(Xr(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Up(l,c,s))return o;i+=2}else{if(!Up(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function bc(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if(Xr(o)){let l=iC(o.outlets);return new G(i,l)}if(r===0&&Hs(e[0])){let l=t.segments[n];i.push(new Gn(l.path,Vp(e[0]))),r++;continue}let s=Xr(o)?o.outlets[A]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Hs(a)?(i.push(new Gn(s,Vp(a))),r+=2):(i.push(new Gn(s,{})),r++)}return new G(i,{})}function iC(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=bc(new G([],{}),0,i))}),n}function Vp(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function Up(t,n,e){return t==e.path&&Dt(n,e.parameters)}var Qr="imperative",Ie=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ie||{}),st=class{id;url;constructor(n,e){this.id=n,this.url=e}},Ui=class extends st{type=Ie.NavigationStart;navigationTrigger;restoredState;constructor(n,e,i="imperative",r=null){super(n,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mt=class extends st{urlAfterRedirects;type=Ie.NavigationEnd;constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ze=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ze||{}),Gs=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Gs||{}),jt=class extends st{reason;code;type=Ie.NavigationCancel;constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gn=class extends st{reason;code;type=Ie.NavigationSkipped;constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r}},Zr=class extends st{error;target;type=Ie.NavigationError;constructor(n,e,i,r){super(n,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qs=class extends st{urlAfterRedirects;state;type=Ie.RoutesRecognized;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ec=class extends st{urlAfterRedirects;state;type=Ie.GuardsCheckStart;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cc=class extends st{urlAfterRedirects;state;shouldActivate;type=Ie.GuardsCheckEnd;constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wc=class extends st{urlAfterRedirects;state;type=Ie.ResolveStart;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ic=class extends st{urlAfterRedirects;state;type=Ie.ResolveEnd;constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sc=class{route;type=Ie.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Tc=class{route;type=Ie.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ac=class{snapshot;type=Ie.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rc=class{snapshot;type=Ie.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kc=class{snapshot;type=Ie.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dc=class{snapshot;type=Ie.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ks=class{routerEvent;position;anchor;type=Ie.Scroll;constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},eo=class{},Bi=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function rC(t,n){return t.providers&&!t._injector&&(t._injector=Gl(t.providers,n,`Route: ${t.path}`)),t._injector??n}function gt(t){return t.outlet||A}function oC(t,n){let e=t.filter(i=>gt(i)===n);return e.push(...t.filter(i=>gt(i)!==n)),e}function ao(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Oc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ao(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new lo(this.rootInjector)}},lo=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Oc(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||t)(P(Ut))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ys=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Pc(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=Pc(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Nc(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Nc(n,this._root).map(e=>e.value)}};function Pc(t,n){if(t===n.value)return n;for(let e of n.children){let i=Pc(t,e);if(i)return i}return null}function Nc(t,n){if(t===n.value)return[n];for(let e of n.children){let i=Nc(t,e);if(i.length)return i.unshift(n),i}return[]}var Xe=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function xi(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Qs=class extends Ys{snapshot;constructor(n,e){super(n),this.snapshot=e,jc(this,n)}toString(){return this.snapshot.toString()}};function lg(t){let n=sC(t),e=new it([new Gn("",{})]),i=new it({}),r=new it({}),o=new it({}),s=new it(""),a=new mn(e,i,o,s,r,A,t,n.root);return a.snapshot=n.root,new Qs(new Xe(a,[]),n)}function sC(t){let n={},e={},i={},r="",o=new Li([],n,i,r,e,A,t,null,{});return new Xs("",new Xe(o,[]))}var mn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(U(c=>c[so]))??C(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(n=>$i(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(n=>$i(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Js(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:_(_({},n.params),t.params),data:_(_({},n.data),t.data),resolve:_(_(_(_({},t.data),n.data),r?.data),t._resolvedData)}:i={params:_({},t.params),data:_({},t.data),resolve:_(_({},t.data),t._resolvedData??{})},r&&ug(r)&&(i.resolve[so]=r.title),i}var Li=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[so]}constructor(n,e,i,r,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$i(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$i(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Xs=class extends Ys{url;constructor(n,e){super(e),this.url=n,jc(this,e)}toString(){return cg(this._root)}};function jc(t,n){n.value._routerState=t,n.children.forEach(e=>jc(t,e))}function cg(t){let n=t.children.length>0?` { ${t.children.map(cg).join(", ")} } `:"";return`${t.value}${n}`}function pc(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Dt(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Dt(n.params,e.params)||t.paramsSubject.next(e.params),NE(n.url,e.url)||t.urlSubject.next(e.url),Dt(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xc(t,n){let e=Dt(t.params,n.params)&&FE(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||xc(t.parent,n.parent))}function ug(t){return typeof t.title=="string"||t.title===null}var aC=new k(""),lC=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=A;activateEvents=new ee;deactivateEvents=new ee;attachEvents=new ee;detachEvents=new ee;routerOutletData=Rt(void 0);parentContexts=m(lo);location=m(zf);changeDetector=m(cn);inputBinder=m(na,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Mc(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=W({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Re]})}return t})(),Mc=class t{route;childContexts;parent;outletData;__ngOutletInjector(n){return new t(this.route,this.childContexts,n,this.outletData)}constructor(n,e,i,r){this.route=n,this.childContexts=e,this.parent=i,this.outletData=r}get(n,e){return n===mn?this.route:n===lo?this.childContexts:n===aC?this.outletData:this.parent.get(n,e)}},na=new k(""),Bp=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=ys([i.queryParams,i.params,i.data]).pipe(Qe(([o,s,a],l)=>(a=_(_(_({},o),s),a),l===0?C(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=rp(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();function cC(t,n,e){let i=to(t,n._root,e?e._root:void 0);return new Qs(i,n)}function to(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=uC(t,n,e);return new Xe(i,r)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>to(t,a)),s}}let i=dC(n.value),r=n.children.map(o=>to(t,o));return new Xe(i,r)}}function uC(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return to(t,i,r);return to(t,i)})}function dC(t){return new mn(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}var no=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},dg="ngNavigationCancelingError";function Zs(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=Kn(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=hg(!1,Ze.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function hg(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[dg]=!0,e.cancellationCode=n,e}function hC(t){return fg(t)&&Kn(t.url)}function fg(t){return!!t&&t[dg]}var fC=(t,n,e,i)=>U(r=>(new Lc(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)),Lc=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),pc(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=xi(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=xi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=xi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=xi(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Dc(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Rc(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(pc(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),pc(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},ea=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Fi=class{component;route;constructor(n,e){this.component=n,this.route=e}};function pC(t,n,e){let i=t._root,r=n?n._root:null;return qr(i,r,e,[i.value])}function gC(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Hi(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!Tf(t)?t:n.get(t):i}function qr(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=xi(n);return t.children.forEach(s=>{mC(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Jr(a,e.getContext(s),r)),r}function mC(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=_C(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ea(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qr(t,n,a?a.children:null,i,r):qr(t,n,e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Fi(a.outlet.component,s))}else s&&Jr(n,a,r),r.canActivateChecks.push(new ea(i)),o.component?qr(t,null,a?a.children:null,i,r):qr(t,null,e,i,r);return r}function _C(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!qn(t.url,n.url);case"pathParamsOrQueryParamsChange":return!qn(t.url,n.url)||!Dt(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xc(t,n)||!Dt(t.queryParams,n.queryParams);case"paramsChange":default:return!xc(t,n)}}function Jr(t,n,e){let i=xi(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?n?Jr(s,n.children.getContext(o),e):Jr(s,null,e):Jr(s,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Fi(n.outlet.component,r)):e.canDeactivateChecks.push(new Fi(null,r)):e.canDeactivateChecks.push(new Fi(null,r))}function co(t){return typeof t=="function"}function vC(t){return typeof t=="boolean"}function yC(t){return t&&co(t.canLoad)}function bC(t){return t&&co(t.canActivate)}function EC(t){return t&&co(t.canActivateChild)}function CC(t){return t&&co(t.canDeactivate)}function wC(t){return t&&co(t.canMatch)}function pg(t){return t instanceof vf||t?.name==="EmptyError"}var Us=Symbol("INITIAL_VALUE");function ji(){return Qe(t=>ys(t.map(n=>n.pipe(yi(1),If(Us)))).pipe(U(n=>{for(let e of n)if(e!==!0){if(e===Us)return Us;if(e===!1||IC(e))return e}return!0}),Vt(n=>n!==Us),yi(1)))}function IC(t){return Kn(t)||t instanceof no}function SC(t,n){return Ye(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?C(K(_({},e),{guardsResult:!0})):TC(s,i,r,t).pipe(Ye(a=>a&&vC(a)?AC(i,o,t,n):C(a)),U(a=>K(_({},e),{guardsResult:a})))})}function TC(t,n,e,i){return Ee(t).pipe(Ye(r=>PC(r.component,r.route,e,n,i)),on(r=>r!==!0,!0))}function AC(t,n,e,i){return Ee(n).pipe(rn(r=>yf(kC(r.route.parent,i),RC(r.route,i),OC(t,r.path,e),DC(t,r.route,e))),on(r=>r!==!0,!0))}function RC(t,n){return t!==null&&n&&n(new kc(t)),C(!0)}function kC(t,n){return t!==null&&n&&n(new Ac(t)),C(!0)}function DC(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return C(!0);let r=i.map(o=>Fl(()=>{let s=ao(n)??e,a=Hi(o,s),l=bC(a)?a.canActivate(n,t):Me(s,()=>a(n,t));return _n(l).pipe(on())}));return C(r).pipe(ji())}function OC(t,n,e){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>gC(s)).filter(s=>s!==null).map(s=>Fl(()=>{let a=s.guards.map(l=>{let c=ao(s.node)??e,u=Hi(l,c),d=EC(u)?u.canActivateChild(i,t):Me(c,()=>u(i,t));return _n(d).pipe(on())});return C(a).pipe(ji())}));return C(o).pipe(ji())}function PC(t,n,e,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return C(!0);let s=o.map(a=>{let l=ao(n)??r,c=Hi(a,l),u=CC(c)?c.canDeactivate(t,n,e,i):Me(l,()=>c(t,n,e,i));return _n(u).pipe(on())});return C(s).pipe(ji())}function NC(t,n,e,i){let r=n.canLoad;if(r===void 0||r.length===0)return C(!0);let o=r.map(s=>{let a=Hi(s,t),l=yC(a)?a.canLoad(n,e):Me(t,()=>a(n,e));return _n(l)});return C(o).pipe(ji(),gg(i))}function gg(t){return pf(Ae(n=>{if(typeof n!="boolean")throw Zs(t,n)}),U(n=>n===!0))}function xC(t,n,e,i){let r=n.canMatch;if(!r||r.length===0)return C(!0);let o=r.map(s=>{let a=Hi(s,t),l=wC(a)?a.canMatch(n,e):Me(t,()=>a(n,e));return _n(l)});return C(o).pipe(ji(),gg(i))}var io=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},ro=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Ni(t){return Rr(new io(t))}function MC(t){return Rr(new B(4e3,!1))}function LC(t){return Rr(hg(!1,Ze.GuardRejected))}var Fc=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return C(i);if(r.numberOfChildren>1||!r.children[A])return MC(`${n.redirectTo}`);r=r.children[A]}}applyRedirectCommands(n,e,i,r,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:g,title:v}=r,b=Me(o,()=>a({params:f,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:v}));if(b instanceof Wt)throw new ro(b);e=b}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e[0]==="/")throw new ro(s);return s}applyRedirectCreateUrlTree(n,e,i,r){let o=this.createSegmentGroup(n,e.root,i,r);return new Wt(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){let o=this.createSegments(n,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new G(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new B(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}},$c={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FC(t,n,e,i,r){let o=mg(t,n,e);return o.matched?(i=rC(n,i),xC(i,n,e,r).pipe(U(s=>s===!0?o:_({},$c)))):C(o)}function mg(t,n,e){if(n.path==="**")return $C(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?_({},$c):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||PE)(e,t,n);if(!r)return _({},$c);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?_(_({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function $C(t){return{matched:!0,parameters:t.length>0?Yp(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function jp(t,n,e,i){return e.length>0&&BC(t,e,i)?{segmentGroup:new G(n,UC(i,new G(e,t.children))),slicedSegments:[]}:e.length===0&&jC(t,e,i)?{segmentGroup:new G(t.segments,VC(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new G(t.segments,t.children),slicedSegments:e}}function VC(t,n,e,i){let r={};for(let o of e)if(ia(t,n,o)&&!i[gt(o)]){let s=new G([],{});r[gt(o)]=s}return _(_({},i),r)}function UC(t,n){let e={};e[A]=n;for(let i of t)if(i.path===""&&gt(i)!==A){let r=new G([],{});e[gt(i)]=r}return e}function BC(t,n,e){return e.some(i=>ia(t,n,i)&&gt(i)!==A)}function jC(t,n,e){return e.some(i=>ia(t,n,i))}function ia(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function WC(t,n,e){return n.length===0&&!t.children[e]}var Vc=class{};function HC(t,n,e,i,r,o,s="emptyOnly"){return new Uc(t,n,e,i,r,s,o).recognize()}var zC=31,Uc=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,i,r,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Fc(this.urlSerializer,this.urlTree)}noMatchError(n){return new B(4002,`'${n.segmentGroup}'`)}recognize(){let n=jp(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(U(({children:e,rootSnapshot:i})=>{let r=new Xe(i,e),o=new Xs("",r),s=JE(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new Li([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),A,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,A,e).pipe(U(i=>({children:i,rootSnapshot:e})),vi(i=>{if(i instanceof ro)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof io?this.noMatchError(i):i}))}processSegmentGroup(n,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,e,i,o):this.processSegment(n,e,i,i.segments,r,!0,o).pipe(U(s=>s instanceof Xe?[s]:[]))}processChildren(n,e,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Ee(o).pipe(rn(s=>{let a=i.children[s],l=oC(e,s);return this.processSegmentGroup(n,l,a,s,r)}),wf((s,a)=>(s.push(...a),s)),$l(null),Cf(),Ye(s=>{if(s===null)return Ni(i);let a=_g(s);return GC(a),C(a)}))}processSegment(n,e,i,r,o,s,a){return Ee(e).pipe(rn(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,i,r,o,s,a).pipe(vi(c=>{if(c instanceof io)return C(null);throw c}))),on(l=>!!l),vi(l=>{if(pg(l))return WC(i,r,o)?C(new Vc):Ni(i);throw l}))}processSegmentAgainstRoute(n,e,i,r,o,s,a,l){return gt(i)!==s&&(s===A||!ia(r,o,i))?Ni(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,s,l):Ni(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=mg(e,r,o);if(!l)return Ni(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zC&&(this.allowRedirects=!1));let f=new Li(o,c,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Wp(r),gt(r),r.component??r._loadedComponent??null,r,Hp(r)),g=Js(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(r,v).pipe(Ye(b=>this.processSegment(n,i,e,b.concat(h),s,!1,a)))}matchSegmentAgainstRoute(n,e,i,r,o,s){let a=FC(e,i,r,n,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(Qe(l=>l.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Qe(({routes:c})=>{let u=i._loadedInjector??n,{parameters:d,consumedSegments:h,remainingSegments:f}=l,g=new Li(h,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Wp(i),gt(i),i.component??i._loadedComponent??null,i,Hp(i)),v=Js(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:b,slicedSegments:D}=jp(e,h,f,c);if(D.length===0&&b.hasChildren())return this.processChildren(u,c,b,g).pipe(U(O=>new Xe(g,O)));if(c.length===0&&D.length===0)return C(new Xe(g,[]));let V=gt(i)===o;return this.processSegment(u,c,b,D,V?A:o,!0,g).pipe(U(O=>new Xe(g,O instanceof Xe?[O]:[])))}))):Ni(e)))}getChildConfig(n,e,i){return e.children?C({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?C({routes:e._loadedRoutes,injector:e._loadedInjector}):NC(n,e,i,this.urlSerializer).pipe(Ye(r=>r?this.configLoader.loadChildren(n,e).pipe(Ae(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):LC(e))):C({routes:[],injector:n})}};function GC(t){t.sort((n,e)=>n.value.outlet===A?-1:e.value.outlet===A?1:n.value.outlet.localeCompare(e.value.outlet))}function qC(t){let n=t.value.routeConfig;return n&&n.path===""}function _g(t){let n=[],e=new Set;for(let i of t){if(!qC(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=_g(i.children);n.push(new Xe(i.value,r))}return n.filter(i=>!e.has(i))}function Wp(t){return t.data||{}}function Hp(t){return t.resolve||{}}function KC(t,n,e,i,r,o){return Ye(s=>HC(t,n,e,i,s.extractedUrl,r,o).pipe(U(({state:a,tree:l})=>K(_({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function YC(t,n){return Ye(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return C(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of vg(l))s.add(c);let a=0;return Ee(s).pipe(rn(l=>o.has(l)?QC(l,i,t,n):(l.data=Js(l,l.parent,t).resolve,C(void 0))),Ae(()=>a++),Vl(1),Ye(l=>a===s.size?C(e):nn))})}function vg(t){let n=t.children.map(e=>vg(e)).flat();return[t,...n]}function QC(t,n,e,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!ug(r)&&(o[so]=r.title),JC(o,t,n,i).pipe(U(s=>(t._resolvedData=s,t.data=Js(t,t.parent,e).resolve,null)))}function JC(t,n,e,i){let r=_c(t);if(r.length===0)return C({});let o={};return Ee(r).pipe(Ye(s=>XC(t[s],n,e,i).pipe(on(),Ae(a=>{if(a instanceof no)throw Zs(new Vi,a);o[s]=a}))),Vl(1),Ef(o),vi(s=>pg(s)?nn:Rr(s)))}function XC(t,n,e,i){let r=ao(n)??i,o=Hi(t,r),s=o.resolve?o.resolve(n,e):Me(r,()=>o(n,e));return _n(s)}function gc(t){return Qe(n=>{let e=t(n);return e?Ee(e).pipe(U(()=>n)):C(n)})}var yg=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===A);return i}getResolvedTitleForRoute(e){return e.data[so]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:()=>m(ZC),providedIn:"root"})}return t})(),ZC=(()=>{class t extends yg{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(P(Lp))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uo=new k("",{providedIn:"root",factory:()=>({})}),ew=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ie({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,r){i&1&&ae(0,"router-outlet")},dependencies:[lC],encapsulation:2})}return t})();function Wc(t){let n=t.children&&t.children.map(Wc),e=n?K(_({},t),{children:n}):_({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==A&&(e.component=ew),e}var oo=new k(""),Hc=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(As);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return C(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=_n(e.loadComponent()).pipe(U(bg),Ae(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),bi(()=>{this.componentLoaders.delete(e)})),r=new Nl(i,()=>new be).pipe(Pl());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return C({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=tw(i,this.compiler,e,this.onLoadEndListener).pipe(bi(()=>{this.childrenLoaders.delete(i)})),s=new Nl(o,()=>new be).pipe(Pl());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tw(t,n,e,i){return _n(t.loadChildren()).pipe(U(bg),Ye(r=>r instanceof Gf||Array.isArray(r)?C(r):Ee(n.compileModuleAsync(r))),U(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(oo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wc),injector:o}}))}function nw(t){return t&&typeof t=="object"&&"default"in t}function bg(t){return nw(t)?t.default:t}var zc=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:()=>m(iw),providedIn:"root"})}return t})(),iw=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Eg=new k(""),Cg=new k("");function rw(t,n,e){let i=t.get(Cg),r=t.get(le);return t.get(se).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),ow(t))),{onViewTransitionCreated:l}=i;return l&&Me(t,()=>l({transition:a,from:n,to:e})),s})}function ow(t){return new Promise(n=>{Nf({read:()=>setTimeout(n)},{injector:t})})}var wg=new k(""),ra=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new be;transitionAbortSubject=new be;configLoader=m(Hc);environmentInjector=m(Ut);urlSerializer=m(Wi);rootContexts=m(lo);location=m(xr);inputBindingEnabled=m(na,{optional:!0})!==null;titleStrategy=m(yg);options=m(uo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(zc);createViewTransition=m(Eg,{optional:!0});navigationErrorHandler=m(wg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>C(void 0);rootComponentType=null;constructor(){let e=r=>this.events.next(new Sc(r)),i=r=>this.events.next(new Tc(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(K(_(_({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new it({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Qr,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vt(o=>o.id!==0),U(o=>K(_({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Qe(o=>{let s=!1,a=!1;return C(o).pipe(Qe(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ze.SupersededByNewNavigation),nn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?K(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new gn(l.id,this.urlSerializer.serialize(l.rawUrl),d,Gs.IgnoredSameUrlNavigation)),l.resolve(!1),nn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return C(l).pipe(Qe(d=>{let h=this.transitions?.getValue();return this.events.next(new Ui(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?nn:Promise.resolve(d)}),KC(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ae(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=K(_({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new qs(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:g,extras:v}=l,b=new Ui(d,this.urlSerializer.serialize(h),f,g);this.events.next(b);let D=lg(this.rootComponentType).snapshot;return this.currentTransition=o=K(_({},l),{targetSnapshot:D,urlAfterRedirects:h,extras:K(_({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,C(o)}else{let d="";return this.events.next(new gn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Gs.IgnoredByUrlHandlingStrategy)),l.resolve(!1),nn}}),Ae(l=>{let c=new Ec(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),U(l=>(this.currentTransition=o=K(_({},l),{guards:pC(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),SC(this.environmentInjector,l=>this.events.next(l)),Ae(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Zs(this.urlSerializer,l.guardsResult);let c=new Cc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Vt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ze.GuardRejected),!1)),gc(l=>{if(l.guards.canActivateChecks.length)return C(l).pipe(Ae(c=>{let u=new wc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Qe(c=>{let u=!1;return C(c).pipe(YC(this.paramsInheritanceStrategy,this.environmentInjector),Ae({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Ze.NoDataFromResolver)}}))}),Ae(c=>{let u=new Ic(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),gc(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ae(h=>{u.component=h}),U(()=>{})));for(let h of u.children)d.push(...c(h));return d};return ys(c(l.targetSnapshot.root)).pipe($l(null),yi(1))}),gc(()=>this.afterPreactivation()),Qe(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?Ee(u).pipe(U(()=>o)):C(o)}),U(l=>{let c=cC(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=K(_({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Ae(()=>{this.events.next(new eo)}),fC(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),yi(1),Ae({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Sf(this.transitionAbortSubject.pipe(Ae(l=>{throw l}))),bi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Ze.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),vi(l=>{if(a=!0,fg(l))this.events.next(new jt(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),hC(l)?this.events.next(new Bi(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new Zr(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=Me(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof no){let{message:d,cancellationCode:h}=Zs(this.urlSerializer,u);this.events.next(new jt(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new Bi(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return nn}))}))}cancelNavigationTransition(e,i,r){let o=new jt(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sw(t){return t!==Qr}var aw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:()=>m(lw),providedIn:"root"})}return t})(),Bc=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},lw=(()=>{class t extends Bc{static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ig=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:()=>m(cw),providedIn:"root"})}return t})(),cw=(()=>{class t extends Ig{location=m(xr);urlSerializer=m(Wi);options=m(uo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=m(zc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Wt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=lg(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Ui)this.stateMemento=this.createStateMemento();else if(e instanceof gn)this.rawUrlTree=i.initialUrl;else if(e instanceof qs){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof eo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof jt&&(e.code===Ze.GuardRejected||e.code===Ze.NoDataFromResolver)?this.restoreHistory(i):e instanceof Zr?this.restoreHistory(i,!0):e instanceof mt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof Wt?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=_(_({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=_(_({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Kr||{});function Sg(t,n){t.events.pipe(Vt(e=>e instanceof mt||e instanceof jt||e instanceof Zr||e instanceof gn),U(e=>e instanceof mt||e instanceof gn?Kr.COMPLETE:(e instanceof jt?e.code===Ze.Redirect||e.code===Ze.SupersededByNewNavigation:!1)?Kr.REDIRECTING:Kr.FAILED),Vt(e=>e!==Kr.REDIRECTING),yi(1)).subscribe(()=>{n()})}var uw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ot=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(ql);stateManager=m(Ig);options=m(uo,{optional:!0})||{};pendingTasks=m(bs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(ra);urlSerializer=m(Wi);location=m(xr);urlHandlingStrategy=m(zc);_events=new be;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(aw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(oo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(na,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ff;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof jt&&i.code!==Ze.Redirect&&i.code!==Ze.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof mt)this.navigated=!0;else if(i instanceof Bi){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=_({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sw(r.source)},s);this.scheduleNavigation(a,Qr,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}fw(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=_({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Wc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=rg(h)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return og(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Kn(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Qr,null,i)}navigate(e,i={skipLocationChange:!1}){return hw(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=_({},uw):i===!1?r=_({},dw):r=i,Kn(e))return Fp(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Fp(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return Sg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hw(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new B(4008,!1)}function fw(t){return!(t instanceof eo)&&!(t instanceof Bi)}var zp=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new be;constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof mt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Kn(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:Bf(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Kn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||t)(L(Ot),L(mn),kf("tabindex"),L(an),L(kt),L(Nr))};static \u0275dir=W({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&Ue("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&H("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",w],skipLocationChange:[2,"skipLocationChange","skipLocationChange",w],replaceUrl:[2,"replaceUrl","replaceUrl",w],routerLink:"routerLink"},features:[Re]})}return t})(),hN=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ee;constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof mt&&this.update()})}ngAfterContentInit(){C(this.links.changes,C(null)).pipe(kr()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ee(e).pipe(kr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=pw(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||t)(L(Ot),L(kt),L(an),L(cn),L(zp,8))};static \u0275dir=W({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&De(o,zp,5),i&2){let s;Ce(s=we())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Re]})}return t})();function pw(t){return!!t.paths}var ta=class{};var gw=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Vt(e=>e instanceof mt),rn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Gl(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ee(r).pipe(kr())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=C(null);let o=r.pipe(Ye(s=>s===null?C(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Ee([o,s]).pipe(kr())}else return o})}static \u0275fac=function(i){return new(i||t)(P(Ot),P(As),P(Ut),P(ta),P(Hc))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gc=new k(""),Tg=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof mt?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof gn&&e.code===Gs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ks&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ks(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Hf()};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();function fN(t,...n){return Je([{provide:oo,multi:!0,useValue:t},[],{provide:mn,useFactory:Ag,deps:[Ot]},{provide:ws,multi:!0,useFactory:Rg},n.map(e=>e.\u0275providers)])}function Ag(t){return t.routerState.root}function zi(t,n){return{\u0275kind:t,\u0275providers:n}}function pN(t={}){return zi(4,[{provide:Gc,useFactory:()=>{let e=m(Jl),i=m(se),r=m(ra),o=m(Wi);return new Tg(o,r,e,i,t)}}])}function Rg(){let t=m(ke);return n=>{let e=t.get(Is);if(n!==e.components[0])return;let i=t.get(Ot),r=t.get(kg);t.get(qc)===1&&i.initialNavigation(),t.get(Dg,null,Ul.Optional)?.setUpPreloading(),t.get(Gc,null,Ul.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var kg=new k("",{factory:()=>new be}),qc=new k("",{providedIn:"root",factory:()=>1});function mw(){return zi(2,[{provide:qc,useValue:0},{provide:Kl,multi:!0,deps:[ke],useFactory:n=>{let e=n.get(ap,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=n.get(Ot),o=n.get(kg);Sg(r,()=>{i(!0)}),n.get(ra).afterPreactivation=()=>(i(!0),o.closed?C(void 0):o),r.initialNavigation()}))}}])}function _w(){return zi(3,[{provide:Kl,multi:!0,useFactory:()=>{let n=m(Ot);return()=>{n.setUpLocationChangeListener()}}},{provide:qc,useValue:2}])}var Dg=new k("");function vw(t){return zi(0,[{provide:Dg,useExisting:gw},{provide:ta,useExisting:t}])}function yw(){return zi(8,[Bp,{provide:na,useExisting:Bp}])}function bw(t){let n=[{provide:Eg,useValue:rw},{provide:Cg,useValue:_({skipNextTransition:!!t?.skipInitialTransition},t)}];return zi(9,n)}var Gp=new k("ROUTER_FORROOT_GUARD"),Ew=[xr,{provide:Wi,useClass:Vi},Ot,lo,{provide:mn,useFactory:Ag,deps:[Ot]},Hc,[]],gN=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[Ew,[],{provide:oo,multi:!0,useValue:e},{provide:Gp,useFactory:Sw,deps:[[Ot,new Ve,new Af]]},i?.errorHandler?{provide:wg,useValue:i.errorHandler}:[],{provide:uo,useValue:i||{}},i?.useHash?ww():Iw(),Cw(),i?.preloadingStrategy?vw(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Tw(i):[],i?.bindToComponentInputs?yw().\u0275providers:[],i?.enableViewTransitions?bw().\u0275providers:[],Aw()]}}static forChild(e){return{ngModule:t,providers:[{provide:oo,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||t)(P(Gp,8))};static \u0275mod=te({type:t});static \u0275inj=Z({})}return t})();function Cw(){return{provide:Gc,useFactory:()=>{let t=m(Jl),n=m(se),e=m(uo),i=m(ra),r=m(Wi);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Tg(r,i,t,n,e)}}}function ww(){return{provide:Nr,useClass:cp}}function Iw(){return{provide:Nr,useClass:lp}}function Sw(t){return"guarded"}function Tw(t){return[t.initialNavigation==="disabled"?_w().\u0275providers:[],t.initialNavigation==="enabledBlocking"?mw().\u0275providers:[]]}var qp=new k("");function Aw(){return[{provide:qp,useFactory:Rg},{provide:ws,multi:!0,useExisting:qp}]}function Pg(t,n){return t?t.classList?t.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(t.className):!1}function vn(t,n){if(t&&n){let e=i=>{Pg(t,i)||(t.classList?t.classList.add(i):t.className+=" "+i)};[n].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(e))}}function Rw(){return window.innerWidth-document.documentElement.offsetWidth}function Gi(t){for(let n of document?.styleSheets)try{for(let e of n?.cssRules)for(let i of e?.style)if(t.test(i))return{name:i,value:e.style.getPropertyValue(i).trim()}}catch{}return null}function yN(t="p-overflow-hidden"){let n=Gi(/-scrollbar-width$/);n?.name&&document.body.style.setProperty(n.name,Rw()+"px"),vn(document.body,t)}function Yn(t,n){if(t&&n){let e=i=>{t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")};[n].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(e))}}function bN(t="p-overflow-hidden"){let n=Gi(/-scrollbar-width$/);n?.name&&document.body.style.removeProperty(n.name),Yn(document.body,t)}function Ng(t){let n={width:0,height:0};return t&&(t.style.visibility="hidden",t.style.display="block",n.width=t.offsetWidth,n.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible"),n}function Yc(){let t=window,n=document,e=n.documentElement,i=n.getElementsByTagName("body")[0],r=t.innerWidth||e.clientWidth||i.clientWidth,o=t.innerHeight||e.clientHeight||i.clientHeight;return{width:r,height:o}}function kw(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}function Dw(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}function EN(t,n,e=!0){var i,r,o,s;if(t){let a=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:Ng(t),l=a.height,c=a.width,u=n.offsetHeight,d=n.offsetWidth,h=n.getBoundingClientRect(),f=Dw(),g=kw(),v=Yc(),b,D,V="top";h.top+u+l>v.height?(b=h.top+f-l,V="bottom",b<0&&(b=f)):b=u+h.top+f,h.left+c>v.width?D=Math.max(0,h.left+g+d-c):D=h.left+g,t.style.top=b+"px",t.style.left=D+"px",t.style.transformOrigin=V,e&&(t.style.marginTop=V==="bottom"?`calc(${(r=(i=Gi(/-anchor-gutter$/))==null?void 0:i.value)!=null?r:"2px"} * -1)`:(s=(o=Gi(/-anchor-gutter$/))==null?void 0:o.value)!=null?s:"")}}function Ow(t,n){t&&(typeof n=="string"?t.style.cssText=n:Object.entries(n||{}).forEach(([e,i])=>t.style[e]=i))}function Qc(t,n){if(t instanceof HTMLElement){let e=t.offsetWidth;if(n){let i=getComputedStyle(t);e+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return e}return 0}function CN(t,n,e=!0){var i,r,o,s;if(t){let a=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:Ng(t),l=n.offsetHeight,c=n.getBoundingClientRect(),u=Yc(),d,h,f="top";c.top+l+a.height>u.height?(d=-1*a.height,f="bottom",c.top+d<0&&(d=-1*c.top)):d=l,a.width>u.width?h=c.left*-1:c.left+a.width>u.width?h=(c.left+a.width-u.width)*-1:h=0,t.style.top=d+"px",t.style.left=h+"px",t.style.transformOrigin=f,e&&(t.style.marginTop=f==="bottom"?`calc(${(r=(i=Gi(/-anchor-gutter$/))==null?void 0:i.value)!=null?r:"2px"} * -1)`:(s=(o=Gi(/-anchor-gutter$/))==null?void 0:o.value)!=null?s:"")}}function ho(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}function Jc(t){let n=t;return t&&typeof t=="object"&&(t.hasOwnProperty("current")?n=t.current:t.hasOwnProperty("el")&&(t.el.hasOwnProperty("nativeElement")?n=t.el.nativeElement:n=t.el)),ho(n)?n:void 0}function wN(t,n){let e=Jc(t);if(e)e.appendChild(n);else throw new Error("Cannot append "+n+" to "+t)}var Kc=void 0;function Og(t){if(t){let n=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth)}else{if(Kc!=null)return Kc;let n=document.createElement("div");Ow(n,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(n);let e=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),Kc=e,e}}function oa(t,n={}){if(ho(t)){let e=(i,r)=>{var o,s;let a=(o=t?.$attrs)!=null&&o[i]?[(s=t?.$attrs)==null?void 0:s[i]]:[];return[r].flat().reduce((l,c)=>{if(c!=null){let u=typeof c;if(u==="string"||u==="number")l.push(c);else if(u==="object"){let d=Array.isArray(c)?e(i,c):Object.entries(c).map(([h,f])=>i==="style"&&(f||f===0)?`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`:f?h:void 0);l=d.length?l.concat(d.filter(h=>!!h)):l}}return l},a)};Object.entries(n).forEach(([i,r])=>{if(r!=null){let o=i.match(/^on(.+)/);o?t.addEventListener(o[1].toLowerCase(),r):i==="p-bind"||i==="pBind"?oa(t,r):(r=i==="class"?[...new Set(e("class",r))].join(" ").trim():i==="style"?e("style",r).join(";").trim():r,(t.$attrs=t.$attrs||{})&&(t.$attrs[i]=r),t.setAttribute(i,r))}})}}function IN(t,n={},...e){if(t){let i=document.createElement(t);return oa(i,n),i.append(...e),i}}function SN(t,n){if(t){t.style.opacity="0";let e=+new Date,i="0",r=function(){i=`${+t.style.opacity+(new Date().getTime()-e)/n}`,t.style.opacity=i,e=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16))};r()}}function Pw(t,n){return ho(t)?Array.from(t.querySelectorAll(n)):[]}function qi(t,n){return ho(t)?t.matches(n)?t:t.querySelector(n):null}function TN(t,n){t&&document.activeElement!==t&&t.focus(n)}function xg(t,n=""){let e=Pw(t,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
            [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n}`),i=[];for(let r of e)getComputedStyle(r).display!="none"&&getComputedStyle(r).visibility!="hidden"&&i.push(r);return i}function AN(t,n){let e=xg(t,n);return e.length>0?e[0]:null}function Xc(t){if(t){let n=t.offsetHeight,e=getComputedStyle(t);return n-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),n}return 0}function Nw(t){if(t){t.style.visibility="hidden",t.style.display="block";let n=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",n}return 0}function xw(t){if(t){t.style.visibility="hidden",t.style.display="block";let n=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",n}return 0}function Mg(t){if(t){let n=t.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n}return null}function RN(t){var n;if(t){let e=(n=Mg(t))==null?void 0:n.childNodes,i=0;if(e)for(let r=0;r<e.length;r++){if(e[r]===t)return i;e[r].nodeType===1&&i++}}return-1}function kN(t,n){let e=xg(t,n);return e.length>0?e[e.length-1]:null}function Zc(t){if(t){let n=t.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function sa(t,n){if(t){let e=t.offsetHeight;if(n){let i=getComputedStyle(t);e+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return e}return 0}function DN(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString()}function Mw(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&Mg(t))}function ON(t,n){var e;if(t)switch(t){case"document":return document;case"window":return window;case"body":return document.body;case"@next":return n?.nextElementSibling;case"@prev":return n?.previousElementSibling;case"@parent":return n?.parentElement;case"@grandparent":return(e=n?.parentElement)==null?void 0:e.parentElement;default:if(typeof t=="string")return document.querySelector(t);let r=Jc((o=>!!(o&&o.constructor&&o.call&&o.apply))(t)?t():t);return r?.nodeType===9||Mw(r)?r:void 0}}function eu(t){if(t){let n=t.offsetWidth,e=getComputedStyle(t);return n-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),n}return 0}function PN(t){return!!(t&&t.offsetParent!=null)}function NN(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function xN(t,n){var e,i;if(t){let r=t.parentElement,o=Zc(r),s=Yc(),a=t.offsetParent?t.offsetWidth:xw(t),l=t.offsetParent?t.offsetHeight:Nw(t),c=Qc((e=r?.children)==null?void 0:e[0]),u=sa((i=r?.children)==null?void 0:i[0]),d="",h="";o.left+c+a>s.width-Og()?o.left<a?n%2===1?d=o.left?"-"+o.left+"px":"100%":n%2===0&&(d=s.width-a-Og()+"px"):d="-100%":d="100%",t.getBoundingClientRect().top+u+l>s.height?h=`-${l-u}px`:h="0px",t.style.top=h,t.style.left=d}}function Lg(t){var n;t&&("remove"in Element.prototype?t.remove():(n=t.parentNode)==null||n.removeChild(t))}function MN(t,n){let e=Jc(t);if(e)e.removeChild(n);else throw new Error("Cannot remove "+n+" from "+t)}function LN(t,n){let e=getComputedStyle(t).getPropertyValue("borderTopWidth"),i=e?parseFloat(e):0,r=getComputedStyle(t).getPropertyValue("paddingTop"),o=r?parseFloat(r):0,s=t.getBoundingClientRect(),l=n.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-i-o,c=t.scrollTop,u=t.clientHeight,d=sa(n);l<0?t.scrollTop=c+l:l+d>u&&(t.scrollTop=c+l-u+d)}function Fg(t,n="",e){ho(t)&&e!==null&&e!==void 0&&t.setAttribute(n,e)}function $g(){let t=new Map;return{on(n,e){let i=t.get(n);return i?i.push(e):i=[e],t.set(n,i),this},off(n,e){let i=t.get(n);return i&&i.splice(i.indexOf(e)>>>0,1),this},emit(n,e){let i=t.get(n);i&&i.slice().map(r=>{r(e)})},clear(){t.clear()}}}var Lw=Object.defineProperty,Vg=Object.getOwnPropertySymbols,Fw=Object.prototype.hasOwnProperty,$w=Object.prototype.propertyIsEnumerable,Ug=(t,n,e)=>n in t?Lw(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,Vw=(t,n)=>{for(var e in n||(n={}))Fw.call(n,e)&&Ug(t,e,n[e]);if(Vg)for(var e of Vg(n))$w.call(n,e)&&Ug(t,e,n[e]);return t};function Oe(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&typeof t=="object"&&Object.keys(t).length===0}function tu(t,n,e=new WeakSet){if(t===n)return!0;if(!t||!n||typeof t!="object"||typeof n!="object"||e.has(t)||e.has(n))return!1;e.add(t).add(n);let i=Array.isArray(t),r=Array.isArray(n),o,s,a;if(i&&r){if(s=t.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!tu(t[o],n[o],e))return!1;return!0}if(i!=r)return!1;let l=t instanceof Date,c=n instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==n.getTime();let u=t instanceof RegExp,d=n instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==n.toString();let h=Object.keys(t);if(s=h.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,h[o]))return!1;for(o=s;o--!==0;)if(a=h[o],!tu(t[a],n[a],e))return!1;return!0}function Uw(t,n){return tu(t,n)}function jg(t){return!!(t&&t.constructor&&t.call&&t.apply)}function J(t){return!Oe(t)}function yn(t,n){if(!t||!n)return null;try{let e=t[n];if(J(e))return e}catch{}if(Object.keys(t).length){if(jg(n))return n(t);if(n.indexOf(".")===-1)return t[n];{let e=n.split("."),i=t;for(let r=0,o=e.length;r<o;++r){if(i==null)return null;i=i[e[r]]}return i}}return null}function Pt(t,n,e){return e?yn(t,e)===yn(n,e):Uw(t,n)}function Wg(t,n){if(t!=null&&n&&n.length){for(let e of n)if(Pt(t,e))return!0}return!1}function UN(t,n){let e=-1;if(J(t))try{e=t.findLastIndex(n)}catch{e=t.lastIndexOf([...t].reverse().find(n))}return e}function _t(t,n=!0){return t instanceof Object&&t.constructor===Object&&(n||Object.keys(t).length!==0)}function at(t,...n){return jg(t)?t(...n):t}function bn(t,n=!0){return typeof t=="string"&&(n||t!=="")}function Bg(t){return bn(t)?t.replace(/(-|_)/g,"").toLowerCase():t}function aa(t,n="",e={}){let i=Bg(n).split("."),r=i.shift();return r?_t(t)?aa(at(t[Object.keys(t).find(o=>Bg(o)===r)||""],e),i.join("."),e):void 0:at(t,e)}function la(t,n=!0){return Array.isArray(t)&&(n||t.length!==0)}function BN(t){return t instanceof Date&&t.constructor===Date}function Hg(t){return J(t)&&!isNaN(t)}function jN(t=""){return J(t)&&t.length===1&&!!t.match(/\S| /)}function et(t,n){if(n){let e=n.test(t);return n.lastIndex=0,e}return!1}function Qn(...t){let n=(e={},i={})=>{let r=Vw({},e);return Object.keys(i).forEach(o=>{_t(i[o])&&o in e&&_t(e[o])?r[o]=n(e[o],i[o]):r[o]=i[o]}),r};return t.reduce((e,i,r)=>r===0?i:n(e,i),{})}function Jn(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function tt(t){if(t&&/[\xC0-\xFF\u0100-\u017E]/.test(t)){let e={A:/[\xC0-\xC5\u0100\u0102\u0104]/g,AE:/[\xC6]/g,C:/[\xC7\u0106\u0108\u010A\u010C]/g,D:/[\xD0\u010E\u0110]/g,E:/[\xC8-\xCB\u0112\u0114\u0116\u0118\u011A]/g,G:/[\u011C\u011E\u0120\u0122]/g,H:/[\u0124\u0126]/g,I:/[\xCC-\xCF\u0128\u012A\u012C\u012E\u0130]/g,IJ:/[\u0132]/g,J:/[\u0134]/g,K:/[\u0136]/g,L:/[\u0139\u013B\u013D\u013F\u0141]/g,N:/[\xD1\u0143\u0145\u0147\u014A]/g,O:/[\xD2-\xD6\xD8\u014C\u014E\u0150]/g,OE:/[\u0152]/g,R:/[\u0154\u0156\u0158]/g,S:/[\u015A\u015C\u015E\u0160]/g,T:/[\u0162\u0164\u0166]/g,U:/[\xD9-\xDC\u0168\u016A\u016C\u016E\u0170\u0172]/g,W:/[\u0174]/g,Y:/[\xDD\u0176\u0178]/g,Z:/[\u0179\u017B\u017D]/g,a:/[\xE0-\xE5\u0101\u0103\u0105]/g,ae:/[\xE6]/g,c:/[\xE7\u0107\u0109\u010B\u010D]/g,d:/[\u010F\u0111]/g,e:/[\xE8-\xEB\u0113\u0115\u0117\u0119\u011B]/g,g:/[\u011D\u011F\u0121\u0123]/g,i:/[\xEC-\xEF\u0129\u012B\u012D\u012F\u0131]/g,ij:/[\u0133]/g,j:/[\u0135]/g,k:/[\u0137,\u0138]/g,l:/[\u013A\u013C\u013E\u0140\u0142]/g,n:/[\xF1\u0144\u0146\u0148\u014B]/g,p:/[\xFE]/g,o:/[\xF2-\xF6\xF8\u014D\u014F\u0151]/g,oe:/[\u0153]/g,r:/[\u0155\u0157\u0159]/g,s:/[\u015B\u015D\u015F\u0161]/g,t:/[\u0163\u0165\u0167]/g,u:/[\xF9-\xFC\u0169\u016B\u016D\u016F\u0171\u0173]/g,w:/[\u0175]/g,y:/[\xFD\xFF\u0177]/g,z:/[\u017A\u017C\u017E]/g};for(let i in e)t=t.replace(e[i],i)}return t}function ca(t){return bn(t)?t.replace(/(_)/g,"-").replace(/[A-Z]/g,(n,e)=>e===0?n:"-"+n.toLowerCase()).toLowerCase():t}function nu(t){return bn(t)?t.replace(/[A-Z]/g,(n,e)=>e===0?n:"."+n.toLowerCase()).toLowerCase():t}var ua={};function fo(t="pui_id_"){return ua.hasOwnProperty(t)||(ua[t]=0),ua[t]++,`${t}${ua[t]}`}function Bw(){let t=[],n=(s,a,l=999)=>{let c=r(s,a,l),u=c.value+(c.key===s?0:l)+1;return t.push({key:s,value:u}),u},e=s=>{t=t.filter(a=>a.value!==s)},i=(s,a)=>r(s,a).value,r=(s,a,l=0)=>[...t].reverse().find(c=>a?!0:c.key===s)||{key:s,value:l},o=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:o,set:(s,a,l)=>{a&&(a.style.zIndex=String(n(s,!0,l)))},clear:s=>{s&&(e(o(s)),s.style.zIndex="")},getCurrent:s=>i(s,!0)}}var zN=Bw();var jw=["*"],Ww=function(t){return t[t.ACCEPT=0]="ACCEPT",t[t.REJECT=1]="REJECT",t[t.CANCEL=2]="CANCEL",t}(Ww||{}),rx=(()=>{class t{requireConfirmationSource=new be;acceptConfirmationSource=new be;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();var Pe=(()=>{class t{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return t})(),ox=(()=>{class t{static AND="and";static OR="or"}return t})(),sx=(()=>{class t{filter(e,i,r,o,s){let a=[];if(e)for(let l of e)for(let c of i){let u=yn(l,c);if(this.filters[o](u,r,s)){a.push(l);break}}return a}filters={startsWith:(e,i,r)=>{if(i==null||i.trim()==="")return!0;if(e==null)return!1;let o=tt(i.toString()).toLocaleLowerCase(r);return tt(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(e==null)return!1;let o=tt(i.toString()).toLocaleLowerCase(r);return tt(e.toString()).toLocaleLowerCase(r).indexOf(o)!==-1},notContains:(e,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(e==null)return!1;let o=tt(i.toString()).toLocaleLowerCase(r);return tt(e.toString()).toLocaleLowerCase(r).indexOf(o)===-1},endsWith:(e,i,r)=>{if(i==null||i.trim()==="")return!0;if(e==null)return!1;let o=tt(i.toString()).toLocaleLowerCase(r),s=tt(e.toString()).toLocaleLowerCase(r);return s.indexOf(o,s.length-o.length)!==-1},equals:(e,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()===i.getTime():e==i?!0:tt(e.toString()).toLocaleLowerCase(r)==tt(i.toString()).toLocaleLowerCase(r),notEquals:(e,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!1:e==null?!0:e.getTime&&i.getTime?e.getTime()!==i.getTime():e==i?!1:tt(e.toString()).toLocaleLowerCase(r)!=tt(i.toString()).toLocaleLowerCase(r),in:(e,i)=>{if(i==null||i.length===0)return!0;for(let r=0;r<i.length;r++)if(Pt(e,i[r]))return!0;return!1},between:(e,i)=>i==null||i[0]==null||i[1]==null?!0:e==null?!1:e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1],lt:(e,i,r)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()<i.getTime():e<i,lte:(e,i,r)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i,gt:(e,i,r)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()>i.getTime():e>i,gte:(e,i,r)=>i==null?!0:e==null?!1:e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i,is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>i==null?!0:e==null?!1:e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>i==null?!0:e==null?!1:e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>i==null?!0:e==null?!1:e.getTime()<i.getTime(),dateAfter:(e,i)=>i==null?!0:e==null?!1:(e.setHours(0,0,0,0),e.getTime()>i.getTime())};register(e,i){this.filters[e]=i}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ax=(()=>{class t{messageSource=new be;clearSource=new be;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})(),lx=(()=>{class t{clickSource=new be;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var cx=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ie({type:t,selectors:[["p-footer"]],standalone:!1,ngContentSelectors:jw,decls:1,vars:0,template:function(i,r){i&1&&(Ti(),Ai(0))},encapsulation:2})}return t})(),En=(()=>{class t{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||t)(L(jf))};static \u0275dir=W({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return t})(),Se=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=Z({imports:[Ge]})}return t})(),ux=(()=>{class t{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return t})();var Hw=Object.defineProperty,zw=Object.defineProperties,Gw=Object.getOwnPropertyDescriptors,da=Object.getOwnPropertySymbols,qg=Object.prototype.hasOwnProperty,Kg=Object.prototype.propertyIsEnumerable,zg=(t,n,e)=>n in t?Hw(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,re=(t,n)=>{for(var e in n||(n={}))qg.call(n,e)&&zg(t,e,n[e]);if(da)for(var e of da(n))Kg.call(n,e)&&zg(t,e,n[e]);return t},Yi=(t,n)=>zw(t,Gw(n)),Ht=(t,n)=>{var e={};for(var i in t)qg.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&da)for(var i of da(t))n.indexOf(i)<0&&Kg.call(t,i)&&(e[i]=t[i]);return e};var qw=$g(),nt=qw;function Gg(t,n){la(t)?t.push(...n||[]):_t(t)&&Object.assign(t,n)}function Kw(t){return _t(t)&&t.hasOwnProperty("value")&&t.hasOwnProperty("type")?t.value:t}function Yw(t){return t.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function iu(t="",n=""){return Yw(`${bn(t,!1)&&bn(n,!1)?`${t}-`:t}${n}`)}function Yg(t="",n=""){return`--${iu(t,n)}`}function Qw(t=""){let n=(t.match(/{/g)||[]).length,e=(t.match(/}/g)||[]).length;return(n+e)%2!==0}function Qg(t,n="",e="",i=[],r){if(bn(t)){let o=/{([^}]*)}/g,s=t.trim();if(Qw(s))return;if(et(s,o)){let a=s.replaceAll(o,u=>{let h=u.replace(/{|}/g,"").split(".").filter(f=>!i.some(g=>et(f,g)));return`var(${Yg(e,ca(h.join("-")))}${J(r)?`, ${r}`:""})`}),l=/(\d+\s+[\+\-\*\/]\s+\d+)/g,c=/var\([^)]+\)/g;return et(a.replace(c,"0"),l)?`calc(${a})`:a}return s}else if(Hg(t))return t}function Jw(t,n,e){bn(n,!1)&&t.push(`${n}:${e};`)}function Ki(t,n){return t?`${t}{${n}}`:""}var Qi=(...t)=>Xw($.getTheme(),...t),Xw=(t={},n,e,i)=>{if(n){let{variable:r,options:o}=$.defaults||{},{prefix:s,transform:a}=t?.options||o||{},c=et(n,/{([^}]*)}/g)?n:`{${n}}`;return i==="value"||Oe(i)&&a==="strict"?$.getTokenValue(n):Qg(c,void 0,s,[r.excludedKeyRegex],e)}return""};var Zw=(t={})=>{let{preset:n,options:e}=t;return{preset(i){return n=n?Qn(n,i):i,this},options(i){return e=e?re(re({},e),i):i,this},primaryPalette(i){let{semantic:r}=n||{};return n=Yi(re({},n),{semantic:Yi(re({},r),{primary:i})}),this},surfacePalette(i){var r,o;let{semantic:s}=n||{},a=i?.hasOwnProperty("light")?i?.light:i,l=i?.hasOwnProperty("dark")?i?.dark:i,c={colorScheme:{light:re(re({},(r=s?.colorScheme)==null?void 0:r.light),!!a&&{surface:a}),dark:re(re({},(o=s?.colorScheme)==null?void 0:o.dark),!!l&&{surface:l})}};return n=Yi(re({},n),{semantic:re(re({},s),c)}),this},define({useDefaultPreset:i=!1,useDefaultOptions:r=!1}={}){return{preset:i?$.getPreset():n,options:r?$.getOptions():e}},update({mergePresets:i=!0,mergeOptions:r=!0}={}){let o={preset:i?Qn($.getPreset(),n):n,options:r?re(re({},$.getOptions()),e):e};return $.setTheme(o),o},use(i){let r=this.define(i);return $.setTheme(r),r}}};function eI(t,n={}){let e=$.defaults.variable,{prefix:i=e.prefix,selector:r=e.selector,excludedKeyRegex:o=e.excludedKeyRegex}=n,s=(c,u="")=>Object.entries(c).reduce((d,[h,f])=>{let g=et(h,o)?iu(u):iu(u,ca(h)),v=Kw(f);if(_t(v)){let{variables:b,tokens:D}=s(v,g);Gg(d.tokens,D),Gg(d.variables,b)}else d.tokens.push((i?g.replace(`${i}-`,""):g).replaceAll("-",".")),Jw(d.variables,Yg(g),Qg(v,g,i,[o]));return d},{variables:[],tokens:[]}),{variables:a,tokens:l}=s(t,i);return{value:a,tokens:l,declarations:a.join(""),css:Ki(r,a.join(""))}}var vt={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(t){return{type:"class",selector:t,matched:this.pattern.test(t.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(t){return{type:"attr",selector:`:root${t}`,matched:this.pattern.test(t.trim())}}},media:{pattern:/^@media (.*)$/,resolve(t){return{type:"media",selector:`${t}{:root{[CSS]}}`,matched:this.pattern.test(t.trim())}}},system:{pattern:/^system$/,resolve(t){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(t.trim())}}},custom:{resolve(t){return{type:"custom",selector:t,matched:!0}}}},resolve(t){let n=Object.keys(this.rules).filter(e=>e!=="custom").map(e=>this.rules[e]);return[t].flat().map(e=>{var i;return(i=n.map(r=>r.resolve(e)).find(r=>r.matched))!=null?i:this.rules.custom.resolve(e)})}},_toVariables(t,n){return eI(t,{prefix:n?.prefix})},getCommon({name:t="",theme:n={},params:e,set:i,defaults:r}){var o,s,a,l,c,u,d;let{preset:h,options:f}=n,g,v,b,D,V,O,oe;if(J(h)&&f.transform!=="strict"){let{primitive:$e,semantic:He,extend:At}=h,Vn=He||{},{colorScheme:en}=Vn,_i=Ht(Vn,["colorScheme"]),cs=At||{},{colorScheme:us}=cs,Tr=Ht(cs,["colorScheme"]),Ar=en||{},{dark:ds}=Ar,hs=Ht(Ar,["dark"]),fs=us||{},{dark:ps}=fs,gs=Ht(fs,["dark"]),ms=J($e)?this._toVariables({primitive:$e},f):{},_s=J(_i)?this._toVariables({semantic:_i},f):{},vs=J(hs)?this._toVariables({light:hs},f):{},cf=J(ds)?this._toVariables({dark:ds},f):{},uf=J(Tr)?this._toVariables({semantic:Tr},f):{},df=J(gs)?this._toVariables({light:gs},f):{},hf=J(ps)?this._toVariables({dark:ps},f):{},[bb,Eb]=[(o=ms.declarations)!=null?o:"",ms.tokens],[Cb,wb]=[(s=_s.declarations)!=null?s:"",_s.tokens||[]],[Ib,Sb]=[(a=vs.declarations)!=null?a:"",vs.tokens||[]],[Tb,Ab]=[(l=cf.declarations)!=null?l:"",cf.tokens||[]],[Rb,kb]=[(c=uf.declarations)!=null?c:"",uf.tokens||[]],[Db,Ob]=[(u=df.declarations)!=null?u:"",df.tokens||[]],[Pb,Nb]=[(d=hf.declarations)!=null?d:"",hf.tokens||[]];g=this.transformCSS(t,bb,"light","variable",f,i,r),v=Eb;let xb=this.transformCSS(t,`${Cb}${Ib}`,"light","variable",f,i,r),Mb=this.transformCSS(t,`${Tb}`,"dark","variable",f,i,r);b=`${xb}${Mb}`,D=[...new Set([...wb,...Sb,...Ab])];let Lb=this.transformCSS(t,`${Rb}${Db}color-scheme:light`,"light","variable",f,i,r),Fb=this.transformCSS(t,`${Pb}color-scheme:dark`,"dark","variable",f,i,r);V=`${Lb}${Fb}`,O=[...new Set([...kb,...Ob,...Nb])],oe=at(h.css,{dt:Qi})}return{primitive:{css:g,tokens:v},semantic:{css:b,tokens:D},global:{css:V,tokens:O},style:oe}},getPreset({name:t="",preset:n={},options:e,params:i,set:r,defaults:o,selector:s}){var a,l,c;let u,d,h;if(J(n)&&e.transform!=="strict"){let f=t.replace("-directive",""),g=n,{colorScheme:v,extend:b,css:D}=g,V=Ht(g,["colorScheme","extend","css"]),O=b||{},{colorScheme:oe}=O,$e=Ht(O,["colorScheme"]),He=v||{},{dark:At}=He,Vn=Ht(He,["dark"]),en=oe||{},{dark:_i}=en,cs=Ht(en,["dark"]),us=J(V)?this._toVariables({[f]:re(re({},V),$e)},e):{},Tr=J(Vn)?this._toVariables({[f]:re(re({},Vn),cs)},e):{},Ar=J(At)?this._toVariables({[f]:re(re({},At),_i)},e):{},[ds,hs]=[(a=us.declarations)!=null?a:"",us.tokens||[]],[fs,ps]=[(l=Tr.declarations)!=null?l:"",Tr.tokens||[]],[gs,ms]=[(c=Ar.declarations)!=null?c:"",Ar.tokens||[]],_s=this.transformCSS(f,`${ds}${fs}`,"light","variable",e,r,o,s),vs=this.transformCSS(f,gs,"dark","variable",e,r,o,s);u=`${_s}${vs}`,d=[...new Set([...hs,...ps,...ms])],h=at(D,{dt:Qi})}return{css:u,tokens:d,style:h}},getPresetC({name:t="",theme:n={},params:e,set:i,defaults:r}){var o;let{preset:s,options:a}=n,l=(o=s?.components)==null?void 0:o[t];return this.getPreset({name:t,preset:l,options:a,params:e,set:i,defaults:r})},getPresetD({name:t="",theme:n={},params:e,set:i,defaults:r}){var o;let s=t.replace("-directive",""),{preset:a,options:l}=n,c=(o=a?.directives)==null?void 0:o[s];return this.getPreset({name:s,preset:c,options:l,params:e,set:i,defaults:r})},applyDarkColorScheme(t){return!(t.darkModeSelector==="none"||t.darkModeSelector===!1)},getColorSchemeOption(t,n){var e;return this.applyDarkColorScheme(t)?this.regex.resolve(t.darkModeSelector===!0?n.options.darkModeSelector:(e=t.darkModeSelector)!=null?e:n.options.darkModeSelector):[]},getLayerOrder(t,n={},e,i){let{cssLayer:r}=n;return r?`@layer ${at(r.order||"primeui",e)}`:""},getCommonStyleSheet({name:t="",theme:n={},params:e,props:i={},set:r,defaults:o}){let s=this.getCommon({name:t,theme:n,params:e,set:r,defaults:o}),a=Object.entries(i).reduce((l,[c,u])=>l.push(`${c}="${u}"`)&&l,[]).join(" ");return Object.entries(s||{}).reduce((l,[c,u])=>{if(u?.css){let d=Jn(u?.css),h=`${c}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${h}" ${a}>${d}</style>`)}return l},[]).join("")},getStyleSheet({name:t="",theme:n={},params:e,props:i={},set:r,defaults:o}){var s;let a={name:t,theme:n,params:e,set:r,defaults:o},l=(s=t.includes("-directive")?this.getPresetD(a):this.getPresetC(a))==null?void 0:s.css,c=Object.entries(i).reduce((u,[d,h])=>u.push(`${d}="${h}"`)&&u,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${t}-variables" ${c}>${Jn(l)}</style>`:""},createTokens(t={},n,e="",i="",r={}){return Object.entries(t).forEach(([o,s])=>{let a=et(o,n.variable.excludedKeyRegex)?e:e?`${e}.${nu(o)}`:nu(o),l=i?`${i}.${o}`:o;_t(s)?this.createTokens(s,n,a,l,r):(r[a]||(r[a]={paths:[],computed(c,u={}){var d,h;return this.paths.length===1?(d=this.paths[0])==null?void 0:d.computed(this.paths[0].scheme,u.binding):c&&c!=="none"?(h=this.paths.find(f=>f.scheme===c))==null?void 0:h.computed(c,u.binding):this.paths.map(f=>f.computed(f.scheme,u[f.scheme]))}}),r[a].paths.push({path:l,value:s,scheme:l.includes("colorScheme.light")?"light":l.includes("colorScheme.dark")?"dark":"none",computed(c,u={}){let d=/{([^}]*)}/g,h=s;if(u.name=this.path,u.binding||(u.binding={}),et(s,d)){let g=s.trim().replaceAll(d,D=>{var V;let O=D.replace(/{|}/g,""),oe=(V=r[O])==null?void 0:V.computed(c,u);return la(oe)&&oe.length===2?`light-dark(${oe[0].value},${oe[1].value})`:oe?.value}),v=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,b=/var\([^)]+\)/g;h=et(g.replace(b,"0"),v)?`calc(${g})`:g}return Oe(u.binding)&&delete u.binding,{colorScheme:c,path:this.path,paths:u,value:h.includes("undefined")?void 0:h}}}))}),r},getTokenValue(t,n,e){var i;let o=(l=>l.split(".").filter(u=>!et(u.toLowerCase(),e.variable.excludedKeyRegex)).join("."))(n),s=n.includes("colorScheme.light")?"light":n.includes("colorScheme.dark")?"dark":void 0,a=[(i=t[o])==null?void 0:i.computed(s)].flat().filter(l=>l);return a.length===1?a[0].value:a.reduce((l={},c)=>{let u=c,{colorScheme:d}=u,h=Ht(u,["colorScheme"]);return l[d]=h,l},void 0)},getSelectorRule(t,n,e,i){return e==="class"||e==="attr"?Ki(J(n)?`${t}${n},${t} ${n}`:t,i):Ki(t,J(n)?Ki(n,i):i)},transformCSS(t,n,e,i,r={},o,s,a){if(J(n)){let{cssLayer:l}=r;if(i!=="style"){let c=this.getColorSchemeOption(r,s);n=e==="dark"?c.reduce((u,{type:d,selector:h})=>(J(h)&&(u+=h.includes("[CSS]")?h.replace("[CSS]",n):this.getSelectorRule(h,a,d,n)),u),""):Ki(a??":root",n)}if(l){let c={name:"primeui",order:"primeui"};_t(l)&&(c.name=at(l.name,{name:t,type:i})),J(c.name)&&(n=Ki(`@layer ${c.name}`,n),o?.layerNames(c.name))}return n}return""}},$={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(t={}){let{theme:n}=t;n&&(this._theme=Yi(re({},n),{options:re(re({},this.defaults.options),n.options)}),this._tokens=vt.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var t;return((t=this.theme)==null?void 0:t.preset)||{}},get options(){var t;return((t=this.theme)==null?void 0:t.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(t){this.update({theme:t}),nt.emit("theme:change",t)},getPreset(){return this.preset},setPreset(t){this._theme=Yi(re({},this.theme),{preset:t}),this._tokens=vt.createTokens(t,this.defaults),this.clearLoadedStyleNames(),nt.emit("preset:change",t),nt.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(t){this._theme=Yi(re({},this.theme),{options:t}),this.clearLoadedStyleNames(),nt.emit("options:change",t),nt.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(t){this._layerNames.add(t)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(t){return this._loadedStyleNames.has(t)},setLoadedStyleName(t){this._loadedStyleNames.add(t)},deleteLoadedStyleName(t){this._loadedStyleNames.delete(t)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(t){return vt.getTokenValue(this.tokens,t,this.defaults)},getCommon(t="",n){return vt.getCommon({name:t,theme:this.theme,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(t="",n){let e={name:t,theme:this.theme,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return vt.getPresetC(e)},getDirective(t="",n){let e={name:t,theme:this.theme,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return vt.getPresetD(e)},getCustomPreset(t="",n,e,i){let r={name:t,preset:n,options:this.options,selector:e,params:i,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return vt.getPreset(r)},getLayerOrderCSS(t=""){return vt.getLayerOrder(t,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(t="",n,e="style",i){return vt.transformCSS(t,n,i,e,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(t="",n,e={}){return vt.getCommonStyleSheet({name:t,theme:this.theme,params:n,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(t,n,e={}){return vt.getStyleSheet({name:t,theme:this.theme,params:n,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(t){this._loadingStyles.add(t)},onStyleUpdated(t){this._loadingStyles.add(t)},onStyleLoaded(t,{name:n}){this._loadingStyles.size&&(this._loadingStyles.delete(n),nt.emit(`theme:${n}:load`,t),!this._loadingStyles.size&&nt.emit("theme:load"))}};function Ex(...t){let n=Qn($.getPreset(),...t);return $.setPreset(n),n}function Cx(t){return Zw().surfacePalette(t).update().preset}var tI=0,Jg=(()=>{class t{document=m(le);use(e,i={}){let r=!1,o=e,s=null,{immediate:a=!0,manual:l=!1,name:c=`style_${++tI}`,id:u=void 0,media:d=void 0,nonce:h=void 0,first:f=!1,props:g={}}=i;if(this.document){if(s=this.document.querySelector(`style[data-primeng-style-id="${c}"]`)||u&&this.document.getElementById(u)||this.document.createElement("style"),!s.isConnected){o=e,oa(s,{type:"text/css",media:d,nonce:h});let v=this.document.head;f&&v.firstChild?v.insertBefore(s,v.firstChild):v.appendChild(s),Fg(s,"data-primeng-style-id",c)}return s.textContent!==o&&(s.textContent=o),{id:u,name:c,el:s,css:o}}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ji={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(t){return this._loadedStyleNames.has(t)},setLoadedStyleName(t){this._loadedStyleNames.add(t)},deleteLoadedStyleName(t){this._loadedStyleNames.delete(t)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},nI=({dt:t})=>`
*,
::before,
::after {
    box-sizing: border-box;
}

/* Non ng overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* NG based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: ${t("disabled.opacity")};
}

.pi {
    font-size: ${t("icon.size")};
}

.p-icon {
    width: ${t("icon.size")};
    height: ${t("icon.size")};
}

.p-overlay-mask {
    background: ${t("mask.background")};
    color: ${t("mask.color")};
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation ${t("mask.transition.duration")} forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation ${t("mask.transition.duration")} forwards;
}
/* Temporarily disabled, distrupts PrimeNG overlay animations */
/* @keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: ${t("mask.background")};
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: ${t("mask.background")};
    }
    to {
        background: transparent;
    }
}*/

.p-iconwrapper {
    display: inline-flex;
    justify-content: center;
    align-items: center;
}
`,iI=({dt:t})=>`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: ${t("scrollbar.width")};
}

/* @todo move to baseiconstyle.ts */

.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,ue=(()=>{class t{name="base";useStyle=m(Jg);theme=void 0;css=void 0;classes={};inlineStyles={};load=(e,i={},r=o=>o)=>{let o=r(at(e,{dt:Qi}));return o?this.useStyle.use(Jn(o),_({name:this.name},i)):{}};loadCSS=(e={})=>this.load(this.css,e);loadTheme=(e={},i="")=>this.load(this.theme,e,(r="")=>$.transformCSS(e.name||this.name,`${r}${i}`));loadGlobalCSS=(e={})=>this.load(iI,e);loadGlobalTheme=(e={},i="")=>this.load(nI,e,(r="")=>$.transformCSS(e.name||this.name,`${r}${i}`));getCommonTheme=e=>$.getCommon(this.name,e);getComponentTheme=e=>$.getComponent(this.name,e);getDirectiveTheme=e=>$.getDirective(this.name,e);getPresetTheme=(e,i,r)=>$.getCustomPreset(this.name,e,i,r);getLayerOrderThemeCSS=()=>$.getLayerOrderCSS(this.name);getStyleSheet=(e="",i={})=>{if(this.css){let r=at(this.css,{dt:Qi}),o=Jn(`${r}${e}`),s=Object.entries(i).reduce((a,[l,c])=>a.push(`${l}="${c}"`)&&a,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${s}>${o}</style>`}return""};getCommonThemeStyleSheet=(e,i={})=>$.getCommonStyleSheet(this.name,e,i);getThemeStyleSheet=(e,i={})=>{let r=[$.getStyleSheet(this.name,e,i)];if(this.theme){let o=this.name==="base"?"global-style":`${this.name}-style`,s=at(this.theme,{dt:Qi}),a=Jn($.transformCSS(o,s)),l=Object.entries(i).reduce((c,[u,d])=>c.push(`${u}="${d}"`)&&c,[]).join(" ");r.push(`<style type="text/css" data-primeng-style-id="${o}" ${l}>${a}</style>`)}return r.join("")};static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rI=(()=>{class t{theme=Le(void 0);csp=Le({nonce:void 0});isThemeChanged=!1;document=m(le);baseStyle=m(ue);constructor(){Di(()=>{nt.on("theme:change",e=>{pt(()=>{this.isThemeChanged=!0,this.theme.set(e)})})}),Di(()=>{let e=this.theme();this.document&&e&&(this.isThemeChanged||this.onThemeChange(e),this.isThemeChanged=!1)})}ngOnDestroy(){$.clearLoadedStyleNames(),nt.clear()}onThemeChange(e){$.setTheme(e),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!$.isStyleNameLoaded("common")){let{primitive:e,semantic:i,global:r,style:o}=this.baseStyle.getCommonTheme?.()||{},s={nonce:this.csp?.()?.nonce};this.baseStyle.load(e?.css,_({name:"primitive-variables"},s)),this.baseStyle.load(i?.css,_({name:"semantic-variables"},s)),this.baseStyle.load(r?.css,_({name:"global-variables"},s)),this.baseStyle.loadGlobalTheme(_({name:"global-style"},s),o),$.setLoadedStyleName("common")}}setThemeConfig(e){let{theme:i,csp:r}=e||{};i&&this.theme.set(i),r&&this.csp.set(r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ru=(()=>{class t extends rI{ripple=Le(!1);platformId=m(ze);inputStyle=Le(null);inputVariant=Le(null);overlayOptions={};csp=Le({nonce:void 0});filterMatchModeOptions={text:[Pe.STARTS_WITH,Pe.CONTAINS,Pe.NOT_CONTAINS,Pe.ENDS_WITH,Pe.EQUALS,Pe.NOT_EQUALS],numeric:[Pe.EQUALS,Pe.NOT_EQUALS,Pe.LESS_THAN,Pe.LESS_THAN_OR_EQUAL_TO,Pe.GREATER_THAN,Pe.GREATER_THAN_OR_EQUAL_TO],date:[Pe.DATE_IS,Pe.DATE_IS_NOT,Pe.DATE_BEFORE,Pe.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new be;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=_(_({},this.translation),e),this.translationSource.next(this.translation)}setConfig(e){let{csp:i,ripple:r,inputStyle:o,inputVariant:s,theme:a,overlayOptions:l,translation:c}=e||{};i&&this.csp.set(i),r&&this.ripple.set(r),o&&this.inputStyle.set(o),s&&this.inputVariant.set(s),l&&(this.overlayOptions=l),c&&this.setTranslation(c),a&&this.setThemeConfig({theme:a,csp:i})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oI=new k("PRIME_NG_CONFIG");function Hx(...t){let n=t?.map(i=>({provide:oI,useValue:i,multi:!1})),e=qf(()=>{let i=m(ru);t?.forEach(r=>i.setConfig(r))});return Je([...n,e])}var Xg=()=>{};var su={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var y=function(t,n){if(!t)throw Xn(n)},Xn=function(t){return new Error("Firebase Database ("+su.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var em=function(t){let n=[],e=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?n[e++]=r:r<2048?(n[e++]=r>>6|192,n[e++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),n[e++]=r>>18|240,n[e++]=r>>12&63|128,n[e++]=r>>6&63|128,n[e++]=r&63|128):(n[e++]=r>>12|224,n[e++]=r>>6&63|128,n[e++]=r&63|128)}return n},sI=function(t){let n=[],e=0,i=0;for(;e<t.length;){let r=t[e++];if(r<128)n[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[e++];n[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[e++],s=t[e++],a=t[e++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;n[i++]=String.fromCharCode(55296+(l>>10)),n[i++]=String.fromCharCode(56320+(l&1023))}else{let o=t[e++],s=t[e++];n[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return n.join("")},er={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,n){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,a=s?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;l||(f=64,s||(h=64)),i.push(e[u],e[d],e[h],e[f])}return i.join("")},encodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(em(t),n)},decodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(t):sI(this.decodeStringToByteArray(t,n))},decodeStringToByteArray(t,n){this.init_();let e=n?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=e[t.charAt(r++)],a=r<t.length?e[t.charAt(r)]:0;++r;let c=r<t.length?e[t.charAt(r)]:64;++r;let d=r<t.length?e[t.charAt(r)]:64;if(++r,o==null||a==null||c==null||d==null)throw new au;let h=o<<2|a>>4;if(i.push(h),c!==64){let f=a<<4&240|c>>2;if(i.push(f),d!==64){let g=c<<6&192|d;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},au=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cu=function(t){let n=em(t);return er.encodeByteArray(n,!0)},po=function(t){return cu(t).replace(/\./g,"")},Xi=function(t){try{return er.decodeString(t,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function tm(t){return nm(void 0,t)}function nm(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:let e=n;return new Date(e.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return n}for(let e in n)!n.hasOwnProperty(e)||!aI(e)||(t[e]=nm(t[e],n[e]));return t}function aI(t){return t!=="__proto__"}function im(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var lI=()=>im().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let n=t&&Xi(t[1]);return n&&JSON.parse(n)},uu=()=>{try{return Xg()||lI()||cI()||uI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},du=t=>{var n,e;return(e=(n=uu())===null||n===void 0?void 0:n.emulatorHosts)===null||e===void 0?void 0:e[t]},rm=t=>{let n=du(t);if(!n)return;let e=n.lastIndexOf(":");if(e<=0||e+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);let i=parseInt(n.substring(e+1),10);return n[0]==="["?[n.substring(1,e-1),i]:[n.substring(0,e),i]},hu=()=>{var t;return(t=uu())===null||t===void 0?void 0:t.config},fu=t=>{var n;return(n=uu())===null||n===void 0?void 0:n[`_${t}`]};var lt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,e)=>{this.resolve=n,this.reject=e})}wrapCallback(n){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(e):n(e,i))}}};function om(t,n){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},i=n||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[po(JSON.stringify(e)),po(JSON.stringify(s)),""].join(".")}function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function go(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function sm(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function am(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fa(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lm(){let t=Fe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Nt(){return su.NODE_CLIENT===!0||su.NODE_ADMIN===!0}function pa(){try{return typeof indexedDB=="object"}catch{return!1}}function cm(){return new Promise((t,n)=>{try{let e=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;n(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){n(e)}})}var dI="FirebaseError",yt=class t extends Error{constructor(n,e,i){super(e),this.code=n,this.customData=i,this.name=dI,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}},bt=class{constructor(n,e,i){this.service=n,this.serviceName=e,this.errors=i}create(n,...e){let i=e[0]||{},r=`${this.service}/${n}`,o=this.errors[n],s=o?hI(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new yt(r,a,i)}};function hI(t,n){return t.replace(fI,(e,i)=>{let r=n[i];return r!=null?String(r):`<${i}?>`})}var fI=/\{\$([^}]+)}/g;function Zi(t){return JSON.parse(t)}function ye(t){return JSON.stringify(t)}var um=function(t){let n={},e={},i={},r="";try{let o=t.split(".");n=Zi(Xi(o[0])||""),e=Zi(Xi(o[1])||""),r=o[2],i=e.d||{},delete e.d}catch{}return{header:n,claims:e,data:i,signature:r}};var dm=function(t){let n=um(t),e=n.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},hm=function(t){let n=um(t).claims;return typeof n=="object"&&n.admin===!0};function Et(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function Zn(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}function mo(t){for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function _o(t,n,e){let i={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=n.call(e,t[r],r,t));return i}function xt(t,n){if(t===n)return!0;let e=Object.keys(t),i=Object.keys(n);for(let r of e){if(!i.includes(r))return!1;let o=t[r],s=n[r];if(Zg(o)&&Zg(s)){if(!xt(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!e.includes(r))return!1;return!0}function Zg(t){return t!==null&&typeof t=="object"}function ei(t){let n=[];for(let[e,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{n.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):n.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return n.length?"&"+n.join("&"):""}var ha=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,e){e||(e=0);let i=this.W_;if(typeof n=="string")for(let d=0;d<16;d++)i[d]=n.charCodeAt(e)<<24|n.charCodeAt(e+1)<<16|n.charCodeAt(e+2)<<8|n.charCodeAt(e+3),e+=4;else for(let d=0;d<16;d++)i[d]=n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3],e+=4;for(let d=16;d<80;d++){let h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);let h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(n,e){if(n==null)return;e===void 0&&(e=n.length);let i=e-this.blockSize,r=0,o=this.buf_,s=this.inbuf_;for(;r<e;){if(s===0)for(;r<=i;)this.compress_(n,r),r+=this.blockSize;if(typeof n=="string"){for(;r<e;)if(o[s]=n.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<e;)if(o[s]=n[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=e}digest(){let n=[],e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=e&255,e/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)n[i]=this.chain_[r]>>o&255,++i;return n}};function fm(t,n){let e=new lu(t,n);return e.subscribe.bind(e)}var lu=class{constructor(n,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{n(this)}).catch(i=>{this.error(i)})}next(n){this.forEachObserver(e=>{e.next(n)})}error(n){this.forEachObserver(e=>{e.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,e,i){let r;if(n===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");pI(n,["next","error","complete"])?r=n:r={next:n,error:e,complete:i},r.next===void 0&&(r.next=ou),r.error===void 0&&(r.error=ou),r.complete===void 0&&(r.complete=ou);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(n){this.observers===void 0||this.observers[n]===void 0||(delete this.observers[n],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(n){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,n)}sendOne(n,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[n]!==void 0)try{e(this.observers[n])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function pI(t,n){if(typeof t!="object"||t===null)return!1;for(let e of n)if(e in t&&typeof t[e]=="function")return!0;return!1}function ou(){}function vo(t,n){return`${t} failed: ${n} argument `}var pm=function(t){let n=[],e=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){let o=r-55296;i++,y(i<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?n[e++]=r:r<2048?(n[e++]=r>>6|192,n[e++]=r&63|128):r<65536?(n[e++]=r>>12|224,n[e++]=r>>6&63|128,n[e++]=r&63|128):(n[e++]=r>>18|240,n[e++]=r>>12&63|128,n[e++]=r>>6&63|128,n[e++]=r&63|128)}return n},yo=function(t){let n=0;for(let e=0;e<t.length;e++){let i=t.charCodeAt(e);i<128?n++:i<2048?n+=2:i>=55296&&i<=56319?(n+=4,e++):n+=3}return n};var Yx=4*60*60*1e3;function qe(t){return t&&t._delegate?t._delegate:t}var Be=class{constructor(n,e,i){this.name=n,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}};var ti="[DEFAULT]";var ga=class{constructor(n,e){this.name=n,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){let e=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(e)){let i=new lt;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(n){var e;let i=this.normalizeInstanceIdentifier(n?.identifier),r=(e=n?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(mI(n))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(let[e,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(n=ti){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}delete(){return p(this,null,function*(){let n=Array.from(this.instances.values());yield Promise.all([...n.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...n.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(n=ti){return this.instances.has(n)}getOptions(n=ti){return this.instancesOptions.get(n)||{}}initialize(n={}){let{options:e={}}=n,i=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(n,e){var i;let r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(n),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&n(s,r),()=>{o.delete(n)}}invokeOnInitCallbacks(n,e){let i=this.onInitCallbacks.get(e);if(i)for(let r of i)try{r(n,e)}catch{}}getOrInitializeService({instanceIdentifier:n,options:e={}}){let i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gI(n),options:e}),this.instances.set(n,i),this.instancesOptions.set(n,e),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch{}return i||null}normalizeInstanceIdentifier(n=ti){return this.component?this.component.multipleInstances?n:ti:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gI(t){return t===ti?void 0:t}function mI(t){return t.instantiationMode==="EAGER"}var bo=class{constructor(n){this.name=n,this.providers=new Map}addComponent(n){let e=this.getProvider(n.name);if(e.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);e.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);let e=new ga(n,this);return this.providers.set(n,e),e}getProviders(){return Array.from(this.providers.values())}};var _I=[],Y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Y||{}),vI={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},yI=Y.INFO,bI={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},EI=(t,n,...e)=>{if(n<t.logLevel)return;let i=new Date().toISOString(),r=bI[n];if(r)console[r](`[${i}]  ${t.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)},Mt=class{constructor(n){this.name=n,this._logLevel=yI,this._logHandler=EI,this._userLogHandler=null,_I.push(this)}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Y))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?vI[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...n),this._logHandler(this,Y.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...n),this._logHandler(this,Y.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...n),this._logHandler(this,Y.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...n),this._logHandler(this,Y.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...n),this._logHandler(this,Y.ERROR,...n)}};var CI=(t,n)=>n.some(e=>t instanceof e),gm,mm;function wI(){return gm||(gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function II(){return mm||(mm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var _m=new WeakMap,gu=new WeakMap,vm=new WeakMap,pu=new WeakMap,_u=new WeakMap;function SI(t){let n=new Promise((e,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{e(Lt(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return n.then(e=>{e instanceof IDBCursor&&_m.set(e,t)}).catch(()=>{}),_u.set(n,t),n}function TI(t){if(gu.has(t))return;let n=new Promise((e,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{e(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});gu.set(t,n)}var mu={get(t,n,e){if(t instanceof IDBTransaction){if(n==="done")return gu.get(t);if(n==="objectStoreNames")return t.objectStoreNames||vm.get(t);if(n==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Lt(t[n])},set(t,n,e){return t[n]=e,!0},has(t,n){return t instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in t}};function ym(t){mu=t(mu)}function AI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...e){let i=t.call(ma(this),n,...e);return vm.set(i,n.sort?n.sort():[n]),Lt(i)}:II().includes(t)?function(...n){return t.apply(ma(this),n),Lt(_m.get(this))}:function(...n){return Lt(t.apply(ma(this),n))}}function RI(t){return typeof t=="function"?AI(t):(t instanceof IDBTransaction&&TI(t),CI(t,wI())?new Proxy(t,mu):t)}function Lt(t){if(t instanceof IDBRequest)return SI(t);if(pu.has(t))return pu.get(t);let n=RI(t);return n!==t&&(pu.set(t,n),_u.set(n,t)),n}var ma=t=>_u.get(t);function Em(t,n,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(t,n),a=Lt(s);return i&&s.addEventListener("upgradeneeded",l=>{i(Lt(s.result),l.oldVersion,l.newVersion,Lt(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var kI=["get","getKey","getAll","getAllKeys","count"],DI=["put","add","delete","clear"],vu=new Map;function bm(t,n){if(!(t instanceof IDBDatabase&&!(n in t)&&typeof n=="string"))return;if(vu.get(n))return vu.get(n);let e=n.replace(/FromIndex$/,""),i=n!==e,r=DI.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||kI.includes(e)))return;let o=function(s,...a){return p(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),c=l.store;return i&&(c=c.index(a.shift())),(yield Promise.all([c[e](...a),r&&l.done]))[0]})};return vu.set(n,o),o}ym(t=>K(_({},t),{get:(n,e,i)=>bm(n,e)||t.get(n,e,i),has:(n,e)=>!!bm(n,e)||t.has(n,e)}));var bu=class{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(OI(e)){let i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}};function OI(t){let n=t.getComponent();return n?.type==="VERSION"}var Eu="@firebase/app",Cm="0.11.2";var zt=new Mt("@firebase/app"),PI="@firebase/app-compat",NI="@firebase/analytics-compat",xI="@firebase/analytics",MI="@firebase/app-check-compat",LI="@firebase/app-check",FI="@firebase/auth",$I="@firebase/auth-compat",VI="@firebase/database",UI="@firebase/data-connect",BI="@firebase/database-compat",jI="@firebase/functions",WI="@firebase/functions-compat",HI="@firebase/installations",zI="@firebase/installations-compat",GI="@firebase/messaging",qI="@firebase/messaging-compat",KI="@firebase/performance",YI="@firebase/performance-compat",QI="@firebase/remote-config",JI="@firebase/remote-config-compat",XI="@firebase/storage",ZI="@firebase/storage-compat",e0="@firebase/firestore",t0="@firebase/vertexai",n0="@firebase/firestore-compat",i0="firebase",r0="11.4.0";var Cu="[DEFAULT]",o0={[Eu]:"fire-core",[PI]:"fire-core-compat",[xI]:"fire-analytics",[NI]:"fire-analytics-compat",[LI]:"fire-app-check",[MI]:"fire-app-check-compat",[FI]:"fire-auth",[$I]:"fire-auth-compat",[VI]:"fire-rtdb",[UI]:"fire-data-connect",[BI]:"fire-rtdb-compat",[jI]:"fire-fn",[WI]:"fire-fn-compat",[HI]:"fire-iid",[zI]:"fire-iid-compat",[GI]:"fire-fcm",[qI]:"fire-fcm-compat",[KI]:"fire-perf",[YI]:"fire-perf-compat",[QI]:"fire-rc",[JI]:"fire-rc-compat",[XI]:"fire-gcs",[ZI]:"fire-gcs-compat",[e0]:"fire-fst",[n0]:"fire-fst-compat",[t0]:"fire-vertex","fire-js":"fire-js",[i0]:"fire-js-all"};var Eo=new Map,s0=new Map,wu=new Map;function wm(t,n){try{t.container.addComponent(n)}catch(e){zt.debug(`Component ${n.name} failed to register with FirebaseApp ${t.name}`,e)}}function Ct(t){let n=t.name;if(wu.has(n))return zt.debug(`There were multiple attempts to register component ${n}.`),!1;wu.set(n,t);for(let e of Eo.values())wm(e,t);for(let e of s0.values())wm(e,t);return!0}function tr(t,n){let e=t.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),t.container.getProvider(n)}function ct(t){return t==null?!1:t.settings!==void 0}var a0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cn=new bt("app","Firebase",a0);var Iu=class{constructor(n,e,i){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Be("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Cn.create("app-deleted",{appName:this._name})}};var wn=r0;function Au(t,n={}){let e=t;typeof n!="object"&&(n={name:n});let i=Object.assign({name:Cu,automaticDataCollectionEnabled:!1},n),r=i.name;if(typeof r!="string"||!r)throw Cn.create("bad-app-name",{appName:String(r)});if(e||(e=hu()),!e)throw Cn.create("no-options");let o=Eo.get(r);if(o){if(xt(e,o.options)&&xt(i,o.config))return o;throw Cn.create("duplicate-app",{appName:r})}let s=new bo(r);for(let l of wu.values())s.addComponent(l);let a=new Iu(e,i,s);return Eo.set(r,a),a}function ni(t=Cu){let n=Eo.get(t);if(!n&&t===Cu&&hu())return Au();if(!n)throw Cn.create("no-app",{appName:t});return n}function _a(){return Array.from(Eo.values())}function de(t,n,e){var i;let r=(i=o0[t])!==null&&i!==void 0?i:t;e&&(r+=`-${e}`);let o=r.match(/\s|\//),s=n.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${n}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${n}" contains illegal characters (whitespace or "/")`),zt.warn(a.join(" "));return}Ct(new Be(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}var l0="firebase-heartbeat-database",c0=1,Co="firebase-heartbeat-store",yu=null;function Am(){return yu||(yu=Em(l0,c0,{upgrade:(t,n)=>{switch(n){case 0:try{t.createObjectStore(Co)}catch(e){console.warn(e)}}}}).catch(t=>{throw Cn.create("idb-open",{originalErrorMessage:t.message})})),yu}function u0(t){return p(this,null,function*(){try{let e=(yield Am()).transaction(Co),i=yield e.objectStore(Co).get(Rm(t));return yield e.done,i}catch(n){if(n instanceof yt)zt.warn(n.message);else{let e=Cn.create("idb-get",{originalErrorMessage:n?.message});zt.warn(e.message)}}})}function Im(t,n){return p(this,null,function*(){try{let i=(yield Am()).transaction(Co,"readwrite");yield i.objectStore(Co).put(n,Rm(t)),yield i.done}catch(e){if(e instanceof yt)zt.warn(e.message);else{let i=Cn.create("idb-set",{originalErrorMessage:e?.message});zt.warn(i.message)}}})}function Rm(t){return`${t.name}!${t.options.appId}`}var d0=1024,h0=30,Su=class{constructor(n){this.container=n,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new Tu(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return p(this,null,function*(){var n,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Sm();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>h0){let s=p0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){zt.warn(i)}})}getHeartbeatsHeader(){return p(this,null,function*(){var n;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=Sm(),{heartbeatsToSend:i,unsentEntries:r}=f0(this._heartbeatsCache.heartbeats),o=po(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return zt.warn(e),""}})}};function Sm(){return new Date().toISOString().substring(0,10)}function f0(t,n=d0){let e=[],i=t.slice();for(let r of t){let o=e.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),Tm(e)>n){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Tm(e)>n){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}var Tu=class{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return pa()?cm().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield u0(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(n){return p(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Im(this.app,{lastSentHeartbeatDate:(e=n.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return})}add(n){return p(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Im(this.app,{lastSentHeartbeatDate:(e=n.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return})}};function Tm(t){return po(JSON.stringify({version:2,heartbeats:t})).length}function p0(t){if(t.length===0)return-1;let n=0,e=t[0].date;for(let i=1;i<t.length;i++)t[i].date<e&&(e=t[i].date,n=i);return n}function g0(t){Ct(new Be("platform-logger",n=>new bu(n),"PRIVATE")),Ct(new Be("heartbeat",n=>new Su(n),"PRIVATE")),de(Eu,Cm,t),de(Eu,Cm,"esm2017"),de("fire-js","")}g0("");var m0="firebase",_0="11.4.0";de(m0,_0,"app");function Ru(t){t===void 0&&(Bl(Ru),t=m(ke));let n=t.get(Es);return e=>new tn(i=>{let r=n.add(),o=!1;function s(){o||(r(),o=!0)}let a=e.subscribe({next:l=>{i.next(l),s()},complete:()=>{i.complete(),s()},error:l=>{i.error(l),s()}});return a.add(()=>{i.unsubscribe(),s()}),a})}var In=new Pr("ANGULARFIRE2_VERSION");function wo(t,n,e){if(n){if(n.length===1)return n[0];let o=n.filter(s=>s.app===e);if(o.length===1)return o[0]}return e.container.getProvider(t).getImmediate({optional:!0})}var ir=(t,n)=>{let e=n?[n]:_a(),i=[];return e.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},nr=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(nr||{}),km=Ql()&&typeof Zone<"u"?nr.WARN:nr.SILENT;var va=class{zone;delegate;constructor(n,e=mf){this.zone=n,this.delegate=e}now(){return this.delegate.now()}schedule(n,e,i){let r=this.zone,o=function(s){r?r.runGuarded(()=>{n.apply(this,[s])}):n.apply(this,[s])};return this.delegate.schedule(o,e,i)}},Sn=(()=>{class t{outsideAngular;insideAngular;constructor(){let e=m(se);this.outsideAngular=e.runOutsideAngular(()=>new va(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new va(typeof Zone>"u"?void 0:Zone.current,gf))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dm=!1;function v0(t,n){!Dm&&(km>nr.SILENT||Ql())&&(Dm=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),km>=n&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function y0(t){let n=m(se,{optional:!0});return n?n.runOutsideAngular(()=>t()):t()}function ii(t){let n=m(se,{optional:!0});return n?n.run(()=>t()):t()}var b0=(t,n,e)=>(...i)=>(n&&setTimeout(n,0),Me(e,()=>ii(()=>t.apply(void 0,i)))),ut=(t,n,e)=>(e||=n?nr.WARN:nr.VERBOSE,function(){let i,r=arguments,o,s,a;try{o=m(Sn),s=m(Es),a=m(Ut)}catch{return v0(t,e),t.apply(this,r)}for(let c=0;c<arguments.length;c++)typeof r[c]=="function"&&(n&&(i||=ii(()=>s.add())),r[c]=b0(r[c],i,a));let l=y0(()=>t.apply(this,r));return n?l instanceof tn?l.pipe(Ll(o.outsideAngular),Ml(o.insideAngular),Ru(a)):l instanceof Promise?ii(()=>new Promise((c,u)=>{s.run(()=>l).then(d=>Me(a,()=>ii(()=>c(d))),d=>Me(a,()=>ii(()=>u(d))))})):typeof l=="function"&&i?function(){return setTimeout(i,0),l.apply(this,arguments)}:ii(()=>l):l instanceof tn?l.pipe(Ll(o.outsideAngular),Ml(o.insideAngular)):ii(()=>l)});var Gt=class{constructor(n){return n}},ri=class{constructor(){return _a()}};function E0(t){return t&&t.length===1?t[0]:new Gt(ni())}var ku=new k("angularfire2._apps"),C0={provide:Gt,useFactory:E0,deps:[[new Ve,ku]]},w0={provide:ri,deps:[[new Ve,ku]]};function I0(t){return(n,e)=>{let i=e.get(ze);de("angularfire",In.full,"core"),de("angularfire",In.full,"app"),de("angular",np.full,i.toString());let r=n.runOutsideAngular(()=>t(e));return new Gt(r)}}function GM(t,...n){return Je([C0,w0,{provide:ku,useFactory:I0(t),multi:!0,deps:[se,ke,Sn,...n]}])}var qM=ut(Au,!0);var S0=new Map,T0={activated:!1,tokenObservers:[]},A0={initialized:!1,enabled:!1};function wt(t){return S0.get(t)||Object.assign({},T0)}function xm(){return A0}var R0="https://content-firebaseappcheck.googleapis.com/v1";var k0="exchangeDebugToken",Om={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},n1=24*60*60*1e3;var Pu=class{constructor(n,e,i,r,o){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){return p(this,null,function*(){this.stop();try{this.pending=new lt,this.pending.promise.catch(e=>{}),yield D0(this.getNextRun(n)),this.pending.resolve(),yield this.pending.promise,this.pending=new lt,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function D0(t){return new Promise(n=>{setTimeout(n,t)})}var O0={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Tn=new bt("appCheck","AppCheck",O0);function Mm(t){if(!wt(t).activated)throw Tn.create("use-before-activation",{appName:t.name})}function Lm(i,r){return p(this,arguments,function*({url:t,body:n},e){let o={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(n),headers:o},l;try{l=yield fetch(t,a)}catch(f){throw Tn.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw Tn.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw Tn.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function Fm(t,n){let{projectId:e,appId:i,apiKey:r}=t.options;return{url:`${R0}/projects/${e}/apps/${i}:${k0}?key=${r}`,body:{debug_token:n}}}var P0="firebase-app-check-database",N0=1,Nu="firebase-app-check-store";var ya=null;function x0(){return ya||(ya=new Promise((t,n)=>{try{let e=indexedDB.open(P0,N0);e.onsuccess=i=>{t(i.target.result)},e.onerror=i=>{var r;n(Tn.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},e.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Nu,{keyPath:"compositeKey"})}}}catch(e){n(Tn.create("storage-open",{originalErrorMessage:e?.message}))}}),ya)}function M0(t,n){return L0(F0(t),n)}function L0(t,n){return p(this,null,function*(){let i=(yield x0()).transaction(Nu,"readwrite"),o=i.objectStore(Nu).put({compositeKey:t,value:n});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(Tn.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function F0(t){return`${t.options.appId}-${t.name}`}var Io=new Mt("@firebase/app-check");function Du(t,n){return pa()?M0(t,n).catch(e=>{Io.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function $m(){return xm().enabled}function Vm(){return p(this,null,function*(){let t=xm();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var $0={error:"UNKNOWN_ERROR"};function V0(t){return er.encodeString(JSON.stringify(t),!1)}function xu(t,n=!1){return p(this,null,function*(){let e=t.app;Mm(e);let i=wt(e),r=i.token,o;if(r&&!So(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(So(l)?r=l:yield Du(e,void 0))}if(!n&&r&&So(r))return{token:r.token};let s=!1;if($m())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Lm(Fm(e,yield Vm()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield Du(e,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"?Io.warn(l.message):Io.error(l),Ou(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield wt(e).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Io.warn(l.message):Io.error(l),o=l}let a;return r?o?So(r)?a={token:r.token,internalError:o}:a=Ou(o):(a={token:r.token},i.token=r,yield Du(e,r)):a=Ou(o),s&&W0(e,a),a})}function U0(t){return p(this,null,function*(){let n=t.app;Mm(n);let{provider:e}=wt(n);if($m()){let i=yield Vm(),{token:r}=yield Lm(Fm(n,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield e.getToken();return{token:i}}})}function B0(t,n,e,i){let{app:r}=t,o=wt(r),s={next:e,error:i,type:n};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&So(o.token)){let a=o.token;Promise.resolve().then(()=>{e({token:a.token}),Pm(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Pm(t))}function Um(t,n){let e=wt(t),i=e.tokenObservers.filter(r=>r.next!==n);i.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function Pm(t){let{app:n}=t,e=wt(n),i=e.tokenRefresher;i||(i=j0(t),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function j0(t){let{app:n}=t;return new Pu(()=>p(this,null,function*(){let e=wt(n),i;if(e.token?i=yield xu(t,!0):i=yield xu(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let e=wt(n);if(e.token){let i=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,r=e.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Om.RETRIAL_MIN_WAIT,Om.RETRIAL_MAX_WAIT)}function W0(t,n){let e=wt(t).tokenObservers;for(let i of e)try{i.type==="EXTERNAL"&&n.error!=null?i.error(n.error):i.next(n)}catch{}}function So(t){return t.expireTimeMillis-Date.now()>0}function Ou(t){return{token:V0($0),error:t}}var Mu=class{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:n}=wt(this.app);for(let e of n)Um(this.app,e.next);return Promise.resolve()}};function H0(t,n){return new Mu(t,n)}function z0(t){return{getToken:n=>xu(t,n),getLimitedUseToken:()=>U0(t),addTokenListener:n=>B0(t,"INTERNAL",n),removeTokenListener:n=>Um(t.app,n)}}var G0="@firebase/app-check",q0="0.8.12";var K0="app-check",Nm="app-check-internal";function Y0(){Ct(new Be(K0,t=>{let n=t.getProvider("app").getImmediate(),e=t.getProvider("heartbeat");return H0(n,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(Nm).initialize()})),Ct(new Be(Nm,t=>{let n=t.getProvider("app-check").getImmediate();return z0(n)},"PUBLIC").setInstantiationMode("EXPLICIT")),de(G0,q0)}Y0();var Q0="app-check";var rr=class{constructor(){return ir(Q0)}};var J0=["localhost","0.0.0.0","127.0.0.1"],g1=typeof window<"u"&&J0.includes(window.location.hostname);function t_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var n_=t_,i_=new bt("auth","Firebase",t_());var Sa=new Mt("@firebase/auth");function X0(t,...n){Sa.logLevel<=Y.WARN&&Sa.warn(`Auth (${wn}): ${t}`,...n)}function Ea(t,...n){Sa.logLevel<=Y.ERROR&&Sa.error(`Auth (${wn}): ${t}`,...n)}function Rn(t,...n){throw td(t,...n)}function si(t,...n){return td(t,...n)}function r_(t,n,e){let i=Object.assign(Object.assign({},n_()),{[n]:e});return new bt("auth","Firebase",i).create(n,{appName:t.name})}function oi(t){return r_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function td(t,...n){if(typeof t!="string"){let e=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(e,...i)}return i_.create(t,...n)}function I(t,n,...e){if(!t)throw td(n,...e)}function qt(t){let n="INTERNAL ASSERTION FAILED: "+t;throw Ea(n),new Error(n)}function kn(t,n){t||qt(n)}function Vu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Z0(){return Bm()==="http:"||Bm()==="https:"}function Bm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function eS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z0()||am()||"connection"in navigator)?navigator.onLine:!0}function tS(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ai=class{constructor(n,e){this.shortDelay=n,this.longDelay=e,kn(e>n,"Short delay should be less than long delay!"),this.isMobile=go()||fa()}get(){return eS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function nd(t,n){kn(t.emulator,"Emulator should always be set here");let{url:e}=t.emulator;return n?`${e}${n.startsWith("/")?n.slice(1):n}`:e}var Ta=class{static initialize(n,e,i){this.fetchImpl=n,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var nS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var iS=new ai(3e4,6e4);function id(t,n){return t.tenantId&&!n.tenantId?Object.assign(Object.assign({},n),{tenantId:t.tenantId}):n}function sr(o,s,a,l){return p(this,arguments,function*(t,n,e,i,r={}){return o_(t,r,()=>p(this,null,function*(){let c={},u={};i&&(n==="GET"?u=i:c={body:JSON.stringify(i)});let d=ei(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);let f=Object.assign({method:n,headers:h},c);return sm()||(f.referrerPolicy="no-referrer"),Ta.fetch()(s_(t,t.config.apiHost,e,d),f)}))})}function o_(t,n,e){return p(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},nS),n);try{let r=new Uu(t),o=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ba(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ba(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw ba(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw ba(t,"user-disabled",s);let u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw r_(t,u,c);Rn(t,u)}}catch(r){if(r instanceof yt)throw r;Rn(t,"network-request-failed",{message:String(r)})}})}function rS(o,s,a,l){return p(this,arguments,function*(t,n,e,i,r={}){let c=yield sr(t,n,e,i,r);return"mfaPendingCredential"in c&&Rn(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function s_(t,n,e,i){let r=`${n}${e}?${i}`;return t.config.emulator?nd(t.config,r):`${t.config.apiScheme}://${r}`}var Uu=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(n){this.auth=n,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(si(this.auth,"network-request-failed")),iS.get())})}};function ba(t,n,e){let i={appName:t.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);let r=si(t,n,i);return r.customData._tokenResponse=e,r}function oS(t,n){return p(this,null,function*(){return sr(t,"POST","/v1/accounts:delete",n)})}function a_(t,n){return p(this,null,function*(){return sr(t,"POST","/v1/accounts:lookup",n)})}function To(t){if(t)try{let n=new Date(Number(t));if(!isNaN(n.getTime()))return n.toUTCString()}catch{}}function rd(t,n=!1){return p(this,null,function*(){let e=qe(t),i=yield e.getIdToken(n),r=od(i);I(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:To(Lu(r.auth_time)),issuedAtTime:To(Lu(r.iat)),expirationTime:To(Lu(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Lu(t){return Number(t)*1e3}function od(t){let[n,e,i]=t.split(".");if(n===void 0||e===void 0||i===void 0)return Ea("JWT malformed, contained fewer than 3 sections"),null;try{let r=Xi(e);return r?JSON.parse(r):(Ea("Failed to decode base64 JWT payload"),null)}catch(r){return Ea("Caught error parsing JWT payload as JSON",r?.toString()),null}}function jm(t){let n=od(t);return I(n,"internal-error"),I(typeof n.exp<"u","internal-error"),I(typeof n.iat<"u","internal-error"),Number(n.exp)-Number(n.iat)}function Ro(t,n,e=!1){return p(this,null,function*(){if(e)return n;try{return yield n}catch(i){throw i instanceof yt&&sS(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function sS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Bu=class{constructor(n){this.user=n,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(n){var e;if(n){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(n=!1){if(!this.isRunning)return;let e=this.getInterval(n);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),e)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(n){n?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ko=class{constructor(n,e){this.createdAt=n,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(n){this.createdAt=n.createdAt,this.lastLoginAt=n.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Aa(t){return p(this,null,function*(){var n;let e=t.auth,i=yield t.getIdToken(),r=yield Ro(t,a_(e,{idToken:i}));I(r?.users.length,e,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((n=o.providerUserInfo)===null||n===void 0)&&n.length?l_(o.providerUserInfo):[],a=aS(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!a?.length,u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ko(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function sd(t){return p(this,null,function*(){let n=qe(t);yield Aa(n),yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)})}function aS(t,n){return[...t.filter(i=>!n.some(r=>r.providerId===i.providerId)),...n]}function l_(t){return t.map(n=>{var{providerId:e}=n,i=xl(n,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function lS(t,n){return p(this,null,function*(){let e=yield o_(t,{},()=>p(this,null,function*(){let i=ei({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=s_(t,r,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ta.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function cS(t,n){return p(this,null,function*(){return sr(t,"POST","/v2/accounts:revokeToken",id(t,n))})}var Ao=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(n){I(n.idToken,"internal-error"),I(typeof n.idToken<"u","internal-error"),I(typeof n.refreshToken<"u","internal-error");let e="expiresIn"in n&&typeof n.expiresIn<"u"?Number(n.expiresIn):jm(n.idToken);this.updateTokensAndExpiration(n.idToken,n.refreshToken,e)}updateFromIdToken(n){I(n.length!==0,"internal-error");let e=jm(n);this.updateTokensAndExpiration(n,null,e)}getToken(n,e=!1){return p(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(I(this.refreshToken,n,"user-token-expired"),this.refreshToken?(yield this.refresh(n,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(n,e){return p(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield lS(n,e);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(n,e,i){this.refreshToken=e||null,this.accessToken=n||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(n,e){let{refreshToken:i,accessToken:r,expirationTime:o}=e,s=new t;return i&&(I(typeof i=="string","internal-error",{appName:n}),s.refreshToken=i),r&&(I(typeof r=="string","internal-error",{appName:n}),s.accessToken=r),o&&(I(typeof o=="number","internal-error",{appName:n}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(n){this.accessToken=n.accessToken,this.refreshToken=n.refreshToken,this.expirationTime=n.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return qt("not implemented")}};function An(t,n){I(typeof t=="string"||typeof t>"u","internal-error",{appName:n})}var or=class t{constructor(n){var{uid:e,auth:i,stsTokenManager:r}=n,o=xl(n,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ko(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(n){return p(this,null,function*(){let e=yield Ro(this,this.stsTokenManager.getToken(this.auth,n));return I(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(n){return rd(this,n)}reload(){return sd(this)}_assign(n){this!==n&&(I(this.uid===n.uid,this.auth,"internal-error"),this.displayName=n.displayName,this.photoURL=n.photoURL,this.email=n.email,this.emailVerified=n.emailVerified,this.phoneNumber=n.phoneNumber,this.isAnonymous=n.isAnonymous,this.tenantId=n.tenantId,this.providerData=n.providerData.map(e=>Object.assign({},e)),this.metadata._copy(n.metadata),this.stsTokenManager._assign(n.stsTokenManager))}_clone(n){let e=new t(Object.assign(Object.assign({},this),{auth:n,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(n){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=n,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(n){this.reloadListener?this.reloadListener(n):this.reloadUserInfo=n}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(n,e=!1){return p(this,null,function*(){let i=!1;n.idToken&&n.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(n),i=!0),e&&(yield Aa(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(ct(this.auth.app))return Promise.reject(oi(this.auth));let n=yield this.getIdToken();return yield Ro(this,oS(this.auth,{idToken:n})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(n=>Object.assign({},n)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(n,e){var i,r,o,s,a,l,c,u;let d=(i=e.displayName)!==null&&i!==void 0?i:void 0,h=(r=e.email)!==null&&r!==void 0?r:void 0,f=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=e.photoURL)!==null&&s!==void 0?s:void 0,v=(a=e.tenantId)!==null&&a!==void 0?a:void 0,b=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,D=(c=e.createdAt)!==null&&c!==void 0?c:void 0,V=(u=e.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:O,emailVerified:oe,isAnonymous:$e,providerData:He,stsTokenManager:At}=e;I(O&&At,n,"internal-error");let Vn=Ao.fromJSON(this.name,At);I(typeof O=="string",n,"internal-error"),An(d,n.name),An(h,n.name),I(typeof oe=="boolean",n,"internal-error"),I(typeof $e=="boolean",n,"internal-error"),An(f,n.name),An(g,n.name),An(v,n.name),An(b,n.name),An(D,n.name),An(V,n.name);let en=new t({uid:O,auth:n,email:h,emailVerified:oe,displayName:d,isAnonymous:$e,photoURL:g,phoneNumber:f,tenantId:v,stsTokenManager:Vn,createdAt:D,lastLoginAt:V});return He&&Array.isArray(He)&&(en.providerData=He.map(_i=>Object.assign({},_i))),b&&(en._redirectEventId=b),en}static _fromIdTokenResponse(n,e,i=!1){return p(this,null,function*(){let r=new Ao;r.updateFromServerResponse(e);let o=new t({uid:e.localId,auth:n,stsTokenManager:r,isAnonymous:i});return yield Aa(o),o})}static _fromGetAccountInfoResponse(n,e,i){return p(this,null,function*(){let r=e.users[0];I(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?l_(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Ao;a.updateFromIdToken(i);let l=new t({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ko(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,c),l})}};var Wm=new Map;function Kt(t){kn(t instanceof Function,"Expected a class definition");let n=Wm.get(t);return n?(kn(n instanceof t,"Instance stored in cache mismatched with class"),n):(n=new t,Wm.set(t,n),n)}var uS=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(e,i){return p(this,null,function*(){this.storage[e]=i})}_get(e){return p(this,null,function*(){let i=this.storage[e];return i===void 0?null:i})}_remove(e){return p(this,null,function*(){delete this.storage[e]})}_addListener(e,i){}_removeListener(e,i){}}return t.type="NONE",t})(),ju=uS;function Ca(t,n,e){return`firebase:${t}:${n}:${e}`}var Ra=class t{constructor(n,e,i){this.persistence=n,this.auth=e,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Ca(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ca("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(n){return this.persistence._set(this.fullUserKey,n.toJSON())}getCurrentUser(){return p(this,null,function*(){let n=yield this.persistence._get(this.fullUserKey);return n?or._fromJSON(this.auth,n):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(n){return p(this,null,function*(){if(this.persistence===n)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=n,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(n,e,i="authUser"){return p(this,null,function*(){if(!e.length)return new t(Kt(ju),n,i);let r=(yield Promise.all(e.map(c=>p(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),o=r[0]||Kt(ju),s=Ca(i,n.config.apiKey,n.name),a=null;for(let c of e)try{let u=yield c._get(s);if(u){let d=or._fromJSON(n,u);c!==o&&(a=d),o=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,n,i):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(e.map(c=>p(this,null,function*(){if(c!==o)try{yield c._remove(s)}catch{}}))),new t(o,n,i))})}};function Hm(t){let n=t.toLowerCase();if(n.includes("opera/")||n.includes("opr/")||n.includes("opios/"))return"Opera";if(h_(n))return"IEMobile";if(n.includes("msie")||n.includes("trident/"))return"IE";if(n.includes("edge/"))return"Edge";if(c_(n))return"Firefox";if(n.includes("silk/"))return"Silk";if(p_(n))return"Blackberry";if(g_(n))return"Webos";if(u_(n))return"Safari";if((n.includes("chrome/")||d_(n))&&!n.includes("edge/"))return"Chrome";if(f_(n))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(e);if(i?.length===2)return i[1]}return"Other"}function c_(t=Fe()){return/firefox\//i.test(t)}function u_(t=Fe()){let n=t.toLowerCase();return n.includes("safari/")&&!n.includes("chrome/")&&!n.includes("crios/")&&!n.includes("android")}function d_(t=Fe()){return/crios\//i.test(t)}function h_(t=Fe()){return/iemobile/i.test(t)}function f_(t=Fe()){return/android/i.test(t)}function p_(t=Fe()){return/blackberry/i.test(t)}function g_(t=Fe()){return/webos/i.test(t)}function ad(t=Fe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dS(t=Fe()){var n;return ad(t)&&!!(!((n=window.navigator)===null||n===void 0)&&n.standalone)}function hS(){return lm()&&document.documentMode===10}function m_(t=Fe()){return ad(t)||f_(t)||g_(t)||p_(t)||/windows phone/i.test(t)||h_(t)}function __(t,n=[]){let e;switch(t){case"Browser":e=Hm(Fe());break;case"Worker":e=`${Hm(Fe())}-${t}`;break;default:e=t}let i=n.length?n.join(","):"FirebaseCore-web";return`${e}/JsCore/${wn}/${i}`}var Wu=class{constructor(n){this.auth=n,this.queue=[]}pushCallback(n,e){let i=o=>new Promise((s,a)=>{try{let l=n(o);s(l)}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(n){return p(this,null,function*(){if(this.auth.currentUser===n)return;let e=[];try{for(let i of this.queue)yield i(n),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function fS(e){return p(this,arguments,function*(t,n={}){return sr(t,"GET","/v2/passwordPolicy",id(t,n))})}var pS=6,Hu=class{constructor(n){var e,i,r,o;let s=n.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=s.minPasswordLength)!==null&&e!==void 0?e:pS,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=n.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=n.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=n.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=n.schemaVersion}validatePassword(n){var e,i,r,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(n,l),this.validatePasswordCharacterOptions(n,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(n,e){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=n.length>=i),r&&(e.meetsMaxPasswordLength=n.length<=r)}validatePasswordCharacterOptions(n,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<n.length;r++)i=n.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(n,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(n.containsLowercaseLetter||(n.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(n.containsUppercaseLetter||(n.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(n.containsNumericCharacter||(n.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(n.containsNonAlphanumericCharacter||(n.containsNonAlphanumericCharacter=o))}};var zu=class{constructor(n,e,i,r){this.app=n,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ka(this),this.idTokenSubscription=new ka(this),this.beforeStateQueue=new Wu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=n.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(n,e){return e&&(this._popupRedirectResolver=Kt(e)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Ra.create(this,n),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let n=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!n)){if(this.currentUser&&n&&this.currentUser.uid===n.uid){this._currentUser._assign(n),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(n,!0)}})}initializeCurrentUserFromIdToken(n){return p(this,null,function*(){try{let e=yield a_(this,{idToken:n}),i=yield or._fromGetAccountInfoResponse(this,e,n);yield this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(n){return p(this,null,function*(){var e;if(ct(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(n&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(n);(!s||s===a)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return I(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(n){return p(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,n,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(n){return p(this,null,function*(){try{yield Aa(n)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(n)})}useDeviceLanguage(){this.languageCode=tS()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(n){return p(this,null,function*(){if(ct(this.app))return Promise.reject(oi(this));let e=n?qe(n):null;return e&&I(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(n,e=!1){return p(this,null,function*(){if(!this._deleted)return n&&I(this.tenantId===n.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(n)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(n),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return ct(this.app)?Promise.reject(oi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(n){return ct(this.app)?Promise.reject(oi(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Kt(n))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(n){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(n)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let n=yield fS(this),e=new Hu(n);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(n){this._errorFactory=new bt("auth","Firebase",n())}onAuthStateChanged(n,e,i){return this.registerStateListener(this.authStateSubscription,n,e,i)}beforeAuthStateChanged(n,e){return this.beforeStateQueue.pushCallback(n,e)}onIdTokenChanged(n,e,i){return this.registerStateListener(this.idTokenSubscription,n,e,i)}authStateReady(){return new Promise((n,e)=>{if(this.currentUser)n();else{let i=this.onAuthStateChanged(()=>{i(),n()},e)}})}revokeAccessToken(n){return p(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:n,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),yield cS(this,i)}})}toJSON(){var n;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(n=this._currentUser)===null||n===void 0?void 0:n.toJSON()}}_setRedirectUser(n,e){return p(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(e);return n===null?i.removeCurrentUser():i.setCurrentUser(n)})}getOrInitRedirectPersistenceManager(n){return p(this,null,function*(){if(!this.redirectPersistenceManager){let e=n&&Kt(n)||this._popupRedirectResolver;I(e,this,"argument-error"),this.redirectPersistenceManager=yield Ra.create(this,[Kt(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(n){return p(this,null,function*(){var e,i;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===n?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===n?this.redirectUser:null})}_persistUserIfCurrent(n){return p(this,null,function*(){if(n===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(n)}))})}_notifyListenersIfCurrent(n){n===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(e=(n=this.currentUser)===null||n===void 0?void 0:n.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(n,e,i,r){if(this._deleted)return()=>{};let o=typeof e=="function"?e:e.next.bind(e),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(I(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof e=="function"){let l=n.addObserver(e,i,r);return()=>{s=!0,l()}}else{let l=n.addObserver(e);return()=>{s=!0,l()}}}directlySetCurrentUser(n){return p(this,null,function*(){this.currentUser&&this.currentUser!==n&&this._currentUser._stopProactiveRefresh(),n&&this.isProactiveRefreshEnabled&&n._startProactiveRefresh(),this.currentUser=n,n?yield this.assertedPersistence.setCurrentUser(n):yield this.assertedPersistence.removeCurrentUser()})}queue(n){return this.operations=this.operations.then(n,n),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(n){!n||this.frameworks.includes(n)||(this.frameworks.push(n),this.frameworks.sort(),this.clientVersion=__(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var n;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(n=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||n===void 0?void 0:n.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return p(this,null,function*(){var n;if(ct(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(n=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||n===void 0?void 0:n.getToken();return e?.error&&X0(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function ld(t){return qe(t)}var ka=class{constructor(n){this.auth=n,this.observer=null,this.addObserver=fm(e=>this.observer=e)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cd={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gS(t){cd=t}function mS(t){return cd.loadJS(t)}function _S(){return cd.gapiScript}function v_(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function ud(t,n){let e=tr(t,"auth");if(e.isInitialized()){let r=e.getImmediate(),o=e.getOptions();if(xt(o,n??{}))return r;Rn(r,"already-initialized")}return e.initialize({options:n})}function vS(t,n){let e=n?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Kt);n?.errorMap&&t._updateErrorMap(n.errorMap),t._initializeWithPersistence(i,n?.popupRedirectResolver)}function dd(t,n,e){let i=ld(t);I(/^https?:\/\//.test(n),i,"invalid-emulator-scheme");let r=!!e?.disableWarnings,o=y_(n),{host:s,port:a}=yS(n),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){I(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),I(xt(c,i.config.emulator)&&xt(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,r||bS()}function y_(t){let n=t.indexOf(":");return n<0?"":t.substr(0,n+1)}function yS(t){let n=y_(t),e=/(\/\/)?([^?#/]+)/.exec(t.substr(n.length));if(!e)return{host:"",port:null};let i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:zm(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:zm(s)}}}function zm(t){if(!t)return null;let n=Number(t);return isNaN(n)?null:n}function bS(){function t(){let n=document.createElement("p"),e=n.style;n.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",n.classList.add("firebase-emulator-warning"),document.body.appendChild(n)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Da=class{constructor(n,e){this.providerId=n,this.signInMethod=e}toJSON(){return qt("not implemented")}_getIdTokenResponse(n){return qt("not implemented")}_linkToIdToken(n,e){return qt("not implemented")}_getReauthenticationResolver(n){return qt("not implemented")}};function Fu(t,n){return p(this,null,function*(){return rS(t,"POST","/v1/accounts:signInWithIdp",id(t,n))})}var Oa=class{constructor(n){this.providerId=n,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(n){this.defaultLanguageCode=n}setCustomParameters(n){return this.customParameters=n,this}getCustomParameters(){return this.customParameters}};var Gu=class extends Oa{constructor(){super(...arguments),this.scopes=[]}addScope(n){return this.scopes.includes(n)||this.scopes.push(n),this}getScopes(){return[...this.scopes]}};var Do=class t{constructor(n){this.user=n.user,this.providerId=n.providerId,this._tokenResponse=n._tokenResponse,this.operationType=n.operationType}static _fromIdTokenResponse(n,e,i,r=!1){return p(this,null,function*(){let o=yield or._fromIdTokenResponse(n,i,r),s=Gm(i);return new t({user:o,providerId:s,_tokenResponse:i,operationType:e})})}static _forOperation(n,e,i){return p(this,null,function*(){yield n._updateTokensIfNecessary(i,!0);let r=Gm(i);return new t({user:n,providerId:r,_tokenResponse:i,operationType:e})})}};function Gm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var qu=class t extends yt{constructor(n,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:n.name,tenantId:(o=n.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(n,e,i,r){return new t(n,e,i,r)}};function b_(t,n,e,i){return(n==="reauthenticate"?e._getReauthenticationResolver(t):e._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?qu._fromErrorAndOperation(t,o,n,i):o})}function ES(t,n,e=!1){return p(this,null,function*(){let i=yield Ro(t,n._linkToIdToken(t.auth,yield t.getIdToken()),e);return Do._forOperation(t,"link",i)})}function CS(t,n,e=!1){return p(this,null,function*(){let{auth:i}=t;if(ct(i.app))return Promise.reject(oi(i));let r="reauthenticate";try{let o=yield Ro(t,b_(i,r,n,t),e);I(o.idToken,i,"internal-error");let s=od(o.idToken);I(s,i,"internal-error");let{sub:a}=s;return I(t.uid===a,i,"user-mismatch"),Do._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Rn(i,"user-mismatch"),o}})}function wS(t,n,e=!1){return p(this,null,function*(){if(ct(t.app))return Promise.reject(oi(t));let i="signIn",r=yield b_(t,i,n),o=yield Do._fromIdTokenResponse(t,i,r);return e||(yield t._updateCurrentUser(o.user)),o})}function hd(t,n,e,i){return qe(t).onIdTokenChanged(n,e,i)}function fd(t,n,e){return qe(t).beforeAuthStateChanged(n,e)}var Pa="__sak";var Na=class{constructor(n,e){this.storageRetriever=n,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Pa,"1"),this.storage.removeItem(Pa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(n,e){return this.storage.setItem(n,JSON.stringify(e)),Promise.resolve()}_get(n){let e=this.storage.getItem(n);return Promise.resolve(e?JSON.parse(e):null)}_remove(n){return this.storage.removeItem(n),Promise.resolve()}get storage(){return this.storageRetriever()}};var IS=1e3,SS=10,TS=(()=>{class t extends Na{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let r=e.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);hS()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SS):o()}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},IS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,i){return p(this,null,function*(){yield Un(t.prototype,this,"_set").call(this,e,i),this.localCache[e]=JSON.stringify(i)})}_get(e){return p(this,null,function*(){let i=yield Un(t.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(i),i})}_remove(e){return p(this,null,function*(){yield Un(t.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return t.type="LOCAL",t})(),E_=TS;var AS=(()=>{class t extends Na{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return t.type="SESSION",t})(),pd=AS;function RS(t){return Promise.all(t.map(n=>p(this,null,function*(){try{return{fulfilled:!0,value:yield n}}catch(e){return{fulfilled:!1,reason:e}}})))}var kS=(()=>{class t{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;let r=new t(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return p(this,null,function*(){let i=e,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(a).map(u=>p(this,null,function*(){return u(i.origin,s)})),c=yield RS(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:c})})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function C_(t="",n=10){let e="";for(let i=0;i<n;i++)e+=Math.floor(Math.random()*10);return t+e}var Ku=class{constructor(n){this.target=n,this.handlers=new Set}removeMessageHandler(n){n.messageChannel&&(n.messageChannel.port1.removeEventListener("message",n.onMessage),n.messageChannel.port1.close()),this.handlers.delete(n)}_send(n,e,i=50){return p(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let c=C_("",20);r.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(d){let h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:n,eventId:c,data:e},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ft(){return window}function DS(t){Ft().location.href=t}function w_(){return typeof Ft().WorkerGlobalScope<"u"&&typeof Ft().importScripts=="function"}function OS(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function PS(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NS(){return w_()?self:null}var I_="firebaseLocalStorageDb",xS=1,xa="firebaseLocalStorage",S_="fbase_key",li=class{constructor(n){this.request=n}toPromise(){return new Promise((n,e)=>{this.request.addEventListener("success",()=>{n(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function La(t,n){return t.transaction([xa],n?"readwrite":"readonly").objectStore(xa)}function MS(){let t=indexedDB.deleteDatabase(I_);return new li(t).toPromise()}function Yu(){let t=indexedDB.open(I_,xS);return new Promise((n,e)=>{t.addEventListener("error",()=>{e(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(xa,{keyPath:S_})}catch(r){e(r)}}),t.addEventListener("success",()=>p(this,null,function*(){let i=t.result;i.objectStoreNames.contains(xa)?n(i):(i.close(),yield MS(),n(yield Yu()))}))})}function qm(t,n,e){return p(this,null,function*(){let i=La(t,!0).put({[S_]:n,value:e});return new li(i).toPromise()})}function LS(t,n){return p(this,null,function*(){let e=La(t,!1).get(n),i=yield new li(e).toPromise();return i===void 0?null:i.value})}function Km(t,n){let e=La(t,!0).delete(n);return new li(e).toPromise()}var FS=800,$S=3,VS=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Yu(),this.db)})}_withRetries(e){return p(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(i++>$S)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return w_()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=kS._getInstance(NS()),this.receiver._subscribe("keyChanged",(e,i)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(e,i)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var e,i;if(this.activeServiceWorker=yield OS(),!this.activeServiceWorker)return;this.sender=new Ku(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||PS()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let e=yield Yu();return yield qm(e,Pa,"1"),yield Km(e,Pa),!0}catch{}return!1})}_withPendingWrite(e){return p(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,i){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>qm(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)}))})}_get(e){return p(this,null,function*(){let i=yield this._withRetries(r=>LS(r,e));return this.localCache[e]=i,i})}_remove(e){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>Km(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return p(this,null,function*(){let e=yield this._withRetries(o=>{let s=La(o,!1).getAll();return new li(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(e.length!==0)for(let{fbase_key:o,value:s}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),FS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),T_=VS;var S1=v_("rcb"),T1=new ai(3e4,6e4);function US(t,n){return n?Kt(n):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Oo=class extends Da{constructor(n){super("custom","custom"),this.params=n}_getIdTokenResponse(n){return Fu(n,this._buildIdpRequest())}_linkToIdToken(n,e){return Fu(n,this._buildIdpRequest(e))}_getReauthenticationResolver(n){return Fu(n,this._buildIdpRequest())}_buildIdpRequest(n){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(e.idToken=n),e}};function BS(t){return wS(t.auth,new Oo(t),t.bypassAuthState)}function jS(t){let{auth:n,user:e}=t;return I(e,n,"internal-error"),CS(e,new Oo(t),t.bypassAuthState)}function WS(t){return p(this,null,function*(){let{auth:n,user:e}=t;return I(e,n,"internal-error"),ES(e,new Oo(t),t.bypassAuthState)})}var Qu=class{constructor(n,e,i,r,o=!1){this.auth=n,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((n,e)=>p(this,null,function*(){this.pendingPromise={resolve:n,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(n){return p(this,null,function*(){let{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=n;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(n){this.reject(n)}getIdpTask(n){switch(n){case"signInViaPopup":case"signInViaRedirect":return BS;case"linkViaPopup":case"linkViaRedirect":return WS;case"reauthViaPopup":case"reauthViaRedirect":return jS;default:Rn(this.auth,"internal-error")}}resolve(n){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(n),this.unregisterAndCleanUp()}reject(n){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(n),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var A1=new ai(2e3,1e4);var HS="pendingRedirect",wa=new Map,Ju=class t extends Qu{constructor(n,e,i=!1){super(n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){return p(this,null,function*(){let n=wa.get(this.auth._key());if(!n){try{let i=(yield zS(this.resolver,this.auth))?yield Un(t.prototype,this,"execute").call(this):null;n=()=>Promise.resolve(i)}catch(e){n=()=>Promise.reject(e)}wa.set(this.auth._key(),n)}return this.bypassAuthState||wa.set(this.auth._key(),()=>Promise.resolve(null)),n()})}onAuthEvent(n){return p(this,null,function*(){if(n.type==="signInViaRedirect")return Un(t.prototype,this,"onAuthEvent").call(this,n);if(n.type==="unknown"){this.resolve(null);return}if(n.eventId){let e=yield this.auth._redirectUserForId(n.eventId);if(e)return this.user=e,Un(t.prototype,this,"onAuthEvent").call(this,n);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function zS(t,n){return p(this,null,function*(){let e=KS(n),i=qS(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(e))==="true";return yield i._remove(e),r})}function GS(t,n){wa.set(t._key(),n)}function qS(t){return Kt(t._redirectPersistence)}function KS(t){return Ca(HS,t.config.apiKey,t.name)}function YS(t,n,e=!1){return p(this,null,function*(){if(ct(t.app))return Promise.reject(oi(t));let i=ld(t),r=US(i,n),s=yield new Ju(i,r,e).execute();return s&&!e&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,n)),s})}var QS=10*60*1e3,Xu=class{constructor(n){this.auth=n,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(n){this.consumers.add(n),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,n)&&(this.sendToConsumer(this.queuedRedirectEvent,n),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(n){this.consumers.delete(n)}onEvent(n){if(this.hasEventBeenHandled(n))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(n,i)&&(e=!0,this.sendToConsumer(n,i),this.saveEventToCache(n))}),this.hasHandledPotentialRedirect||!JS(n)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=n,e=!0)),e}sendToConsumer(n,e){var i;if(n.error&&!A_(n)){let r=((i=n.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(si(this.auth,r))}else e.onAuthEvent(n)}isEventForConsumer(n,e){let i=e.eventId===null||!!n.eventId&&n.eventId===e.eventId;return e.filter.includes(n.type)&&i}hasEventBeenHandled(n){return Date.now()-this.lastProcessedEventTime>=QS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ym(n))}saveEventToCache(n){this.cachedEventUids.add(Ym(n)),this.lastProcessedEventTime=Date.now()}};function Ym(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(n=>n).join("-")}function A_({type:t,error:n}){return t==="unknown"&&n?.code==="auth/no-auth-event"}function JS(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A_(t);default:return!1}}function XS(e){return p(this,arguments,function*(t,n={}){return sr(t,"GET","/v1/projects",n)})}var ZS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eT=/^https?/;function tT(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:n}=yield XS(t);for(let e of n)try{if(nT(e))return}catch{}Rn(t,"unauthorized-domain")})}function nT(t){let n=Vu(),{protocol:e,hostname:i}=new URL(n);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&i===""?e==="chrome-extension:"&&t.replace("chrome-extension://","")===n.replace("chrome-extension://",""):e==="chrome-extension:"&&s.hostname===i}if(!eT.test(e))return!1;if(ZS.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var iT=new ai(3e4,6e4);function Qm(){let t=Ft().___jsl;if(t?.H){for(let n of Object.keys(t.H))if(t.H[n].r=t.H[n].r||[],t.H[n].L=t.H[n].L||[],t.H[n].r=[...t.H[n].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}}function rT(t){return new Promise((n,e)=>{var i,r,o;function s(){Qm(),gapi.load("gapi.iframes",{callback:()=>{n(gapi.iframes.getContext())},ontimeout:()=>{Qm(),e(si(t,"network-request-failed"))},timeout:iT.get()})}if(!((r=(i=Ft().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)n(gapi.iframes.getContext());else if(!((o=Ft().gapi)===null||o===void 0)&&o.load)s();else{let a=v_("iframefcb");return Ft()[a]=()=>{gapi.load?s():e(si(t,"network-request-failed"))},mS(`${_S()}?onload=${a}`).catch(l=>e(l))}}).catch(n=>{throw Ia=null,n})}var Ia=null;function oT(t){return Ia=Ia||rT(t),Ia}var sT=new ai(5e3,15e3),aT="__/auth/iframe",lT="emulator/auth/iframe",cT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dT(t){let n=t.config;I(n.authDomain,t,"auth-domain-config-required");let e=n.emulator?nd(n,lT):`https://${t.config.authDomain}/${aT}`,i={apiKey:n.apiKey,appName:t.name,v:wn},r=uT.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${ei(i).slice(1)}`}function hT(t){return p(this,null,function*(){let n=yield oT(t),e=Ft().gapi;return I(e,t,"internal-error"),n.open({where:document.body,url:dT(t),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cT,dontclear:!0},i=>new Promise((r,o)=>p(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=si(t,"network-request-failed"),a=Ft().setTimeout(()=>{o(s)},sT.get());function l(){Ft().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{o(s)})})))})}var fT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pT=500,gT=600,mT="_blank",_T="http://localhost",Ma=class{constructor(n){this.window=n,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function vT(t,n,e,i=pT,r=gT){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},fT),{width:i.toString(),height:r.toString(),top:o,left:s}),c=Fe().toLowerCase();e&&(a=d_(c)?mT:e),c_(c)&&(n=n||_T,l.scrollbars="yes");let u=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(dS(c)&&a!=="_self")return yT(n||"",a),new Ma(null);let d=window.open(n||"",a,u);I(d,t,"popup-blocked");try{d.focus()}catch{}return new Ma(d)}function yT(t,n){let e=document.createElement("a");e.href=t,e.target=n;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}var bT="__/auth/handler",ET="emulator/auth/handler",CT=encodeURIComponent("fac");function Jm(t,n,e,i,r,o){return p(this,null,function*(){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:e,redirectUrl:i,v:wn,eventId:r};if(n instanceof Oa){n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",mo(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(n instanceof Gu){let u=n.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield t._getAppCheckToken(),c=l?`#${CT}=${encodeURIComponent(l)}`:"";return`${wT(t)}?${ei(a).slice(1)}${c}`})}function wT({config:t}){return t.emulator?nd(t,ET):`https://${t.authDomain}/${bT}`}var $u="webStorageSupport",Zu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pd,this._completeRedirectFn=YS,this._overrideRedirectResult=GS}_openPopup(n,e,i,r){return p(this,null,function*(){var o;kn((o=this.eventManagers[n._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Jm(n,e,i,Vu(),r);return vT(n,s,C_())})}_openRedirect(n,e,i,r){return p(this,null,function*(){yield this._originValidation(n);let o=yield Jm(n,e,i,Vu(),r);return DS(o),new Promise(()=>{})})}_initialize(n){let e=n._key();if(this.eventManagers[e]){let{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(kn(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(n);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(n){return p(this,null,function*(){let e=yield hT(n),i=new Xu(n);return e.register("authEvent",r=>(I(r?.authEvent,n,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[n._key()]={manager:i},this.iframes[n._key()]=e,i})}_isIframeWebStorageSupported(n,e){this.iframes[n._key()].send($u,{type:$u},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[$u];s!==void 0&&e(!!s),Rn(n,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(n){let e=n._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=tT(n)),this.originValidationPromises[e]}get _shouldInitProactively(){return m_()||u_()||ad()}},R_=Zu;var Xm="@firebase/auth",Zm="1.9.1";var ed=class{constructor(n){this.auth=n,this.internalListeners=new Map}getUid(){var n;return this.assertAuthConfigured(),((n=this.auth.currentUser)===null||n===void 0?void 0:n.uid)||null}getToken(n){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(n)}:null})}addAuthTokenListener(n){if(this.assertAuthConfigured(),this.internalListeners.has(n))return;let e=this.auth.onIdTokenChanged(i=>{n(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(n,e),this.updateProactiveRefresh()}removeAuthTokenListener(n){this.assertAuthConfigured();let e=this.internalListeners.get(n);e&&(this.internalListeners.delete(n),e(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function IT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ST(t){Ct(new Be("auth",(n,{options:e})=>{let i=n.getProvider("app").getImmediate(),r=n.getProvider("heartbeat"),o=n.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;I(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:__(t)},c=new zu(i,r,o,l);return vS(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,i)=>{n.getProvider("auth-internal").initialize()})),Ct(new Be("auth-internal",n=>{let e=ld(n.getProvider("auth").getImmediate());return(i=>new ed(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),de(Xm,Zm,IT(t)),de(Xm,Zm,"esm2017")}var TT=5*60,AT=fu("authIdTokenMaxAge")||TT,e_=null,RT=t=>n=>p(void 0,null,function*(){let e=n&&(yield n.getIdTokenResult()),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>AT)return;let r=e?.token;e_!==r&&(e_=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function gd(t=ni()){let n=tr(t,"auth");if(n.isInitialized())return n.getImmediate();let e=ud(t,{popupRedirectResolver:R_,persistence:[T_,E_,pd]}),i=fu("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=RT(o.toString());fd(e,s,()=>s(e.currentUser)),hd(e,a=>s(a))}}let r=du("auth");return r&&dd(e,`http://${r}`),e}function kT(){var t,n;return(n=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&n!==void 0?n:document}gS({loadJS(t){return new Promise((n,e)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=n,i.onerror=r=>{let o=si("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",kT().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ST("Browser");var k_="auth",Po=class{constructor(n){return n}},No=class{constructor(){return ir(k_)}};var md=new k("angularfire2.auth-instances");function CA(t,n){let e=wo(k_,t,n);return e&&new Po(e)}function wA(t){return(n,e)=>{let i=n.runOutsideAngular(()=>t(e));return new Po(i)}}var IA={provide:No,deps:[[new Ve,md]]},SA={provide:Po,useFactory:CA,deps:[[new Ve,md],Gt]};function gL(t,...n){return de("angularfire",In.full,"auth"),Je([SA,IA,{provide:md,useFactory:wA(t),multi:!0,deps:[se,ke,Sn,ri,[new Ve,rr],...n]}])}var mL=ut(gd,!0);var D_="@firebase/database",O_="1.0.13";var Eh="";function TA(t){Eh=t}var Id=class{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){e==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),ye(e))}get(n){let e=this.domStorage_.getItem(this.prefixedName_(n));return e==null?null:Zi(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}};var Sd=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){e==null?delete this.cache_[n]:this.cache_[n]=e}get(n){return Et(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}};var lv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Id(n)}}catch{}return new Sd},ui=lv("localStorage"),Td=lv("sessionStorage");var cr=new Mt("@firebase/database"),AA=function(){let t=1;return function(){return t++}}(),cv=function(t){let n=pm(t),e=new ha;e.update(n);let i=e.digest();return er.encodeByteArray(i)},Xo=function(...t){let n="";for(let e=0;e<t.length;e++){let i=t[e];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Xo.apply(null,i):typeof i=="object"?n+=ye(i):n+=i,n+=" "}return n},di=null,P_=!0,RA=function(t,n){y(!n||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(cr.logLevel=Y.VERBOSE,di=cr.log.bind(cr),n&&Td.set("logging_enabled",!0)):typeof t=="function"?di=t:(di=null,Td.remove("logging_enabled"))},Ne=function(...t){if(P_===!0&&(P_=!1,di===null&&Td.get("logging_enabled")===!0&&RA(!0)),di){let n=Xo.apply(null,t);di(n)}},Zo=function(t){return function(...n){Ne(t,...n)}},Ad=function(...t){let n="FIREBASE INTERNAL ERROR: "+Xo(...t);cr.error(n)},Yt=function(...t){let n=`FIREBASE FATAL ERROR: ${Xo(...t)}`;throw cr.error(n),new Error(n)},je=function(...t){let n="FIREBASE WARNING: "+Xo(...t);cr.warn(n)},kA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ch=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},DA=function(t){if(Nt()||document.readyState==="complete")t();else{let n=!1,e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}n||(n=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},hr="[MIN_NAME]",hi="[MAX_NAME]",pi=function(t,n){if(t===n)return 0;if(t===hr||n===hi)return-1;if(n===hr||t===hi)return 1;{let e=N_(t),i=N_(n);return e!==null?i!==null?e-i===0?t.length-n.length:e-i:-1:i!==null?1:t<n?-1:1}},OA=function(t,n){return t===n?0:t<n?-1:1},xo=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+ye(n))},wh=function(t){if(typeof t!="object"||t===null)return ye(t);let n=[];for(let i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)i!==0&&(e+=","),e+=ye(n[i]),e+=":",e+=wh(t[n[i]]);return e+="}",e},uv=function(t,n){let e=t.length;if(e<=n)return[t];let i=[];for(let r=0;r<e;r+=n)r+n>e?i.push(t.substring(r,e)):i.push(t.substring(r,r+n));return i};function xe(t,n){for(let e in t)t.hasOwnProperty(e)&&n(e,t[e])}var dv=function(t){y(!Ch(t),"Invalid JSON number");let n=11,e=52,i=(1<<n-1)-1,r,o,s,a,l;t===0?(o=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=a+i,s=Math.round(t*Math.pow(2,e-a)-Math.pow(2,e))):(o=0,s=Math.round(t/Math.pow(2,1-i-e))));let c=[];for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},PA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},NA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xA(t,n){let e="Unknown Error";t==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?e="Client doesn't have permission to access the desired data.":t==="unavailable"&&(e="The service is unavailable");let i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}var MA=new RegExp("^-?(0*)\\d{1,10}$"),LA=-2147483648,FA=2147483647,N_=function(t){if(MA.test(t)){let n=Number(t);if(n>=LA&&n<=FA)return n}return null},br=function(t){try{t()}catch(n){setTimeout(()=>{let e=n.stack||"";throw je("Exception was thrown by user callback.",e),n},Math.floor(0))}},$A=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vo=function(t,n){let e=setTimeout(t,n);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};var Rd=class{constructor(n,e){this.appCheckProvider=e,this.appName=n.name,ct(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;(e=this.appCheckProvider)===null||e===void 0||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){je(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var kd=class{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&e.code==="auth/token-not-initialized"?(Ne("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',je(n)}},Uo=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),$a="5",hv="v",fv="s",pv="r",gv="f",mv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_v="ls",vv="p",Dd="ac",yv="websocket",bv="long_polling";var Va=class{constructor(n,e,i,r,o=!1,s="",a=!1,l=!1,c=null){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ui.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&ui.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){let n=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${e}`}};function VA(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ev(t,n,e){y(typeof n=="string","typeof type must == string"),y(typeof e=="object","typeof params must == object");let i;if(n===yv)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(n===bv)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);VA(t)&&(e.ns=t.namespace);let r=[];return xe(e,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Od=class{constructor(){this.counters_={}}incrementCounter(n,e=1){Et(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return tm(this.counters_)}};var _d={},vd={};function Ih(t){let n=t.toString();return _d[n]||(_d[n]=new Od),_d[n]}function UA(t,n){let e=t.toString();return vd[e]||(vd[e]=n()),vd[e]}var Pd=class{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&br(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var x_="start",BA="close",jA="pLPCommand",WA="pRTLPCB",Cv="id",wv="pw",Iv="ser",HA="cb",zA="seg",GA="ts",qA="d",KA="dframe",Sv=1870,Tv=30,YA=Sv-Tv,QA=25e3,JA=3e4,Nd=class t{constructor(n,e,i,r,o,s,a){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zo(n),this.stats_=Ih(e),this.urlFn=l=>(this.appCheckToken&&(l[Dd]=this.appCheckToken),Ev(e,bv,l))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Pd(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(JA)),DA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xd((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===x_)this.id=a,this.password=l;else if(s===BA)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[x_]="t",i[Iv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[HA]=this.scriptTagHolder.uniqueCallbackIdentifier),i[hv]=$a,this.transportSessionId&&(i[fv]=this.transportSessionId),this.lastSessionId&&(i[_v]=this.lastSessionId),this.applicationId&&(i[vv]=this.applicationId),this.appCheckToken&&(i[Dd]=this.appCheckToken),typeof location<"u"&&location.hostname&&mv.test(location.hostname)&&(i[pv]=gv);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Nt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!PA()&&!NA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){let e=ye(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);let i=cu(e),r=uv(i,YA);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if(Nt())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[KA]="t",i[Cv]=n,i[wv]=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){let e=ye(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}},xd=class t{constructor(n,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Nt())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=AA(),window[jA+this.uniqueCallbackIdentifier]=n,window[WA+this.uniqueCallbackIdentifier]=e,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ne("frame writing exception"),a.stack&&Ne(a.stack),Ne(a)}}}static createIFrame_(){let n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Ne("No IE domain setting required")}catch{let i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let n={};n[Cv]=this.myID,n[wv]=this.myPW,n[Iv]=this.currentSerial;let e=this.urlFn(n),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Tv+i.length<=Sv;){let s=this.pendingSegs.shift();i=i+"&"+zA+r+"="+s.seg+"&"+GA+r+"="+s.ts+"&"+qA+r+"="+s.d,r++}return e=e+i,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);let i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(QA)),o=()=>{clearTimeout(r),i()};this.addTag(n,o)}addTag(n,e){Nt()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ne("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var XA=16384,ZA=45e3,Ua=null;typeof MozWebSocket<"u"?Ua=MozWebSocket:typeof WebSocket<"u"&&(Ua=WebSocket);var Mo=(()=>{class t{constructor(e,i,r,o,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zo(this.connId),this.stats_=Ih(i),this.connURL=t.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,s){let a={};return a[hv]=$a,!Nt()&&typeof location<"u"&&location.hostname&&mv.test(location.hostname)&&(a[pv]=gv),i&&(a[fv]=i),r&&(a[_v]=r),o&&(a[Dd]=o),s&&(a[vv]=s),Ev(e,yv,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ui.set("previous_websocket_failure",!0);try{let r;if(Nt()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${$a}/${Eh}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Ua(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ua!==null&&!t.forceDisallow_}static previouslyFailed(){return ui.isInMemoryStorage||ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){ui.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Zi(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(y(this.frames===null,"We already have a frame buffer"),e.length<=6){let i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;let i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();let i=ye(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=uv(i,XA);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ZA))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),eR=(()=>{class t{static get ALL_TRANSPORTS(){return[Nd,Mo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){let i=Mo&&Mo.isAvailable(),r=i&&!Mo.previouslyFailed();if(e.webSocketOnly&&(i||je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Mo];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),tR=6e4,nR=5e3,iR=10*1024,rR=100*1024,yd="t",M_="d",oR="s",L_="r",sR="e",F_="o",$_="a",V_="n",U_="p",aR="h",Md=class{constructor(n,e,i,r,o,s,a,l,c,u){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zo("c:"+this.id+":"),this.transportManager_=new eR(e),this.log_("Connection created"),this.start_()}start_(){let n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;let e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));let r=n.healthyTimeout||0;r>0&&(this.healthyTimeout_=Vo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>iR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){let e={t:"d",d:n};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(yd in n){let e=n[yd];e===$_?this.upgradeIfSecondaryHealthy_():e===L_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===F_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){let e=xo("t",n),i=xo("d",n);if(e==="c")this.onSecondaryControl_(i);else if(e==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:U_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:V_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){let e=xo("t",n),i=xo("d",n);e==="c"?this.onControl_(i):e==="d"&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){let e=xo(yd,n);if(M_ in n){let i=n[M_];if(e===aR){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(e===V_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===oR?this.onConnectionShutdown_(i):e===L_?this.onReset_(i):e===sR?Ad("Server Error: "+i):e===F_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ad("Unknown control packet command: "+e)}}onHandshake_(n){let e=n.ts,i=n.v,r=n.h;this.sessionId=n.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),$a!==i&&je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;let e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Vo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tR))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:U_,d:{}}}))}onSecondaryConnectionLost_(){let n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Ba=class{put(n,e,i,r){}merge(n,e,i,r){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}};var ja=class{constructor(n){this.allowedEvents_=n,this.listeners_={},y(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){let i=[...this.listeners_[n]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});let r=this.getInitialEvent(n);r&&e.apply(i,r)}off(n,e,i){this.validateEventType_(n);let r=this.listeners_[n]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(n){y(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}};var Wa=class t extends ja{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!go()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return y(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}};var B_=32,j_=768,q=class{constructor(n,e){if(e===void 0){this.pieces_=n.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(n+="/"+this.pieces_[e]);return n||"/"}};function z(){return new q("")}function x(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Pn(t){return t.pieces_.length-t.pieceNum_}function X(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new q(t.pieces_,n)}function Sh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function lR(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)t.pieces_[e]!==""&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}function Ho(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function Av(t){if(t.pieceNum_>=t.pieces_.length)return null;let n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new q(n,0)}function he(t,n){let e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof q)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{let i=n.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new q(e,0)}function F(t){return t.pieceNum_>=t.pieces_.length}function Ke(t,n){let e=x(t),i=x(n);if(e===null)return n;if(e===i)return Ke(X(t),X(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function cR(t,n){let e=Ho(t,0),i=Ho(n,0);for(let r=0;r<e.length&&r<i.length;r++){let o=pi(e[r],i[r]);if(o!==0)return o}return e.length===i.length?0:e.length<i.length?-1:1}function Th(t,n){if(Pn(t)!==Pn(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function dt(t,n){let e=t.pieceNum_,i=n.pieceNum_;if(Pn(t)>Pn(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}var Ld=class{constructor(n,e){this.errorPrefix_=e,this.parts_=Ho(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=yo(this.parts_[i]);Rv(this)}};function uR(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=yo(n),Rv(t)}function dR(t){let n=t.parts_.pop();t.byteLength_-=yo(n),t.parts_.length>0&&(t.byteLength_-=1)}function Rv(t){if(t.byteLength_>j_)throw new Error(t.errorPrefix_+"has a key path longer than "+j_+" bytes ("+t.byteLength_+").");if(t.parts_.length>B_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+B_+") or object contains a cycle "+ci(t))}function ci(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Fd=class t extends ja{static getInstance(){return new t}constructor(){super(["visible"]);let n,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{let i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(n){return y(n==="visible","Unknown event type: "+n),[this.visible_]}};var Lo=1e3,hR=60*5*1e3,W_=30*1e3,fR=1.3,pR=3e4,gR="server_kill",H_=3,Ah=(()=>{class t extends Ba{constructor(e,i,r,o,s,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Zo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lo,this.maxReconnectDelay_=hR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Nt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Fd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Wa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){let o=++this.requestNumber_,s={r:o,a:e,b:i};this.log_(ye(s)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();let i=new lt,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(e,i,r,o){this.initConnection_();let s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){let i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){let i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";e.tag&&(s.q=i._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Et(e,"w")){let r=Zn(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||hm(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=W_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,i=dm(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){let r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);let s={p:e},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(e){let i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){let i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ye(e));let i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Ad("Unrecognized action received from server: "+ye(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Lo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pR&&(this.reconnectDelay_=Lo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fR)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){y(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ne("getToken() completed but was canceled"):(Ne("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Md(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,g=>{je(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(gR)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&je(h),c())}}})}interrupt(e){Ne("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ne("Resuming connection for reason: "+e),delete this.interruptReasons_[e],mo(this.interruptReasons_)&&(this.reconnectDelay_=Lo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(s=>wh(s)).join("$"):r="default";let o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){let r=new q(e).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Ne("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=H_&&(this.reconnectDelay_=W_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ne("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=H_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let e of this.listens.values())for(let i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},i="js";Nt()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),e["sdk."+i+"."+Eh.replace(/\./g,"-")]=1,go()?e["framework.cordova"]=1:fa()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=Wa.getInstance().currentlyOnline();return mo(this.interruptReasons_)&&e}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),M=class t{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new t(n,e)}};var fr=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){let i=new M(hr,n),r=new M(hr,e);return this.compare(i,r)!==0}minPost(){return M.MIN}};var Fa,Ha=class extends fr{static get __EMPTY_NODE(){return Fa}static set __EMPTY_NODE(n){Fa=n}compare(n,e){return pi(n.name,e.name)}isDefinedOn(n){throw Xn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return M.MIN}maxPost(){return new M(hi,Fa)}makePost(n,e){return y(typeof n=="string","KeyIndex indexValue must always be a string."),new M(n,Fa)}toString(){return".key"}},ur=new Ha;var lr=class{constructor(n,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!n.isEmpty();)if(n=n,s=e?i(n.key,e):1,r&&(s*=-1),s<0)this.isReverse_?n=n.left:n=n.right;else if(s===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(n.key,n.value):e={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}},It=(()=>{class t{constructor(e,i,r,o,s){this.key=e,this.value=i,this.color=r??t.RED,this.left=o??ht.EMPTY_NODE,this.right=s??ht.EMPTY_NODE}copy(e,i,r,o,s){return new t(e??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this,s=r(e,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(e,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return ht.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){let e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),$d=class{copy(n,e,i,r,o){return this}insert(n,e,i){return new It(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ht=class t{constructor(n,e=t.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new t(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(n){return new t(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,It.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,r=null;for(;!i.isEmpty();)if(e=this.comparator_(n,i.key),e===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else e<0?i=i.left:e>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new lr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new lr(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new lr(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new lr(this.root_,null,this.comparator_,!0,n)}};ht.EMPTY_NODE=new $d;function mR(t,n){return pi(t.name,n.name)}function Rh(t,n){return pi(t,n)}var Vd;function _R(t){Vd=t}var kv=function(t){return typeof t=="number"?"number:"+dv(t):"string:"+t},Dv=function(t){if(t.isLeafNode()){let n=t.val();y(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Et(n,".sv"),"Priority must be a string or number.")}else y(t===Vd||t.isEmpty(),"priority of unexpected type.");y(t===Vd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var z_,pr=(()=>{class t{static set __childrenNodeConstructor(e){z_=e}static get __childrenNodeConstructor(){return z_}constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Dv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return F(e)?this:x(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){let r=x(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(y(r!==".priority"||Pn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kv(this.priorityNode_.val())+":");let i=typeof this.value_;e+=i+":",i==="number"?e+=dv(this.value_):e+=this.value_,this.lazyHash_=cv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let i=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(i),s=t.VALUE_TYPE_ORDER.indexOf(r);return y(o>=0,"Unknown leaf type: "+i),y(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){let i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),Ov,Pv;function vR(t){Ov=t}function yR(t){Pv=t}var Ud=class extends fr{compare(n,e){let i=n.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return o===0?pi(n.name,e.name):o}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return M.MIN}maxPost(){return new M(hi,new pr("[PRIORITY-POST]",Pv))}makePost(n,e){let i=Ov(n);return new M(e,new pr("[PRIORITY-POST]",i))}toString(){return".priority"}},fe=new Ud;var bR=Math.log(2),Bd=class{constructor(n){let e=o=>parseInt(Math.log(o)/bR,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=e(n+1),this.current_=this.count-1;let r=i(this.count);this.bits_=n+1&r}nextBitIsOne(){let n=!(this.bits_&1<<this.current_);return this.current_--,n}},za=function(t,n,e,i){t.sort(n);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=t[l],h=e?e(d):d,new It(h,d.node,It.BLACK,null,null);{let f=parseInt(u/2,10)+l,g=r(l,f),v=r(f+1,c);return d=t[f],h=e?e(d):d,new It(h,d.node,It.BLACK,g,v)}},o=function(l){let c=null,u=null,d=t.length,h=function(g,v){let b=d-g,D=d;d-=g;let V=r(b+1,D),O=t[b],oe=e?e(O):O;f(new It(oe,O.node,v,null,V))},f=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){let v=l.nextBitIsOne(),b=Math.pow(2,l.count-(g+1));v?h(b,It.BLACK):(h(b,It.BLACK),h(b,It.RED))}return u},s=new Bd(t.length),a=o(s);return new ht(i||n,a)};var bd,ar={},gr=class t{static get Default(){return y(ar&&fe,"ChildrenNode.ts has not been loaded"),bd=bd||new t({".priority":ar},{".priority":fe}),bd}constructor(n,e){this.indexes_=n,this.indexSet_=e}get(n){let e=Zn(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof ht?e:null}hasIndex(n){return Et(this.indexSet_,n.toString())}addIndex(n,e){y(n!==ur,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=e.getIterator(M.Wrap),s=o.getNext();for(;s;)r=r||n.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=za(i,n.getCompare()):a=ar;let l=n.toString(),c=Object.assign({},this.indexSet_);c[l]=n;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(n,e){let i=_o(this.indexes_,(r,o)=>{let s=Zn(this.indexSet_,o);if(y(s,"Missing index implementation for "+o),r===ar)if(s.isDefinedOn(n.node)){let a=[],l=e.getIterator(M.Wrap),c=l.getNext();for(;c;)c.name!==n.name&&a.push(c),c=l.getNext();return a.push(n),za(a,s.getCompare())}else return ar;else{let a=e.get(n.name),l=r;return a&&(l=l.remove(new M(n.name,a))),l.insert(n,n.node)}});return new t(i,this.indexSet_)}removeFromIndexes(n,e){let i=_o(this.indexes_,r=>{if(r===ar)return r;{let o=e.get(n.name);return o?r.remove(new M(n.name,o)):r}});return new t(i,this.indexSet_)}};var Fo,R=(()=>{class t{static get EMPTY_NODE(){return Fo||(Fo=new t(new ht(Rh),null,gr.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Dv(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fo}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{let i=this.children_.get(e);return i===null?Fo:i}}getChild(e){let i=x(e);return i===null?this:this.getImmediateChild(i).getChild(X(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(y(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{let r=new M(e,i),o,s;i.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Fo:this.priorityNode_;return new t(o,a,s)}}updateChild(e,i){let r=x(e);if(r===null)return i;{y(x(e)!==".priority"||Pn(e)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(X(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(fe,(a,l)=>{i[a]=l.val(e),r++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+kv(this.getPriority().val())+":"),this.forEachChild(fe,(i,r)=>{let o=r.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":cv(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new M(e,i));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){let i=this.resolveIndex_(e);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){let i=this.getFirstChildName(e);return i?new M(i,this.children_.get(i)):null}getLastChildName(e){let i=this.resolveIndex_(e);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){let i=this.getLastChildName(e);return i?new M(i,this.children_.get(i)):null}forEachChild(e,i){let r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{let o=this.children_.getIteratorFrom(e.name,M.Wrap),s=o.peek();for(;s!=null&&i.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{let o=this.children_.getReverseIteratorFrom(e.name,M.Wrap),s=o.peek();for(;s!=null&&i.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===es?-1:0}withIndex(e){if(e===ur||this.indexMap_.hasIndex(e))return this;{let i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ur||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{let i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(fe),o=i.getIterator(fe),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===ur?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),jd=class extends R{constructor(){super(new ht(Rh),R.EMPTY_NODE,gr.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return R.EMPTY_NODE}isEmpty(){return!1}},es=new jd;Object.defineProperties(M,{MIN:{value:new M(hr,R.EMPTY_NODE)},MAX:{value:new M(hi,es)}});Ha.__EMPTY_NODE=R.EMPTY_NODE;pr.__childrenNodeConstructor=R;_R(es);yR(es);var ER=!0;function Te(t,n=null){if(t===null)return R.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(n=t[".priority"]),y(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let e=t;return new pr(e,Te(n))}if(!(t instanceof Array)&&ER){let e=[],i=!1;if(xe(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=Te(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),e.push(new M(s,l)))}}),e.length===0)return R.EMPTY_NODE;let o=za(e,mR,s=>s.name,Rh);if(i){let s=za(e,fe.getCompare());return new R(o,Te(n),new gr({".priority":s},{".priority":fe}))}else return new R(o,Te(n),gr.Default)}else{let e=R.EMPTY_NODE;return xe(t,(i,r)=>{if(Et(t,i)&&i.substring(0,1)!=="."){let o=Te(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Te(n))}}vR(Te);var Wd=class extends fr{constructor(n){super(),this.indexPath_=n,y(!F(n)&&x(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){let i=this.extractChild(n.node),r=this.extractChild(e.node),o=i.compareTo(r);return o===0?pi(n.name,e.name):o}makePost(n,e){let i=Te(n),r=R.EMPTY_NODE.updateChild(this.indexPath_,i);return new M(e,r)}maxPost(){let n=R.EMPTY_NODE.updateChild(this.indexPath_,es);return new M(hi,n)}toString(){return Ho(this.indexPath_,0).join("/")}};var Hd=class extends fr{compare(n,e){let i=n.node.compareTo(e.node);return i===0?pi(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return M.MIN}maxPost(){return M.MAX}makePost(n,e){let i=Te(n);return new M(e,i)}toString(){return".value"}},CR=new Hd;function Nv(t){return{type:"value",snapshotNode:t}}function mr(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function zo(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function Go(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}function wR(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}var qo=class{constructor(n){this.index_=n}updateChild(n,e,i,r,o,s){y(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=n.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?n.hasChild(e)?s.trackChildChange(zo(e,a)):y(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(mr(e,i)):s.trackChildChange(Go(e,i,a))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return i!=null&&(n.isLeafNode()||n.forEachChild(fe,(r,o)=>{e.hasChild(r)||i.trackChildChange(zo(r,o))}),e.isLeafNode()||e.forEachChild(fe,(r,o)=>{if(n.hasChild(r)){let s=n.getImmediateChild(r);s.equals(o)||i.trackChildChange(Go(r,o,s))}else i.trackChildChange(mr(r,o))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?R.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ga=class t{constructor(n){this.indexedFilter_=new qo(n.getIndex()),this.index_=n.getIndex(),this.startPost_=t.getStartPost_(n),this.endPost_=t.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){let e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&i}updateChild(n,e,i,r,o,s){return this.matches(new M(e,i))||(i=R.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,r,o,s)}updateFullNode(n,e,i){e.isLeafNode()&&(e=R.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(R.EMPTY_NODE);let o=this;return e.forEachChild(fe,(s,a)=>{o.matches(new M(s,a))||(r=r.updateImmediateChild(s,R.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,r,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){let e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){let e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}else return n.getIndex().maxPost()}};var zd=class{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{let i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ga(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,i,r,o,s){return this.rangedFilter_.matches(new M(e,i))||(i=R.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,r,o,s):this.fullLimitUpdateChild_(n,e,i,o,s)}updateFullNode(n,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=R.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){r=R.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=e.withIndex(this.index_),r=r.updatePriority(R.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,R.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,r,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=n;y(a.numChildren()===this.limit_,"");let l=new M(e,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(e)){let d=a.getImmediateChild(e),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===e||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(Go(e,i,d)),a.updateImmediateChild(e,i);{o?.trackChildChange(zo(e,d));let v=a.updateImmediateChild(e,R.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(mr(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}}else return i.isEmpty()?n:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(zo(c.name,c.node)),o.trackChildChange(mr(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(c.name,R.EMPTY_NODE)):n}};var Gd=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hr}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fe}copy(){let n=new t;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}};function IR(t){return t.loadsAllData()?new qo(t.getIndex()):t.hasLimit()?new zd(t):new Ga(t)}function G_(t){let n={};if(t.isDefault())return n;let e;if(t.index_===fe?e="$priority":t.index_===CR?e="$value":t.index_===ur?e="$key":(y(t.index_ instanceof Wd,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=ye(e),t.startSet_){let i=t.startAfterSet_?"startAfter":"startAt";n[i]=ye(t.indexStartValue_),t.startNameSet_&&(n[i]+=","+ye(t.indexStartName_))}if(t.endSet_){let i=t.endBeforeSet_?"endBefore":"endAt";n[i]=ye(t.indexEndValue_),t.endNameSet_&&(n[i]+=","+ye(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function q_(t){let n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_),n.sin=!t.startAfterSet_),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_),n.ein=!t.endBeforeSet_),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;e===""&&(t.isViewFromLeft()?e="l":e="r"),n.vf=e}return t.index_!==fe&&(n.i=t.index_.toString()),n}var qd=class t extends Ba{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return e!==void 0?"tag$"+e:(y(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,e,i,r){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Zo("p:rest:"),this.listens_={}}listen(n,e,i,r){let o=n._path.toString();this.log_("Listen called for "+o+" "+n._queryIdentifier);let s=t.getListenId_(n,i),a={};this.listens_[s]=a;let l=G_(n._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Zn(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(n,e){let i=t.getListenId_(n,e);delete this.listens_[i]}get(n){let e=G_(n._queryParams),i=n._path.toString(),r=new lt;return this.restRequest_(i+".json",e,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+ei(e);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Zi(a.responseText)}catch{je("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&je("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var Kd=class{constructor(){this.rootNode_=R.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}};function qa(){return{value:null,children:new Map}}function xv(t,n,e){if(F(n))t.value=e,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(n,e);else{let i=x(n);t.children.has(i)||t.children.set(i,qa());let r=t.children.get(i);n=X(n),xv(r,n,e)}}function Yd(t,n,e){t.value!==null?e(n,t.value):SR(t,(i,r)=>{let o=new q(n.toString()+"/"+i);Yd(r,o,e)})}function SR(t,n){t.children.forEach((e,i)=>{n(i,e)})}var Qd=class{constructor(n){this.collection_=n,this.last_=null}get(){let n=this.collection_.get(),e=Object.assign({},n);return this.last_&&xe(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=n,e}};var K_=10*1e3,TR=30*1e3,AR=5*60*1e3,Jd=class{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Qd(n);let i=K_+(TR-K_)*Math.random();Vo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let n=this.statsListener_.get(),e={},i=!1;xe(n,(r,o)=>{o>0&&Et(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),Vo(this.reportStats_.bind(this),Math.floor(Math.random()*2*AR))}};var $t=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}($t||{});function kh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Dh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Oh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Xd=class t{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=$t.ACK_USER_WRITE,this.source=kh()}operationForChild(n){if(F(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let e=this.affectedTree.subtree(new q(n));return new t(z(),e,this.revert)}}else return y(x(this.path)===n,"operationForChild called for unrelated child."),new t(X(this.path),this.affectedTree,this.revert)}};var Ka=class t{constructor(n,e){this.source=n,this.path=e,this.type=$t.LISTEN_COMPLETE}operationForChild(n){return F(this.path)?new t(this.source,z()):new t(this.source,X(this.path))}};var _r=class t{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=$t.OVERWRITE}operationForChild(n){return F(this.path)?new t(this.source,z(),this.snap.getImmediateChild(n)):new t(this.source,X(this.path),this.snap)}};var Ko=class t{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=$t.MERGE}operationForChild(n){if(F(this.path)){let e=this.children.subtree(new q(n));return e.isEmpty()?null:e.value?new _r(this.source,z(),e.value):new t(this.source,z(),e)}else return y(x(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new t(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Qt=class{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(F(n))return this.isFullyInitialized()&&!this.filtered_;let e=x(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}};var Zd=class{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}};function RR(t,n,e,i){let r=[],o=[];return n.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(wR(s.childName,s.snapshotNode))}),$o(t,r,"child_removed",n,i,e),$o(t,r,"child_added",n,i,e),$o(t,r,"child_moved",o,i,e),$o(t,r,"child_changed",n,i,e),$o(t,r,"value",n,i,e),r}function $o(t,n,e,i,r,o){let s=i.filter(a=>a.type===e);s.sort((a,l)=>DR(t,a,l)),s.forEach(a=>{let l=kR(t,a,o);r.forEach(c=>{c.respondsTo(a.type)&&n.push(c.createEvent(l,t.query_))})})}function kR(t,n,e){return n.type==="value"||n.type==="child_removed"||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}function DR(t,n,e){if(n.childName==null||e.childName==null)throw Xn("Should only compare child_ events.");let i=new M(n.childName,n.snapshotNode),r=new M(e.childName,e.snapshotNode);return t.index_.compare(i,r)}function ll(t,n){return{eventCache:t,serverCache:n}}function Bo(t,n,e,i){return ll(new Qt(n,e,i),t.serverCache)}function Mv(t,n,e,i){return ll(t.eventCache,new Qt(n,e,i))}function eh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Ed,OR=()=>(Ed||(Ed=new ht(OA)),Ed),We=class t{static fromObject(n){let e=new t(null);return xe(n,(i,r)=>{e=e.set(new q(i),r)}),e}constructor(n,e=OR()){this.value=n,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(this.value!=null&&e(this.value))return{path:z(),value:this.value};if(F(n))return null;{let i=x(n),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(X(n),e);return o!=null?{path:he(new q(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(F(n))return this;{let e=x(n),i=this.children.get(e);return i!==null?i.subtree(X(n)):new t(null)}}set(n,e){if(F(n))return new t(e,this.children);{let i=x(n),o=(this.children.get(i)||new t(null)).set(X(n),e),s=this.children.insert(i,o);return new t(this.value,s)}}remove(n){if(F(n))return this.children.isEmpty()?new t(null):new t(null,this.children);{let e=x(n),i=this.children.get(e);if(i){let r=i.remove(X(n)),o;return r.isEmpty()?o=this.children.remove(e):o=this.children.insert(e,r),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(n){if(F(n))return this.value;{let e=x(n),i=this.children.get(e);return i?i.get(X(n)):null}}setTree(n,e){if(F(n))return e;{let i=x(n),o=(this.children.get(i)||new t(null)).setTree(X(n),e),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new t(this.value,s)}}fold(n){return this.fold_(z(),n)}fold_(n,e){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(he(n,r),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,z(),e)}findOnPath_(n,e,i){let r=this.value?i(e,this.value):!1;if(r)return r;if(F(n))return null;{let o=x(n),s=this.children.get(o);return s?s.findOnPath_(X(n),he(e,o),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,z(),e)}foreachOnPath_(n,e,i){if(F(n))return this;{this.value&&i(e,this.value);let r=x(n),o=this.children.get(r);return o?o.foreachOnPath_(X(n),he(e,r),i):new t(null)}}foreach(n){this.foreach_(z(),n)}foreach_(n,e){this.children.inorderTraversal((i,r)=>{r.foreach_(he(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}};var St=class t{constructor(n){this.writeTree_=n}static empty(){return new t(new We(null))}};function jo(t,n,e){if(F(n))return new St(new We(e));{let i=t.writeTree_.findRootMostValueAndPath(n);if(i!=null){let r=i.path,o=i.value,s=Ke(r,n);return o=o.updateChild(s,e),new St(t.writeTree_.set(r,o))}else{let r=new We(e),o=t.writeTree_.setTree(n,r);return new St(o)}}}function th(t,n,e){let i=t;return xe(e,(r,o)=>{i=jo(i,he(n,r),o)}),i}function Y_(t,n){if(F(n))return St.empty();{let e=t.writeTree_.setTree(n,new We(null));return new St(e)}}function nh(t,n){return gi(t,n)!=null}function gi(t,n){let e=t.writeTree_.findRootMostValueAndPath(n);return e!=null?t.writeTree_.get(e.path).getChild(Ke(e.path,n)):null}function Q_(t){let n=[],e=t.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(fe,(i,r)=>{n.push(new M(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&n.push(new M(i,r.value))}),n}function On(t,n){if(F(n))return t;{let e=gi(t,n);return e!=null?new St(new We(e)):new St(t.writeTree_.subtree(n))}}function ih(t){return t.writeTree_.isEmpty()}function vr(t,n){return Lv(z(),t.writeTree_,n)}function Lv(t,n,e){if(n.value!=null)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((r,o)=>{r===".priority"?(y(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):e=Lv(he(t,r),o,e)}),!e.getChild(t).isEmpty()&&i!==null&&(e=e.updateChild(he(t,".priority"),i)),e}}function Ph(t,n){return Uv(n,t)}function PR(t,n,e,i,r){y(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:r}),r&&(t.visibleWrites=jo(t.visibleWrites,n,e)),t.lastWriteId=i}function NR(t,n,e,i){y(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=th(t.visibleWrites,n,e),t.lastWriteId=i}function xR(t,n){for(let e=0;e<t.allWrites.length;e++){let i=t.allWrites[e];if(i.writeId===n)return i}return null}function MR(t,n){let e=t.allWrites.findIndex(a=>a.writeId===n);y(e>=0,"removeWrite called with nonexistent writeId.");let i=t.allWrites[e];t.allWrites.splice(e,1);let r=i.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=e&&LR(a,i.path)?r=!1:dt(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return FR(t),!0;if(i.snap)t.visibleWrites=Y_(t.visibleWrites,i.path);else{let a=i.children;xe(a,l=>{t.visibleWrites=Y_(t.visibleWrites,he(i.path,l))})}return!0}else return!1}function LR(t,n){if(t.snap)return dt(t.path,n);for(let e in t.children)if(t.children.hasOwnProperty(e)&&dt(he(t.path,e),n))return!0;return!1}function FR(t){t.visibleWrites=Fv(t.allWrites,$R,z()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function $R(t){return t.visible}function Fv(t,n,e){let i=St.empty();for(let r=0;r<t.length;++r){let o=t[r];if(n(o)){let s=o.path,a;if(o.snap)dt(e,s)?(a=Ke(e,s),i=jo(i,a,o.snap)):dt(s,e)&&(a=Ke(s,e),i=jo(i,z(),o.snap.getChild(a)));else if(o.children){if(dt(e,s))a=Ke(e,s),i=th(i,a,o.children);else if(dt(s,e))if(a=Ke(s,e),F(a))i=th(i,z(),o.children);else{let l=Zn(o.children,x(a));if(l){let c=l.getChild(X(a));i=jo(i,z(),c)}}}else throw Xn("WriteRecord should have .snap or .children")}}return i}function $v(t,n,e,i,r){if(!i&&!r){let o=gi(t.visibleWrites,n);if(o!=null)return o;{let s=On(t.visibleWrites,n);if(ih(s))return e;if(e==null&&!nh(s,z()))return null;{let a=e||R.EMPTY_NODE;return vr(s,a)}}}else{let o=On(t.visibleWrites,n);if(!r&&ih(o))return e;if(!r&&e==null&&!nh(o,z()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(dt(c.path,n)||dt(n,c.path))},a=Fv(t.allWrites,s,n),l=e||R.EMPTY_NODE;return vr(a,l)}}}function VR(t,n,e){let i=R.EMPTY_NODE,r=gi(t.visibleWrites,n);if(r)return r.isLeafNode()||r.forEachChild(fe,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(e){let o=On(t.visibleWrites,n);return e.forEachChild(fe,(s,a)=>{let l=vr(On(o,new q(s)),a);i=i.updateImmediateChild(s,l)}),Q_(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=On(t.visibleWrites,n);return Q_(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function UR(t,n,e,i,r){y(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=he(n,e);if(nh(t.visibleWrites,o))return null;{let s=On(t.visibleWrites,o);return ih(s)?r.getChild(e):vr(s,r.getChild(e))}}function BR(t,n,e,i){let r=he(n,e),o=gi(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(e)){let s=On(t.visibleWrites,r);return vr(s,i.getNode().getImmediateChild(e))}else return null}function jR(t,n){return gi(t.visibleWrites,n)}function WR(t,n,e,i,r,o,s){let a,l=On(t.visibleWrites,n),c=gi(l,z());if(c!=null)a=c;else if(e!=null)a=vr(l,e);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function HR(){return{visibleWrites:St.empty(),allWrites:[],lastWriteId:-1}}function Ya(t,n,e,i){return $v(t.writeTree,t.treePath,n,e,i)}function Nh(t,n){return VR(t.writeTree,t.treePath,n)}function J_(t,n,e,i){return UR(t.writeTree,t.treePath,n,e,i)}function Qa(t,n){return jR(t.writeTree,he(t.treePath,n))}function zR(t,n,e,i,r,o){return WR(t.writeTree,t.treePath,n,e,i,r,o)}function xh(t,n,e){return BR(t.writeTree,t.treePath,n,e)}function Vv(t,n){return Uv(he(t.treePath,n),t.writeTree)}function Uv(t,n){return{treePath:t,writeTree:n}}var rh=class{constructor(){this.changeMap=new Map}trackChildChange(n){let e=n.type,i=n.childName;y(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),y(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(e==="child_added"&&o==="child_removed")this.changeMap.set(i,Go(i,n.snapshotNode,r.snapshotNode));else if(e==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(e==="child_removed"&&o==="child_changed")this.changeMap.set(i,zo(i,r.oldSnap));else if(e==="child_changed"&&o==="child_added")this.changeMap.set(i,mr(i,n.snapshotNode));else if(e==="child_changed"&&o==="child_changed")this.changeMap.set(i,Go(i,n.snapshotNode,r.oldSnap));else throw Xn("Illegal combination of changes: "+n+" occurred after "+r)}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}};var oh=class{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}},Bv=new oh,Yo=class{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){let e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{let i=this.optCompleteServerCache_!=null?new Qt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xh(this.writes_,n,i)}}getChildAfterChild(n,e,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fi(this.viewCache_),o=zR(this.writes_,r,e,1,i,n);return o.length===0?null:o[0]}};function GR(t){return{filter:t}}function qR(t,n){y(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),y(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function KR(t,n,e,i,r){let o=new rh,s,a;if(e.type===$t.OVERWRITE){let c=e;c.source.fromUser?s=sh(t,n,c.path,c.snap,i,r,o):(y(c.source.fromServer,"Unknown source."),a=c.source.tagged||n.serverCache.isFiltered()&&!F(c.path),s=Ja(t,n,c.path,c.snap,i,r,a,o))}else if(e.type===$t.MERGE){let c=e;c.source.fromUser?s=QR(t,n,c.path,c.children,i,r,o):(y(c.source.fromServer,"Unknown source."),a=c.source.tagged||n.serverCache.isFiltered(),s=ah(t,n,c.path,c.children,i,r,a,o))}else if(e.type===$t.ACK_USER_WRITE){let c=e;c.revert?s=ZR(t,n,c.path,i,r,o):s=JR(t,n,c.path,c.affectedTree,i,r,o)}else if(e.type===$t.LISTEN_COMPLETE)s=XR(t,n,e.path,i,o);else throw Xn("Unknown operation type: "+e.type);let l=o.getChanges();return YR(n,s,l),{viewCache:s,changes:l}}function YR(t,n,e){let i=n.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=eh(t);(e.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(Nv(eh(n)))}}function jv(t,n,e,i,r,o){let s=n.eventCache;if(Qa(i,e)!=null)return n;{let a,l;if(F(e))if(y(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){let c=fi(n),u=c instanceof R?c:R.EMPTY_NODE,d=Nh(i,u);a=t.filter.updateFullNode(n.eventCache.getNode(),d,o)}else{let c=Ya(i,fi(n));a=t.filter.updateFullNode(n.eventCache.getNode(),c,o)}else{let c=x(e);if(c===".priority"){y(Pn(e)===1,"Can't have a priority with additional path components");let u=s.getNode();l=n.serverCache.getNode();let d=J_(i,e,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=X(e),d;if(s.isCompleteForChild(c)){l=n.serverCache.getNode();let h=J_(i,e,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=xh(i,c,n.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return Bo(n,a,s.isFullyInitialized()||F(e),t.filter.filtersNodes())}}function Ja(t,n,e,i,r,o,s,a){let l=n.serverCache,c,u=s?t.filter:t.filter.getIndexedFilter();if(F(e))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(e,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=x(e);if(!l.isCompleteForPath(e)&&Pn(e)>1)return n;let g=X(e),b=l.getNode().getImmediateChild(f).updateChild(g,i);f===".priority"?c=u.updatePriority(l.getNode(),b):c=u.updateChild(l.getNode(),f,b,g,Bv,null)}let d=Mv(n,c,l.isFullyInitialized()||F(e),u.filtersNodes()),h=new Yo(r,d,o);return jv(t,d,e,r,h,a)}function sh(t,n,e,i,r,o,s){let a=n.eventCache,l,c,u=new Yo(r,n,o);if(F(e))c=t.filter.updateFullNode(n.eventCache.getNode(),i,s),l=Bo(n,c,!0,t.filter.filtersNodes());else{let d=x(e);if(d===".priority")c=t.filter.updatePriority(n.eventCache.getNode(),i),l=Bo(n,c,a.isFullyInitialized(),a.isFiltered());else{let h=X(e),f=a.getNode().getImmediateChild(d),g;if(F(h))g=i;else{let v=u.getCompleteChild(d);v!=null?Sh(h)===".priority"&&v.getChild(Av(h)).isEmpty()?g=v:g=v.updateChild(h,i):g=R.EMPTY_NODE}if(f.equals(g))l=n;else{let v=t.filter.updateChild(a.getNode(),d,g,h,u,s);l=Bo(n,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function X_(t,n){return t.eventCache.isCompleteForChild(n)}function QR(t,n,e,i,r,o,s){let a=n;return i.foreach((l,c)=>{let u=he(e,l);X_(n,x(u))&&(a=sh(t,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=he(e,l);X_(n,x(u))||(a=sh(t,a,u,c,r,o,s))}),a}function Z_(t,n,e){return e.foreach((i,r)=>{n=n.updateChild(i,r)}),n}function ah(t,n,e,i,r,o,s,a){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let l=n,c;F(e)?c=i:c=new We(null).setTree(e,i);let u=n.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=n.serverCache.getNode().getImmediateChild(d),g=Z_(t,f,h);l=Ja(t,l,new q(d),g,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!n.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let g=n.serverCache.getNode().getImmediateChild(d),v=Z_(t,g,h);l=Ja(t,l,new q(d),v,r,o,s,a)}}),l}function JR(t,n,e,i,r,o,s){if(Qa(r,e)!=null)return n;let a=n.serverCache.isFiltered(),l=n.serverCache;if(i.value!=null){if(F(e)&&l.isFullyInitialized()||l.isCompleteForPath(e))return Ja(t,n,e,l.getNode().getChild(e),r,o,a,s);if(F(e)){let c=new We(null);return l.getNode().forEachChild(ur,(u,d)=>{c=c.set(new q(u),d)}),ah(t,n,e,c,r,o,a,s)}else return n}else{let c=new We(null);return i.foreach((u,d)=>{let h=he(e,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),ah(t,n,e,c,r,o,a,s)}}function XR(t,n,e,i,r){let o=n.serverCache,s=Mv(n,o.getNode(),o.isFullyInitialized()||F(e),o.isFiltered());return jv(t,s,e,i,Bv,r)}function ZR(t,n,e,i,r,o){let s;if(Qa(i,e)!=null)return n;{let a=new Yo(i,n,r),l=n.eventCache.getNode(),c;if(F(e)||x(e)===".priority"){let u;if(n.serverCache.isFullyInitialized())u=Ya(i,fi(n));else{let d=n.serverCache.getNode();y(d instanceof R,"serverChildren would be complete if leaf node"),u=Nh(i,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{let u=x(e),d=xh(i,u,n.serverCache);d==null&&n.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,X(e),a,o):n.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,R.EMPTY_NODE,X(e),a,o):c=l,c.isEmpty()&&n.serverCache.isFullyInitialized()&&(s=Ya(i,fi(n)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=n.serverCache.isFullyInitialized()||Qa(i,z())!=null,Bo(n,c,s,t.filter.filtersNodes())}}var lh=class{constructor(n,e){this.query_=n,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new qo(i.getIndex()),o=IR(i);this.processor_=GR(o);let s=e.serverCache,a=e.eventCache,l=r.updateFullNode(R.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(R.EMPTY_NODE,a.getNode(),null),u=new Qt(l,s.isFullyInitialized(),r.filtersNodes()),d=new Qt(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=ll(d,u),this.eventGenerator_=new Zd(this.query_)}get query(){return this.query_}};function ek(t){return t.viewCache_.serverCache.getNode()}function tk(t,n){let e=fi(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!F(n)&&!e.getImmediateChild(x(n)).isEmpty())?e.getChild(n):null}function ev(t){return t.eventRegistrations_.length===0}function nk(t,n){t.eventRegistrations_.push(n)}function tv(t,n,e){let i=[];if(e){y(n==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(e,r);s&&i.push(s)})}if(n){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(n))r.push(s);else if(n.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function nv(t,n,e,i){n.type===$t.MERGE&&n.source.queryId!==null&&(y(fi(t.viewCache_),"We should always have a full cache before handling merges"),y(eh(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,o=KR(t.processor_,r,n,e,i);return qR(t.processor_,o.viewCache),y(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Wv(t,o.changes,o.viewCache.eventCache.getNode(),null)}function ik(t,n){let e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(fe,(o,s)=>{i.push(mr(o,s))}),e.isFullyInitialized()&&i.push(Nv(e.getNode())),Wv(t,i,e.getNode(),n)}function Wv(t,n,e,i){let r=i?[i]:t.eventRegistrations_;return RR(t.eventGenerator_,n,e,r)}var Xa,ch=class{constructor(){this.views=new Map}};function rk(t){y(!Xa,"__referenceConstructor has already been defined"),Xa=t}function ok(){return y(Xa,"Reference.ts has not been loaded"),Xa}function sk(t){return t.views.size===0}function Mh(t,n,e,i){let r=n.source.queryId;if(r!==null){let o=t.views.get(r);return y(o!=null,"SyncTree gave us an op for an invalid query."),nv(o,n,e,i)}else{let o=[];for(let s of t.views.values())o=o.concat(nv(s,n,e,i));return o}}function ak(t,n,e,i,r){let o=n._queryIdentifier,s=t.views.get(o);if(!s){let a=Ya(e,r?i:null),l=!1;a?l=!0:i instanceof R?(a=Nh(e,i),l=!1):(a=R.EMPTY_NODE,l=!1);let c=ll(new Qt(a,l,!1),new Qt(i,r,!1));return new lh(n,c)}return s}function lk(t,n,e,i,r,o){let s=ak(t,n,i,r,o);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,s),nk(s,e),ik(s,e)}function ck(t,n,e,i){let r=n._queryIdentifier,o=[],s=[],a=Nn(t);if(r==="default")for(let[l,c]of t.views.entries())s=s.concat(tv(c,e,i)),ev(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=t.views.get(r);l&&(s=s.concat(tv(l,e,i)),ev(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Nn(t)&&o.push(new(ok())(n._repo,n._path)),{removed:o,events:s}}function Hv(t){let n=[];for(let e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function dr(t,n){let e=null;for(let i of t.views.values())e=e||tk(i,n);return e}function zv(t,n){if(n._queryParams.loadsAllData())return cl(t);{let i=n._queryIdentifier;return t.views.get(i)}}function Gv(t,n){return zv(t,n)!=null}function Nn(t){return cl(t)!=null}function cl(t){for(let n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}var Za;function uk(t){y(!Za,"__referenceConstructor has already been defined"),Za=t}function dk(){return y(Za,"Reference.ts has not been loaded"),Za}var hk=1,el=class{constructor(n){this.listenProvider_=n,this.syncPointTree_=new We(null),this.pendingWriteTree_=HR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function qv(t,n,e,i,r){return PR(t.pendingWriteTree_,n,e,i,r),r?Er(t,new _r(kh(),n,e)):[]}function fk(t,n,e,i){NR(t.pendingWriteTree_,n,e,i);let r=We.fromObject(e);return Er(t,new Ko(kh(),n,r))}function Dn(t,n,e=!1){let i=xR(t.pendingWriteTree_,n);if(MR(t.pendingWriteTree_,n)){let o=new We(null);return i.snap!=null?o=o.set(z(),!0):xe(i.children,s=>{o=o.set(new q(s),!0)}),Er(t,new Xd(i.path,o,e))}else return[]}function ul(t,n,e){return Er(t,new _r(Dh(),n,e))}function pk(t,n,e){let i=We.fromObject(e);return Er(t,new Ko(Dh(),n,i))}function gk(t,n){return Er(t,new Ka(Dh(),n))}function mk(t,n,e){let i=Fh(t,e);if(i){let r=$h(i),o=r.path,s=r.queryId,a=Ke(o,n),l=new Ka(Oh(s),a);return Vh(t,o,l)}else return[]}function uh(t,n,e,i,r=!1){let o=n._path,s=t.syncPointTree_.get(o),a=[];if(s&&(n._queryIdentifier==="default"||Gv(s,n))){let l=ck(s,n,e,i);sk(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(h,f)=>Nn(f));if(u&&!d){let h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=yk(h);for(let g=0;g<f.length;++g){let v=f[g],b=v.query,D=Qv(t,v);t.listenProvider_.startListening(Wo(b),tl(t,b),D.hashFn,D.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(Wo(n),null):c.forEach(h=>{let f=t.queryToTagMap.get(dl(h));t.listenProvider_.stopListening(Wo(h),f)}))}bk(t,c)}return a}function _k(t,n,e,i){let r=Fh(t,i);if(r!=null){let o=$h(r),s=o.path,a=o.queryId,l=Ke(s,n),c=new _r(Oh(a),l,e);return Vh(t,s,c)}else return[]}function vk(t,n,e,i){let r=Fh(t,i);if(r){let o=$h(r),s=o.path,a=o.queryId,l=Ke(s,n),c=We.fromObject(e),u=new Ko(Oh(a),l,c);return Vh(t,s,u)}else return[]}function iv(t,n,e,i=!1){let r=n._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(h,f)=>{let g=Ke(h,r);o=o||dr(f,g),s=s||Nn(f)});let a=t.syncPointTree_.get(r);a?(s=s||Nn(a),o=o||dr(a,z())):(a=new ch,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=R.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,g)=>{let v=dr(g,z());v&&(o=o.updateImmediateChild(f,v))}));let c=Gv(a,n);if(!c&&!n._queryParams.loadsAllData()){let h=dl(n);y(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=Ek();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=Ph(t.pendingWriteTree_,r),d=lk(a,n,e,u,o,l);if(!c&&!s&&!i){let h=zv(a,n);d=d.concat(Ck(t,n,h))}return d}function Lh(t,n,e){let r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(n,(s,a)=>{let l=Ke(s,n),c=dr(a,l);if(c)return c});return $v(r,n,o,e,!0)}function Er(t,n){return Kv(n,t.syncPointTree_,null,Ph(t.pendingWriteTree_,z()))}function Kv(t,n,e,i){if(F(t.path))return Yv(t,n,e,i);{let r=n.get(z());e==null&&r!=null&&(e=dr(r,z()));let o=[],s=x(t.path),a=t.operationForChild(s),l=n.children.get(s);if(l&&a){let c=e?e.getImmediateChild(s):null,u=Vv(i,s);o=o.concat(Kv(a,l,c,u))}return r&&(o=o.concat(Mh(r,t,i,e))),o}}function Yv(t,n,e,i){let r=n.get(z());e==null&&r!=null&&(e=dr(r,z()));let o=[];return n.children.inorderTraversal((s,a)=>{let l=e?e.getImmediateChild(s):null,c=Vv(i,s),u=t.operationForChild(s);u&&(o=o.concat(Yv(u,a,l,c)))}),r&&(o=o.concat(Mh(r,t,i,e))),o}function Qv(t,n){let e=n.query,i=tl(t,e);return{hashFn:()=>(ek(n)||R.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?mk(t,e._path,i):gk(t,e._path);{let o=xA(r,e);return uh(t,e,null,o)}}}}function tl(t,n){let e=dl(n);return t.queryToTagMap.get(e)}function dl(t){return t._path.toString()+"$"+t._queryIdentifier}function Fh(t,n){return t.tagToQueryMap.get(n)}function $h(t){let n=t.indexOf("$");return y(n!==-1&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new q(t.substr(0,n))}}function Vh(t,n,e){let i=t.syncPointTree_.get(n);y(i,"Missing sync point for query tag that we're tracking");let r=Ph(t.pendingWriteTree_,n);return Mh(i,e,r,null)}function yk(t){return t.fold((n,e,i)=>{if(e&&Nn(e))return[cl(e)];{let r=[];return e&&(r=Hv(e)),xe(i,(o,s)=>{r=r.concat(s)}),r}})}function Wo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(dk())(t._repo,t._path):t}function bk(t,n){for(let e=0;e<n.length;++e){let i=n[e];if(!i._queryParams.loadsAllData()){let r=dl(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function Ek(){return hk++}function Ck(t,n,e){let i=n._path,r=tl(t,n),o=Qv(t,e),s=t.listenProvider_.startListening(Wo(n),r,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(i);if(r)y(!Nn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!F(c)&&u&&Nn(u))return[cl(u).query];{let h=[];return u&&(h=h.concat(Hv(u).map(f=>f.query))),xe(d,(f,g)=>{h=h.concat(g)}),h}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(Wo(u),tl(t,u))}}return s}var dh=class t{constructor(n){this.node_=n}getImmediateChild(n){let e=this.node_.getImmediateChild(n);return new t(e)}node(){return this.node_}},hh=class t{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){let e=he(this.path_,n);return new t(this.syncTree_,e)}node(){return Lh(this.syncTree_,this.path_)}},wk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},rv=function(t,n,e){if(!t||typeof t!="object")return t;if(y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Ik(t[".sv"],n,e);if(typeof t[".sv"]=="object")return Sk(t[".sv"],n);y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Ik=function(t,n,e){switch(t){case"timestamp":return e.timestamp;default:y(!1,"Unexpected server value: "+t)}},Sk=function(t,n,e){t.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let i=t.increment;typeof i!="number"&&y(!1,"Unexpected increment value: "+i);let r=n.node();if(y(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},Jv=function(t,n,e,i){return Uh(n,new hh(e,t),i)},Xv=function(t,n,e){return Uh(t,new dh(n),e)};function Uh(t,n,e){let i=t.getPriority().val(),r=rv(i,n.getImmediateChild(".priority"),e),o;if(t.isLeafNode()){let s=t,a=rv(s.getValue(),n,e);return a!==s.getValue()||r!==s.getPriority().val()?new pr(a,Te(r)):t}else{let s=t;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new pr(r))),s.forEachChild(fe,(a,l)=>{let c=Uh(l,n.getImmediateChild(a),e);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Qo=class{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}};function Bh(t,n){let e=n instanceof q?n:new q(n),i=t,r=x(e);for(;r!==null;){let o=Zn(i.node.children,r)||{children:{},childCount:0};i=new Qo(r,i,o),e=X(e),r=x(e)}return i}function Cr(t){return t.node.value}function Zv(t,n){t.node.value=n,fh(t)}function ey(t){return t.node.childCount>0}function Tk(t){return Cr(t)===void 0&&!ey(t)}function hl(t,n){xe(t.node.children,(e,i)=>{n(new Qo(e,t,i))})}function ty(t,n,e,i){e&&!i&&n(t),hl(t,r=>{ty(r,n,!0,i)}),e&&i&&n(t)}function Ak(t,n,e){let i=e?t:t.parent;for(;i!==null;){if(n(i))return!0;i=i.parent}return!1}function ts(t){return new q(t.parent===null?t.name:ts(t.parent)+"/"+t.name)}function fh(t){t.parent!==null&&Rk(t.parent,t.name,t)}function Rk(t,n,e){let i=Tk(e),r=Et(t.node.children,n);i&&r?(delete t.node.children[n],t.node.childCount--,fh(t)):!i&&!r&&(t.node.children[n]=e.node,t.node.childCount++,fh(t))}var kk=/[\[\].#$\/\u0000-\u001F\u007F]/,Dk=/[\[\].#$\u0000-\u001F\u007F]/,Cd=10*1024*1024,jh=function(t){return typeof t=="string"&&t.length!==0&&!kk.test(t)},ny=function(t){return typeof t=="string"&&t.length!==0&&!Dk.test(t)},Ok=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ny(t)},Pk=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ch(t)||t&&typeof t=="object"&&Et(t,".sv")},Nk=function(t,n,e,i){i&&n===void 0||fl(vo(t,"value"),n,e)},fl=function(t,n,e){let i=e instanceof q?new Ld(e,t):e;if(n===void 0)throw new Error(t+"contains undefined "+ci(i));if(typeof n=="function")throw new Error(t+"contains a function "+ci(i)+" with contents = "+n.toString());if(Ch(n))throw new Error(t+"contains "+n.toString()+" "+ci(i));if(typeof n=="string"&&n.length>Cd/3&&yo(n)>Cd)throw new Error(t+"contains a string greater than "+Cd+" utf8 bytes "+ci(i)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let r=!1,o=!1;if(xe(n,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!jh(s)))throw new Error(t+" contains an invalid key ("+s+") "+ci(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);uR(i,s),fl(t,a,i),dR(i)}),r&&o)throw new Error(t+' contains ".value" child '+ci(i)+" in addition to actual children.")}},xk=function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];let o=Ho(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!jh(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(cR);let r=null;for(e=0;e<n.length;e++){if(i=n[e],r!==null&&dt(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},Mk=function(t,n,e,i){if(i&&n===void 0)return;let r=vo(t,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(r+" must be an object containing the children to replace.");let o=[];xe(n,(s,a)=>{let l=new q(s);if(fl(r,a,he(e,l)),Sh(l)===".priority"&&!Pk(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),xk(r,o)};var iy=function(t,n,e,i){if(!(i&&e===void 0)&&!ny(e))throw new Error(vo(t,n)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Lk=function(t,n,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),iy(t,n,e,i)},Fk=function(t,n){if(x(n)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},$k=function(t,n){let e=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!jh(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!Ok(e))throw new Error(vo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var ph=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function pl(t,n){let e=null;for(let i=0;i<n.length;i++){let r=n[i],o=r.getPath();e!==null&&!Th(o,e.path)&&(t.eventLists_.push(e),e=null),e===null&&(e={events:[],path:o}),e.events.push(r)}e&&t.eventLists_.push(e)}function ry(t,n,e){pl(t,e),oy(t,i=>Th(i,n))}function Tt(t,n,e){pl(t,e),oy(t,i=>dt(i,n)||dt(n,i))}function oy(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){let r=t.eventLists_[i];if(r){let o=r.path;n(o)?(Vk(t.eventLists_[i]),t.eventLists_[i]=null):e=!1}}e&&(t.eventLists_=[]),t.recursionDepth_--}function Vk(t){for(let n=0;n<t.events.length;n++){let e=t.events[n];if(e!==null){t.events[n]=null;let i=e.getEventRunner();di&&Ne("event: "+e.toString()),br(i)}}}var Uk="repo_interrupt",Bk=25,gh=class{constructor(n,e,i,r){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ph,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qa(),this.transactionQueueTree_=new Qo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function jk(t,n,e){if(t.stats_=Ih(t.repoInfo_),t.forceRestClient_||$A())t.server_=new qd(t.repoInfo_,(i,r,o,s)=>{ov(t,i,r,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sv(t,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ye(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Ah(t.repoInfo_,n,(i,r,o,s)=>{ov(t,i,r,o,s)},i=>{sv(t,i)},i=>{Hk(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=UA(t.repoInfo_,()=>new Jd(t.stats_,t.server_)),t.infoData_=new Kd,t.infoSyncTree_=new el({startListening:(i,r,o,s)=>{let a=[],l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=ul(t.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Wh(t,"connected",!1),t.serverSyncTree_=new el({startListening:(i,r,o,s)=>(t.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);Tt(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function Wk(t){let e=t.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function gl(t){return wk({timestamp:Wk(t)})}function ov(t,n,e,i,r){t.dataUpdateCount++;let o=new q(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let s=[];if(r)if(i){let l=_o(e,c=>Te(c));s=vk(t.serverSyncTree_,o,l,r)}else{let l=Te(e);s=_k(t.serverSyncTree_,o,l,r)}else if(i){let l=_o(e,c=>Te(c));s=pk(t.serverSyncTree_,o,l)}else{let l=Te(e);s=ul(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=yr(t,o)),Tt(t.eventQueue_,a,s)}function sv(t,n){Wh(t,"connected",n),n===!1&&qk(t)}function Hk(t,n){xe(n,(e,i)=>{Wh(t,e,i)})}function Wh(t,n,e){let i=new q("/.info/"+n),r=Te(e);t.infoData_.updateSnapshot(i,r);let o=ul(t.infoSyncTree_,i,r);Tt(t.eventQueue_,i,o)}function Hh(t){return t.nextWriteId_++}function zk(t,n,e,i,r){ml(t,"set",{path:n.toString(),value:e,priority:i});let o=gl(t),s=Te(e,i),a=Lh(t.serverSyncTree_,n),l=Xv(s,a,o),c=Hh(t),u=qv(t.serverSyncTree_,n,l,c,!0);pl(t.eventQueue_,u),t.server_.put(n.toString(),s.val(!0),(h,f)=>{let g=h==="ok";g||je("set at "+n+" failed: "+h);let v=Dn(t.serverSyncTree_,c,!g);Tt(t.eventQueue_,n,v),_h(t,r,h,f)});let d=Gh(t,n);yr(t,d),Tt(t.eventQueue_,d,[])}function Gk(t,n,e,i){ml(t,"update",{path:n.toString(),value:e});let r=!0,o=gl(t),s={};if(xe(e,(a,l)=>{r=!1,s[a]=Jv(he(n,a),Te(l),t.serverSyncTree_,o)}),r)Ne("update() called with empty data.  Don't do anything."),_h(t,i,"ok",void 0);else{let a=Hh(t),l=fk(t.serverSyncTree_,n,s,a);pl(t.eventQueue_,l),t.server_.merge(n.toString(),e,(c,u)=>{let d=c==="ok";d||je("update at "+n+" failed: "+c);let h=Dn(t.serverSyncTree_,a,!d),f=h.length>0?yr(t,n):n;Tt(t.eventQueue_,f,h),_h(t,i,c,u)}),xe(e,c=>{let u=Gh(t,he(n,c));yr(t,u)}),Tt(t.eventQueue_,n,[])}}function qk(t){ml(t,"onDisconnectEvents");let n=gl(t),e=qa();Yd(t.onDisconnect_,z(),(r,o)=>{let s=Jv(r,o,t.serverSyncTree_,n);xv(e,r,s)});let i=[];Yd(e,z(),(r,o)=>{i=i.concat(ul(t.serverSyncTree_,r,o));let s=Gh(t,r);yr(t,s)}),t.onDisconnect_=qa(),Tt(t.eventQueue_,z(),i)}function Kk(t,n,e){let i;x(n._path)===".info"?i=iv(t.infoSyncTree_,n,e):i=iv(t.serverSyncTree_,n,e),ry(t.eventQueue_,n._path,i)}function mh(t,n,e){let i;x(n._path)===".info"?i=uh(t.infoSyncTree_,n,e):i=uh(t.serverSyncTree_,n,e),ry(t.eventQueue_,n._path,i)}function Yk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Uk)}function ml(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Ne(e,...n)}function _h(t,n,e,i){n&&br(()=>{if(e==="ok")n(null);else{let r=(e||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,n(s)}})}function sy(t,n,e){return Lh(t.serverSyncTree_,n,e)||R.EMPTY_NODE}function zh(t,n=t.transactionQueueTree_){if(n||_l(t,n),Cr(n)){let e=ly(t,n);y(e.length>0,"Sending zero length transaction queue"),e.every(r=>r.status===0)&&Qk(t,ts(n),e)}else ey(n)&&hl(n,e=>{zh(t,e)})}function Qk(t,n,e){let i=e.map(c=>c.currentWriteId),r=sy(t,n,i),o=r,s=r.hash();for(let c=0;c<e.length;c++){let u=e[c];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ke(n,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=n;t.server_.put(l.toString(),a,c=>{ml(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<e.length;h++)e[h].status=2,u=u.concat(Dn(t.serverSyncTree_,e[h].currentWriteId)),e[h].onComplete&&d.push(()=>e[h].onComplete(null,!0,e[h].currentOutputSnapshotResolved)),e[h].unwatcher();_l(t,Bh(t.transactionQueueTree_,n)),zh(t,t.transactionQueueTree_),Tt(t.eventQueue_,n,u);for(let h=0;h<d.length;h++)br(d[h])}else{if(c==="datastale")for(let d=0;d<e.length;d++)e[d].status===3?e[d].status=4:e[d].status=0;else{je("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<e.length;d++)e[d].status=4,e[d].abortReason=c}yr(t,n)}},s)}function yr(t,n){let e=ay(t,n),i=ts(e),r=ly(t,e);return Jk(t,r,i),i}function Jk(t,n,e){if(n.length===0)return;let i=[],r=[],s=n.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<n.length;a++){let l=n[a],c=Ke(e,l.path),u=!1,d;if(y(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(Dn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Bk)u=!0,d="maxretry",r=r.concat(Dn(t.serverSyncTree_,l.currentWriteId,!0));else{let h=sy(t,l.path,s);l.currentInputSnapshot=h;let f=n[a].update(h.val());if(f!==void 0){fl("transaction failed: Data returned ",f,l.path);let g=Te(f);typeof f=="object"&&f!=null&&Et(f,".priority")||(g=g.updatePriority(h.getPriority()));let b=l.currentWriteId,D=gl(t),V=Xv(g,h,D);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=V,l.currentWriteId=Hh(t),s.splice(s.indexOf(b),1),r=r.concat(qv(t.serverSyncTree_,l.path,V,l.currentWriteId,l.applyLocally)),r=r.concat(Dn(t.serverSyncTree_,b,!0))}else u=!0,d="nodata",r=r.concat(Dn(t.serverSyncTree_,l.currentWriteId,!0))}Tt(t.eventQueue_,e,r),r=[],u&&(n[a].status=2,function(h){setTimeout(h,Math.floor(0))}(n[a].unwatcher),n[a].onComplete&&(d==="nodata"?i.push(()=>n[a].onComplete(null,!1,n[a].currentInputSnapshot)):i.push(()=>n[a].onComplete(new Error(d),!1,null))))}_l(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)br(i[a]);zh(t,t.transactionQueueTree_)}function ay(t,n){let e,i=t.transactionQueueTree_;for(e=x(n);e!==null&&Cr(i)===void 0;)i=Bh(i,e),n=X(n),e=x(n);return i}function ly(t,n){let e=[];return cy(t,n,e),e.sort((i,r)=>i.order-r.order),e}function cy(t,n,e){let i=Cr(n);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);hl(n,r=>{cy(t,r,e)})}function _l(t,n){let e=Cr(n);if(e){let i=0;for(let r=0;r<e.length;r++)e[r].status!==2&&(e[i]=e[r],i++);e.length=i,Zv(n,e.length>0?e:void 0)}hl(n,i=>{_l(t,i)})}function Gh(t,n){let e=ts(ay(t,n)),i=Bh(t.transactionQueueTree_,n);return Ak(i,r=>{wd(t,r)}),wd(t,i),ty(i,r=>{wd(t,r)}),e}function wd(t,n){let e=Cr(n);if(e){let i=[],r=[],o=-1;for(let s=0;s<e.length;s++)e[s].status===3||(e[s].status===1?(y(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):(y(e[s].status===0,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(Dn(t.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&i.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Zv(n,void 0):e.length=o+1,Tt(t.eventQueue_,ts(n),r);for(let s=0;s<i.length;s++)br(i[s])}}function Xk(t){let n="",e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}n+="/"+r}return n}function Zk(t){let n={};t.charAt(0)==="?"&&(t=t.substring(1));for(let e of t.split("&")){if(e.length===0)continue;let i=e.split("=");i.length===2?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):je(`Invalid query segment '${e}' in query '${t}'`)}return n}var av=function(t,n){let e=eD(t),i=e.namespace;e.domain==="firebase.com"&&Yt(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&e.domain!=="localhost"&&Yt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||kA();let r=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new Va(e.host,e.secure,i,r,n,"",i!==e.subdomain),path:new q(e.pathString)}},eD=function(t){let n="",e="",i="",r="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),n=t.substring(0,Math.min(u,d)),u<d&&(r=Xk(t.substring(u,d)));let h=Zk(t.substring(Math.min(t.length,d)));c=n.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(n.substring(c+1),10)):c=n.length;let f=n.slice(0,c);if(f.toLowerCase()==="localhost")e="localhost";else if(f.split(".").length<=2)e=f;else{let g=n.indexOf(".");i=n.substring(0,g).toLowerCase(),e=n.substring(g+1),o=i}"ns"in h&&(o=h.ns)}return{host:n,port:l,domain:e,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var nl=class{constructor(n,e,i,r){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){let n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ye(this.snapshot.exportVal())}},il=class{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var rl=class{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}};var vh=class t{constructor(n,e,i,r){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return F(this._path)?null:Sh(this._path)}get ref(){return new Jt(this._repo,this._path)}get _queryIdentifier(){let n=q_(this._queryParams),e=wh(n);return e==="{}"?"default":e}get _queryObject(){return q_(this._queryParams)}isEqual(n){if(n=qe(n),!(n instanceof t))return!1;let e=this._repo===n._repo,i=Th(this._path,n._path),r=this._queryIdentifier===n._queryIdentifier;return e&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+lR(this._path)}};var Jt=class t extends vh{constructor(n,e){super(n,e,new Gd,!1)}get parent(){let n=Av(this._path);return n===null?null:new t(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}},ol=class t{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){let e=new q(n),i=Jo(this.ref,n);return new t(this._node.getChild(e),i,fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>n(new t(r,Jo(this.ref,i),fe)))}hasChild(n){let e=new q(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function uy(t,n){return t=qe(t),t._checkNotDeleted("ref"),n!==void 0?Jo(t._root,n):t._root}function Jo(t,n){return t=qe(t),x(t._path)===null?Lk("child","path",n,!1):iy("child","path",n,!1),new Jt(t._repo,he(t._path,n))}function dy(t,n){t=qe(t),Fk("set",t._path),Nk("set",n,t._path,!1);let e=new lt;return zk(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function hy(t,n){Mk("update",n,t._path,!1);let e=new lt;return Gk(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}var sl=class t{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,e){let i=e._queryParams.getIndex();return new nl("value",this,new ol(n.snapshotNode,new Jt(e._repo,e._path),i))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new il(this,n,e):null}matches(n){return n instanceof t?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},al=class t{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e=n==="children_added"?"child_added":n;return e=e==="children_removed"?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new il(this,n,e):null}createEvent(n,e){y(n.childName!=null,"Child events should have a childName.");let i=Jo(new Jt(e._repo,e._path),n.childName),r=e._queryParams.getIndex();return new nl(n.type,this,new ol(n.snapshotNode,i,r),n.prevName)}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof t?this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function tD(t,n,e,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=e,c=(u,d)=>{mh(t._repo,t,a),l(u,d)};c.userCallback=e.userCallback,c.context=e.context,e=c}let s=new rl(e,o||void 0),a=n==="value"?new sl(s):new al(n,s);return Kk(t._repo,t,a),()=>mh(t._repo,t,a)}function fy(t,n,e,i){return tD(t,"value",n,e,i)}function py(t,n,e){let i=null,r=e?new rl(e):null;n==="value"?i=new sl(r):n&&(i=new al(n,r)),mh(t._repo,t,i)}rk(Jt);uk(Jt);var nD="FIREBASE_DATABASE_EMULATOR_HOST",yh={},iD=!1;function rD(t,n,e,i){t.repoInfo_=new Va(n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,e),i&&(t.authTokenProvider_=i)}function oD(t,n,e,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||Yt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ne("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=av(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[nD]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=av(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new Uo(Uo.OWNER):new kd(t.name,t.options,n);$k("Invalid Firebase Database URL",s),F(s.path)||Yt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=aD(a,t,u,new Rd(t,e));return new bh(d,t)}function sD(t,n){let e=yh[n];(!e||e[t.key]!==t)&&Yt(`Database ${n}(${t.repoInfo_}) has already been deleted.`),Yk(t),delete e[t.key]}function aD(t,n,e,i){let r=yh[n.name];r||(r={},yh[n.name]=r);let o=r[t.toURLString()];return o&&Yt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new gh(t,iD,e,i),r[t.toURLString()]=o,o}var bh=class{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jt(this._repo,z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(sD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Yt("Cannot call "+n+" on a deleted database.")}};function gy(t=ni(),n){let e=tr(t,"database").getImmediate({identifier:n});if(!e._instanceStarted){let i=rm("database");i&&my(e,...i)}return e}function my(t,n,e,i={}){t=qe(t),t._checkNotDeleted("useEmulator");let r=`${n}:${e}`,o=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&xt(i,o.repoInfo_.emulatorOptions))return;Yt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Yt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Uo(Uo.OWNER);else if(i.mockUserToken){let a=typeof i.mockUserToken=="string"?i.mockUserToken:om(i.mockUserToken,t.app.options.projectId);s=new Uo(a)}rD(o,r,i,s)}function lD(t){TA(wn),Ct(new Be("database",(n,{instanceIdentifier:e})=>{let i=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return oD(i,r,o,e)},"PUBLIC").setMultipleInstances(!0)),de(D_,O_,t),de(D_,O_,"esm2017")}Ah.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)};Ah.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)};lD();var ns=class{constructor(n){return n}},_y="database",qh=class{constructor(){return ir(_y)}};var Kh=new k("angularfire2.database-instances");function cD(t,n){let e=wo(_y,t,n);return e&&new ns(e)}function uD(t){return(n,e)=>{let i=n.runOutsideAngular(()=>t(e));return new ns(i)}}var dD={provide:qh,deps:[[new Ve,Kh]]},hD={provide:ns,useFactory:cD,deps:[[new Ve,Kh],Gt]};function dF(t,...n){return de("angularfire",In.full,"rtdb"),Je([hD,dD,{provide:Kh,useFactory:uD(t),multi:!0,deps:[se,ke,Sn,ri,[new Ve,No],[new Ve,rr],...n]}])}var hF=ut(gy,!0);var fF=ut(py,!0);var pF=ut(fy,!0);var gF=ut(uy,!0,2);var mF=ut(dy,!0,2);var _F=ut(hy,!0,2);var Ay=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||t)(L(an),L(kt))};static \u0275dir=W({type:t})}return t})(),fD=(()=>{class t extends Ay{static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275dir=W({type:t,features:[N]})}return t})(),Zt=new k("");var pD={provide:Zt,useExisting:rt(()=>Ry),multi:!0};function gD(){let t=Oi()?Oi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var mD=new k(""),Ry=(()=>{class t extends Ay{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!gD())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||t)(L(an),L(kt),L(mD,8))};static \u0275dir=W({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Ue("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Q([pD]),N]})}return t})();function xn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function ky(t){return t!=null&&typeof t.length=="number"}var Al=new k(""),tf=new k(""),_D=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vy=class{static min(n){return vD(n)}static max(n){return yD(n)}static required(n){return Dy(n)}static requiredTrue(n){return bD(n)}static email(n){return ED(n)}static minLength(n){return CD(n)}static maxLength(n){return wD(n)}static pattern(n){return ID(n)}static nullValidator(n){return yl(n)}static compose(n){return Ly(n)}static composeAsync(n){return $y(n)}};function vD(t){return n=>{if(xn(n.value)||xn(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function yD(t){return n=>{if(xn(n.value)||xn(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function Dy(t){return xn(t.value)?{required:!0}:null}function bD(t){return t.value===!0?null:{required:!0}}function ED(t){return xn(t.value)||_D.test(t.value)?null:{email:!0}}function CD(t){return n=>xn(n.value)||!ky(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function wD(t){return n=>ky(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function ID(t){if(!t)return yl;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(xn(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function yl(t){return null}function Oy(t){return t!=null}function Py(t){return Cs(t)?Ee(t):t}function Ny(t){let n={};return t.forEach(e=>{n=e!=null?_(_({},n),e):n}),Object.keys(n).length===0?null:n}function xy(t,n){return n.map(e=>e(t))}function SD(t){return!t.validate}function My(t){return t.map(n=>SD(n)?n:e=>n.validate(e))}function Ly(t){if(!t)return null;let n=t.filter(Oy);return n.length==0?null:function(e){return Ny(xy(e,n))}}function Fy(t){return t!=null?Ly(My(t)):null}function $y(t){if(!t)return null;let n=t.filter(Oy);return n.length==0?null:function(e){let i=xy(e,n).map(Py);return bf(i).pipe(U(Ny))}}function Vy(t){return t!=null?$y(My(t)):null}function yy(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function Uy(t){return t._rawValidators}function By(t){return t._rawAsyncValidators}function Yh(t){return t?Array.isArray(t)?t:[t]:[]}function bl(t,n){return Array.isArray(t)?t.includes(n):t===n}function by(t,n){let e=Yh(n);return Yh(t).forEach(r=>{bl(e,r)||e.push(r)}),e}function Ey(t,n){return Yh(n).filter(e=>!bl(t,e))}var El=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Fy(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Vy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},mi=class extends El{name;get formDirective(){return null}get path(){return null}},Xt=class extends El{_parent=null;name=null;valueAccessor=null},Cl=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},TD={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},MF=K(_({},TD),{"[class.ng-submitted]":"isSubmitted"}),jy=(()=>{class t extends Cl{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(L(Xt,2))};static \u0275dir=W({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&ft("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[N]})}return t})(),LF=(()=>{class t extends Cl{constructor(e){super(e)}static \u0275fac=function(i){return new(i||t)(L(mi,10))};static \u0275dir=W({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&ft("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[N]})}return t})();var is="VALID",vl="INVALID",wr="PENDING",rs="DISABLED",Mn=class{},wl=class extends Mn{value;source;constructor(n,e){super(),this.value=n,this.source=e}},os=class extends Mn{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},ss=class extends Mn{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},Ir=class extends Mn{status;source;constructor(n,e){super(),this.status=n,this.source=e}},Qh=class extends Mn{source;constructor(n){super(),this.source=n}},Jh=class extends Mn{source;constructor(n){super(),this.source=n}};function nf(t){return(Rl(t)?t.validators:t)||null}function AD(t){return Array.isArray(t)?Fy(t):t||null}function rf(t,n){return(Rl(n)?n.asyncValidators:t)||null}function RD(t){return Array.isArray(t)?Vy(t):t||null}function Rl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Wy(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new B(1e3,"");if(!i[e])throw new B(1001,"")}function Hy(t,n,e){t._forEachChild((i,r)=>{if(e[r]===void 0)throw new B(1002,"")})}var Sr=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return pt(this.statusReactive)}set status(n){pt(()=>this.statusReactive.set(n))}_status=ot(()=>this.statusReactive());statusReactive=Le(void 0);get valid(){return this.status===is}get invalid(){return this.status===vl}get pending(){return this.status==wr}get disabled(){return this.status===rs}get enabled(){return this.status!==rs}errors;get pristine(){return pt(this.pristineReactive)}set pristine(n){pt(()=>this.pristineReactive.set(n))}_pristine=ot(()=>this.pristineReactive());pristineReactive=Le(!0);get dirty(){return!this.pristine}get touched(){return pt(this.touchedReactive)}set touched(n){pt(()=>this.touchedReactive.set(n))}_touched=ot(()=>this.touchedReactive());touchedReactive=Le(!1);get untouched(){return!this.touched}_events=new be;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(by(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(by(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Ey(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Ey(n,this._rawAsyncValidators))}hasValidator(n){return bl(this._rawValidators,n)}hasAsyncValidator(n){return bl(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(K(_({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new ss(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&n.emitEvent!==!1&&this._events.next(new ss(!1,i))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(K(_({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new os(!1,i))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&n.emitEvent!==!1&&this._events.next(new os(!0,i))}markAsPending(n={}){this.status=wr;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ir(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(K(_({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=rs,this.errors=null,this._forEachChild(r=>{r.disable(K(_({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new wl(this.value,i)),this._events.next(new Ir(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(K(_({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=is,this._forEachChild(i=>{i.enable(K(_({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(K(_({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===is||this.status===wr)&&this._runAsyncValidator(i,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new wl(this.value,e)),this._events.next(new Ir(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(K(_({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rs:is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=wr,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=Py(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Ir(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new ee,this.statusChanges=new ee}_calculateStatus(){return this._allControlsDisabled()?rs:this.errors?vl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wr)?wr:this._anyControlsHaveStatus(vl)?vl:is}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),r&&this._events.next(new os(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new ss(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Rl(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=AD(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=RD(this._rawAsyncValidators)}},Il=class extends Sr{constructor(n,e,i){super(nf(e),rf(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){Hy(this,!0,n),Object.keys(n).forEach(i=>{Wy(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Xh=class extends Il{};var kl=new k("CallSetDisabledState",{providedIn:"root",factory:()=>Dl}),Dl="always";function zy(t,n){return[...n.path,t]}function Zh(t,n,e=Dl){of(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),DD(t,n),PD(t,n),OD(t,n),kD(t,n)}function Cy(t,n,e=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Tl(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Sl(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function kD(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function of(t,n){let e=Uy(t);n.validator!==null?t.setValidators(yy(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=By(t);n.asyncValidator!==null?t.setAsyncValidators(yy(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Sl(n._rawValidators,r),Sl(n._rawAsyncValidators,r)}function Tl(t,n){let e=!1;if(t!==null){if(n.validator!==null){let r=Uy(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let r=By(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Sl(n._rawValidators,i),Sl(n._rawAsyncValidators,i),e}function DD(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Gy(t,n)})}function OD(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Gy(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function Gy(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function PD(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function ND(t,n){t==null,of(t,n)}function xD(t,n){return Tl(t,n)}function qy(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function MD(t){return Object.getPrototypeOf(t.constructor)===fD}function LD(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ky(t,n){if(!n)return null;Array.isArray(n);let e,i,r;return n.forEach(o=>{o.constructor===Ry?e=o:MD(o)?i=o:r=o}),r||i||e||null}function FD(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function wy(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Iy(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var as=class extends Sr{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,i){super(nf(e),rf(i,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Iy(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){wy(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){wy(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Iy(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var $D=t=>t instanceof as;var VD={provide:Xt,useExisting:rt(()=>ls)},Sy=Promise.resolve(),ls=(()=>{class t extends Xt{_changeDetectorRef;callSetDisabledState;control=new as;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ee;constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ky(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),qy(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Zh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Sy.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&w(i);Sy.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?zy(e,this._parent):[e]}static \u0275fac=function(i){return new(i||t)(L(mi,9),L(Al,10),L(tf,10),L(Zt,10),L(cn,8),L(kl,8))};static \u0275dir=W({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Q([VD]),N,Re]})}return t})(),$F=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=W({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var Yy=new k("");var UD={provide:mi,useExisting:rt(()=>BD)},BD=(()=>{class t extends mi{callSetDisabledState;get submitted(){return pt(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=ot(()=>this._submittedReactive());_submittedReactive=Le(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ee;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Zh(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Cy(e.control||null,e,!1),FD(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),LD(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Qh(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Jh(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(Cy(i||null,e),$D(r)&&(Zh(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);ND(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&xD(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){of(this.form,this),this._oldForm&&Tl(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||t)(L(Al,10),L(tf,10),L(kl,8))};static \u0275dir=W({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&Ue("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Q([UD]),N,Re]})}return t})();var jD={provide:Xt,useExisting:rt(()=>WD)},WD=(()=>{class t extends Xt{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ee;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ky(this,o)}ngOnChanges(e){this._added||this._setUpControl(),qy(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return zy(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||t)(L(mi,13),L(Al,10),L(tf,10),L(Zt,10),L(Yy,8))};static \u0275dir=W({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Q([jD]),N,Re]})}return t})();var HD=(()=>{class t{_validator=yl;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):yl,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||t)};static \u0275dir=W({type:t,features:[Re]})}return t})();var zD={provide:Al,useExisting:rt(()=>GD),multi:!0};var GD=(()=>{class t extends HD{required;inputName="required";normalizeInput=w;createValidator=e=>Dy;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275dir=W({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&H("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Q([zD]),N]})}return t})();var Qy=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=Z({})}return t})(),ef=class extends Sr{constructor(n,e,i){super(nf(e),rf(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){Hy(this,!1,n),n.forEach((i,r)=>{Wy(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function Ty(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var VF=(()=>{class t{useNonNullable=!1;get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return Ty(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Il(r,o)}record(e,i=null){let r=this._reduceControls(e);return new Xh(r,i)}control(e,i,r){let o={};return this.useNonNullable?(Ty(i)?o=i:(o.validators=i,o.asyncValidators=r),new as(e,K(_({},o),{nonNullable:!0}))):new as(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new ef(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof as)return e;if(e instanceof Sr)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Jy=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:kl,useValue:e.callSetDisabledState??Dl}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=Z({imports:[Qy]})}return t})(),UF=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Yy,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:kl,useValue:e.callSetDisabledState??Dl}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=Z({imports:[Qy]})}return t})();var Zy=(()=>{class t extends ue{name="common";static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),me=(()=>{class t{document=m(le);platformId=m(ze);el=m(kt);injector=m(ke);cd=m(cn);renderer=m(an);config=m(ru);baseComponentStyle=m(Zy);baseStyle=m(ue);scopedStyleEl;rootEl;dt;get styleOptions(){return{nonce:this.config?.csp().nonce}}get _name(){return this.constructor.name.replace(/^_/,"").toLowerCase()}get componentStyle(){return this._componentStyle}attrSelector=fo("pc");themeChangeListeners=[];_getHostInstance(e){if(e)return e?this.hostName?e.name===this.hostName?e:this._getHostInstance(e.parentInstance):e.parentInstance:void 0}_getOptionValue(e,i="",r={}){return aa(e,i,r)}ngOnInit(){this.document&&this._loadStyles()}ngAfterViewInit(){this.rootEl=this.el?.nativeElement,this.rootEl&&this.rootEl?.setAttribute(this.attrSelector,"")}ngOnChanges(e){if(this.document&&!Mr(this.platformId)){let{dt:i}=e;i&&i.currentValue&&(this._loadScopedThemeStyles(i.currentValue),this._themeChangeListener(()=>this._loadScopedThemeStyles(i.currentValue)))}}ngOnDestroy(){this._unloadScopedThemeStyles(),this.themeChangeListeners.forEach(e=>nt.off("theme:change",e))}_loadStyles(){let e=()=>{Ji.isStyleNameLoaded("base")||(this.baseStyle.loadGlobalCSS(this.styleOptions),Ji.setLoadedStyleName("base")),this._loadThemeStyles()};e(),this._themeChangeListener(()=>e())}_loadCoreStyles(){!Ji.isStyleNameLoaded("base")&&this._name&&(this.baseComponentStyle.loadCSS(this.styleOptions),this.componentStyle&&this.componentStyle?.loadCSS(this.styleOptions),Ji.setLoadedStyleName(this.componentStyle?.name))}_loadThemeStyles(){if(!$.isStyleNameLoaded("common")){let{primitive:e,semantic:i,global:r,style:o}=this.componentStyle?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,_({name:"primitive-variables"},this.styleOptions)),this.baseStyle.load(i?.css,_({name:"semantic-variables"},this.styleOptions)),this.baseStyle.load(r?.css,_({name:"global-variables"},this.styleOptions)),this.baseStyle.loadGlobalTheme(_({name:"global-style"},this.styleOptions),o),$.setLoadedStyleName("common")}if(!$.isStyleNameLoaded(this.componentStyle?.name)&&this.componentStyle?.name){let{css:e,style:i}=this.componentStyle?.getComponentTheme?.()||{};this.componentStyle?.load(e,_({name:`${this.componentStyle?.name}-variables`},this.styleOptions)),this.componentStyle?.loadTheme(_({name:`${this.componentStyle?.name}-style`},this.styleOptions),i),$.setLoadedStyleName(this.componentStyle?.name)}if(!$.isStyleNameLoaded("layer-order")){let e=this.componentStyle?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,_({name:"layer-order",first:!0},this.styleOptions)),$.setLoadedStyleName("layer-order")}this.dt&&(this._loadScopedThemeStyles(this.dt),this._themeChangeListener(()=>this._loadScopedThemeStyles(this.dt)))}_loadScopedThemeStyles(e){let{css:i}=this.componentStyle?.getPresetTheme?.(e,`[${this.attrSelector}]`)||{},r=this.componentStyle?.load(i,_({name:`${this.attrSelector}-${this.componentStyle?.name}`},this.styleOptions));this.scopedStyleEl=r?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){Ji.clearLoadedStyleNames(),nt.on("theme:change",e),this.themeChangeListeners.push(e)}cx(e,i){let r=this.parent?this.parent.componentStyle?.classes?.[e]:this.componentStyle?.classes?.[e];return typeof r=="function"?r({instance:this}):typeof r=="string"?r:e}sx(e){let i=this.componentStyle?.inlineStyles?.[e];return typeof i=="function"?i({instance:this}):typeof i=="string"?i:_({},i)}get parent(){return this.parentInstance}static \u0275fac=function(i){return new(i||t)};static \u0275dir=W({type:t,inputs:{dt:"dt"},features:[Q([Zy,ue]),Re]})}return t})();var qD=({dt:t})=>`
/* For PrimeNG */
.p-ripple {
    overflow: hidden;
    position: relative;
}

.p-ink {
    display: block;
    position: absolute;
    background: ${t("ripple.background")};
    border-radius: 100%;
    transform: scale(0);
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

.p-ripple-disabled .p-ink {
    display: none !important;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`,KD={root:"p-ink"},eb=(()=>{class t extends ue{name="ripple";theme=qD;classes=KD;static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();var Ol=(()=>{class t extends me{zone=m(se);_componentStyle=m(eb);animationListener;mouseDownListener;timeout;constructor(){super(),Di(()=>{Ds(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}ngAfterViewInit(){super.ngAfterViewInit()}onMouseDown(e){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(Yn(i,"p-ink-active"),!Xc(i)&&!eu(i)){let a=Math.max(Qc(this.el.nativeElement),sa(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=Zc(this.el.nativeElement),o=e.pageX-r.left+this.document.body.scrollTop-eu(i)/2,s=e.pageY-r.top+this.document.body.scrollLeft-Xc(i)/2;this.renderer.setStyle(i,"top",s+"px"),this.renderer.setStyle(i,"left",o+"px"),vn(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&Yn(a,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if(typeof e[i].className=="string"&&e[i].className.indexOf("p-ink")!==-1)return e[i];return null}resetInk(){let e=this.getInk();e&&Yn(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),Yn(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Lg(e))}ngOnDestroy(){this.config&&this.config.ripple()&&this.remove(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=W({type:t,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[Q([eb]),N]})}return t})(),a$=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=Z({})}return t})();var sf=(()=>{class t{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(o=>this.removeClass(e,o)))}static hasClass(e,i){return e&&i?e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;i[o].nodeType==1&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var s=0;s<r.length;s++){if(r[s]==e)return o;r[s].attributes&&r[s].attributes[i]&&r[s].nodeType==1&&o++}return-1}static appendOverlay(e,i,r="self"){r!=="self"&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",o=!0){e&&i&&(o&&(e.style.minWidth=`${t.getOuterWidth(i)}px`),r==="self"?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i,r=!0){let o=V=>{if(V)return getComputedStyle(V).getPropertyValue("position")==="relative"?V:o(V.parentElement)},s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=i.offsetHeight,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),f=o(e)?.getBoundingClientRect()||{top:-1*c,left:-1*u},g,v;l.top+a+s.height>d.height?(g=l.top-f.top-s.height,e.style.transformOrigin="bottom",l.top+g<0&&(g=-1*l.top)):(g=a+l.top-f.top,e.style.transformOrigin="top");let b=l.left+s.width-d.width,D=l.left-f.left;s.width>d.width?v=(l.left-f.left)*-1:b>0?v=D-b:v=l.left-f.left,e.style.top=g+"px",e.style.left=v+"px",r&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,i,r=!0){let o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=o.height,a=o.width,l=i.offsetHeight,c=i.offsetWidth,u=i.getBoundingClientRect(),d=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport(),g,v;u.top+l+s>f.height?(g=u.top+d-s,e.style.transformOrigin="bottom",g<0&&(g=d)):(g=l+u.top+d,e.style.transformOrigin="top"),u.left+a>f.width?v=Math.max(0,u.left+h+c-a):v=u.left+h,e.style.top=g+"px",e.style.left=v+"px",r&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,i=[]){return e.parentNode===null?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e),o=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return o.test(l.getPropertyValue("overflow"))||o.test(l.getPropertyValue("overflowX"))||o.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let d=this.findSingle(a,u);d&&s(d)&&i.push(d)}}a.nodeType!==9&&s(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=e.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-a,d=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(i);u<0?e.scrollTop=d+u:u+f>h&&(e.scrollTop=d+u-h+f)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,s=function(){o=+e.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(e,i){var r=1,o=50,s=i,a=o/s;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),e.style.opacity=r},o)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype,o=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return o.call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||o.clientWidth,a=e.innerHeight||r.clientHeight||o.clientHeight;return{width:s,height:a}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,i=e.indexOf("MSIE ");if(i>0)return!0;var r=e.indexOf("Trident/");if(r>0){var o=e.indexOf("rv:");return!0}var s=e.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(e);else throw"Cannot append "+i+" to "+e}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+i}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,i=""){let r=this.find(e,this.getFocusableSelectorString(i)),o=[];for(let s of r){let a=getComputedStyle(s);this.isVisible(s)&&a.display!="none"&&a.visibility!="hidden"&&o.push(s)}return o}static getFocusableElement(e,i=""){let r=this.findSingle(e,this.getFocusableSelectorString(i));if(r){let o=getComputedStyle(r);if(this.isVisible(r)&&o.display!="none"&&o.visibility!="hidden")return r}return null}static getFirstFocusableElement(e,i=""){let r=this.getFocusableElements(e,i);return r.length>0?r[0]:null}static getLastFocusableElement(e,i){let r=this.getFocusableElements(e,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(e,i=!1){let r=t.getFocusableElements(e),o=0;if(r&&r.length>0){let s=r.indexOf(r[0].ownerDocument.activeElement);i?s==-1||s===0?o=r.length-1:o=s-1:s!=-1&&s!==r.length-1&&(o=s+1)}return r[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof e;if(r==="string")return document.querySelector(e);if(r==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let s=(a=>!!(a&&a.constructor&&a.call&&a.apply))(e)?e():e;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){let r=e.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,i={},...r){if(e){let o=document.createElement(e);return this.setAttributes(o,i),o.append(...r),o}}static setAttribute(e,i="",r){this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(i,r)}static setAttributes(e,i={}){if(this.isElement(e)){let r=(o,s)=>{let a=e?.$attrs?.[o]?[e?.$attrs?.[o]]:[];return[s].flat().reduce((l,c)=>{if(c!=null){let u=typeof c;if(u==="string"||u==="number")l.push(c);else if(u==="object"){let d=Array.isArray(c)?r(o,c):Object.entries(c).map(([h,f])=>o==="style"&&(f||f===0)?`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`:f?h:void 0);l=d.length?l.concat(d.filter(h=>!!h)):l}}return l},a)};Object.entries(i).forEach(([o,s])=>{if(s!=null){let a=o.match(/^on(.+)/);a?e.addEventListener(a[1].toLowerCase(),s):o==="pBind"?this.setAttributes(e,s):(s=o==="class"?[...new Set(r("class",s))].join(" ").trim():o==="style"?r("style",s).join(";").trim():s,(e.$attrs=e.$attrs||{})&&(e.$attrs[o]=s),e.setAttribute(o,s))}})}}static isFocusableElement(e,i=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return t})(),tb=class{element;listener;scrollableParents;constructor(n,e=()=>{}){this.element=n,this.listener=e}bindScrollListener(){this.scrollableParents=sf.getScrollableParents(this.element);for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var nb=(()=>{class t extends me{autofocus=!1;_autofocus=!1;focused=!1;platformId=m(ze);document=m(le);host=m(kt);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Ds(this.platformId)&&this._autofocus&&setTimeout(()=>{let e=sf.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275dir=W({type:t,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[2,"autofocus","autofocus",w],_autofocus:[0,"pAutoFocus","_autofocus"]},features:[N]})}return t})(),_$=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=Z({})}return t})();var YD=({dt:t})=>`
.p-badge {
    display: inline-flex;
    border-radius: ${t("badge.border.radius")};
    justify-content: center;
    padding: ${t("badge.padding")};
    background: ${t("badge.primary.background")};
    color: ${t("badge.primary.color")};
    font-size: ${t("badge.font.size")};
    font-weight: ${t("badge.font.weight")};
    min-width: ${t("badge.min.width")};
    height: ${t("badge.height")};
    line-height: ${t("badge.height")};
}

.p-badge-dot {
    width: ${t("badge.dot.size")};
    min-width: ${t("badge.dot.size")};
    height: ${t("badge.dot.size")};
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: ${t("badge.secondary.background")};
    color: ${t("badge.secondary.color")};
}

.p-badge-success {
    background: ${t("badge.success.background")};
    color: ${t("badge.success.color")};
}

.p-badge-info {
    background: ${t("badge.info.background")};
    color: ${t("badge.info.color")};
}

.p-badge-warn {
    background: ${t("badge.warn.background")};
    color: ${t("badge.warn.color")};
}

.p-badge-danger {
    background: ${t("badge.danger.background")};
    color: ${t("badge.danger.color")};
}

.p-badge-contrast {
    background: ${t("badge.contrast.background")};
    color: ${t("badge.contrast.color")};
}

.p-badge-sm {
    font-size: ${t("badge.sm.font.size")};
    min-width: ${t("badge.sm.min.width")};
    height: ${t("badge.sm.height")};
    line-height: ${t("badge.sm.height")};
}

.p-badge-lg {
    font-size: ${t("badge.lg.font.size")};
    min-width: ${t("badge.lg.min.width")};
    height: ${t("badge.lg.height")};
    line-height: ${t("badge.lg.height")};
}

.p-badge-xl {
    font-size: ${t("badge.xl.font.size")};
    min-width: ${t("badge.xl.min.width")};
    height: ${t("badge.xl.height")};
    line-height: ${t("badge.xl.height")};
}

/* For PrimeNG (directive)*/

.p-overlay-badge {
    position: relative;
}

.p-overlay-badge > .p-badge {
    position: absolute;
    top: 0;
    inset-inline-end: 0;
    transform: translate(50%, -50%);
    transform-origin: 100% 0;
    margin: 0;
}
`,QD={root:({props:t,instance:n})=>["p-badge p-component",{"p-badge-circle":J(t.value)&&String(t.value).length===1,"p-badge-dot":Oe(t.value)&&!n.$slots.default,"p-badge-sm":t.size==="small","p-badge-lg":t.size==="large","p-badge-xl":t.size==="xlarge","p-badge-info":t.severity==="info","p-badge-success":t.severity==="success","p-badge-warn":t.severity==="warn","p-badge-danger":t.severity==="danger","p-badge-secondary":t.severity==="secondary","p-badge-contrast":t.severity==="contrast"}]},ib=(()=>{class t extends ue{name="badge";theme=YD;classes=QD;static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();var af=(()=>{class t extends me{styleClass=Rt();style=Rt();badgeSize=Rt();size=Rt();severity=Rt();value=Rt();badgeDisabled=Rt(!1,{transform:w});_componentStyle=m(ib);containerClass=ot(()=>{let e="p-badge p-component";return J(this.value())&&String(this.value()).length===1&&(e+=" p-badge-circle"),this.badgeSize()==="large"?e+=" p-badge-lg":this.badgeSize()==="xlarge"?e+=" p-badge-xl":this.badgeSize()==="small"&&(e+=" p-badge-sm"),Oe(this.value())&&(e+=" p-badge-dot"),this.styleClass()&&(e+=` ${this.styleClass()}`),this.severity()&&(e+=` p-badge-${this.severity()}`),e});static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275cmp=ie({type:t,selectors:[["p-badge"]],hostVars:6,hostBindings:function(i,r){i&2&&(jn(r.style()),ve(r.containerClass()),Kf("display",r.badgeDisabled()?"none":null))},inputs:{styleClass:[1,"styleClass"],style:[1,"style"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[Q([ib]),N],decls:1,vars:1,template:function(i,r){i&1&&Ri(0),i&2&&ki(r.value())},dependencies:[Ge,Se],encapsulation:2,changeDetection:0})}return t})(),rb=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=Z({imports:[af,Se,Se]})}return t})();var XD=["*"],ZD=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,eO=(()=>{class t extends ue{name="baseicon";inlineStyles=ZD;static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();var Ln=(()=>{class t extends me{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){super.ngOnInit(),this.getAttributes()}getAttributes(){let e=Oe(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275cmp=ie({type:t,selectors:[["ng-component"]],hostAttrs:[1,"p-component","p-iconwrapper"],inputs:{label:"label",spin:[2,"spin","spin",w],styleClass:"styleClass"},features:[Q([eO]),N],ngContentSelectors:XD,decls:1,vars:0,template:function(i,r){i&1&&(Ti(),Ai(0))},encapsulation:2,changeDetection:0})}return t})();var ob=(()=>{class t extends Ln{static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275cmp=ie({type:t,selectors:[["CheckIcon"]],features:[N],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,r){i&1&&(sn(),ge(0,"svg",0),ae(1,"path",1),_e()),i&2&&(ve(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return t})();var sb=(()=>{class t extends Ln{static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275cmp=ie({type:t,selectors:[["MinusIcon"]],features:[N],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(i,r){i&1&&(sn(),ge(0,"svg",0),ae(1,"path",1),_e()),i&2&&(ve(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return t})();var ab=(()=>{class t extends Ln{pathId;ngOnInit(){this.pathId="url(#"+fo()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275cmp=ie({type:t,selectors:[["SpinnerIcon"]],features:[N],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(sn(),ge(0,"svg",0)(1,"g"),ae(2,"path",1),_e(),ge(3,"defs")(4,"clipPath",2),ae(5,"rect",3),_e()()()),i&2&&(ve(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),j(),H("clip-path",r.pathId),j(3),T("id",r.pathId))},encapsulation:2})}return t})();var Q$=(()=>{class t extends Ln{static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275cmp=ie({type:t,selectors:[["TimesIcon"]],features:[N],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(sn(),ge(0,"svg",0),ae(1,"path",1),_e()),i&2&&(ve(r.getClassNames()),H("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return t})();var tO=["content"],nO=["loading"],iO=["icon"],rO=["*"],ub=t=>({class:t});function oO(t,n){t&1&&zn(0)}function sO(t,n){if(t&1&&ae(0,"span",8),t&2){let e=ne(3);T("ngClass",e.iconClass()),H("aria-hidden",!0)("data-pc-section","loadingicon")}}function aO(t,n){if(t&1&&ae(0,"SpinnerIcon",9),t&2){let e=ne(3);T("styleClass",e.spinnerIconClass())("spin",!0),H("aria-hidden",!0)("data-pc-section","loadingicon")}}function lO(t,n){if(t&1&&(Wn(0),pe(1,sO,1,3,"span",6)(2,aO,1,4,"SpinnerIcon",7),Hn()),t&2){let e=ne(2);j(),T("ngIf",e.loadingIcon),j(),T("ngIf",!e.loadingIcon)}}function cO(t,n){}function uO(t,n){if(t&1&&pe(0,cO,0,0,"ng-template",10),t&2){let e=ne(2);T("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function dO(t,n){if(t&1&&(Wn(0),pe(1,lO,3,2,"ng-container",2)(2,uO,1,1,null,5),Hn()),t&2){let e=ne();j(),T("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),j(),T("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)("ngTemplateOutletContext",ln(3,ub,e.iconClass()))}}function hO(t,n){if(t&1&&ae(0,"span",8),t&2){let e=ne(2);ve(e.icon),T("ngClass",e.iconClass()),H("data-pc-section","icon")}}function fO(t,n){}function pO(t,n){if(t&1&&pe(0,fO,0,0,"ng-template",10),t&2){let e=ne(2);T("ngIf",!e.icon&&(e.iconTemplate||e._iconTemplate))}}function gO(t,n){if(t&1&&(Wn(0),pe(1,hO,1,4,"span",11)(2,pO,1,1,null,5),Hn()),t&2){let e=ne();j(),T("ngIf",e.icon&&!e.iconTemplate&&!e._iconTemplate),j(),T("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",ln(3,ub,e.iconClass()))}}function mO(t,n){if(t&1&&(ge(0,"span",12),Ri(1),_e()),t&2){let e=ne();H("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),j(),ki(e.label)}}function _O(t,n){if(t&1&&ae(0,"p-badge",13),t&2){let e=ne();T("value",e.badge)("severity",e.badgeSeverity)}}var vO=({dt:t})=>`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: ${t("button.primary.color")};
    background: ${t("button.primary.background")};
    border: 1px solid ${t("button.primary.border.color")};
    padding-block: ${t("button.padding.y")};
    padding-inline: ${t("button.padding.x")};
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background ${t("button.transition.duration")}, color ${t("button.transition.duration")}, border-color ${t("button.transition.duration")},
            outline-color ${t("button.transition.duration")}, box-shadow ${t("button.transition.duration")};
    border-radius: ${t("button.border.radius")};
    outline-color: transparent;
    gap: ${t("button.gap")};
}

.p-button-icon,
.p-button-icon:before,
.p-button-icon:after {
    line-height: inherit;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: ${t("button.icon.only.width")};
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: ${t("button.icon.only.width")};
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: ${t("button.sm.font.size")};
    padding-block: ${t("button.sm.padding.y")};
    padding-inline: ${t("button.sm.padding.x")};
}

.p-button-sm .p-button-icon {
    font-size: ${t("button.sm.font.size")};
}

.p-button-lg {
    font-size: ${t("button.lg.font.size")};
    padding-block: ${t("button.lg.padding.y")};
    padding-inline: ${t("button.lg.padding.x")};
}

.p-button-lg .p-button-icon {
    font-size: ${t("button.lg.font.size")};
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: ${t("button.label.font.weight")};
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: ${t("button.icon.only.width")};
}

.p-button:not(:disabled):hover {
    background: ${t("button.primary.hover.background")};
    border: 1px solid ${t("button.primary.hover.border.color")};
    color: ${t("button.primary.hover.color")};
}

.p-button:not(:disabled):active {
    background: ${t("button.primary.active.background")};
    border: 1px solid ${t("button.primary.active.border.color")};
    color: ${t("button.primary.active.color")};
}

.p-button:focus-visible {
    box-shadow: ${t("button.primary.focus.ring.shadow")};
    outline: ${t("button.focus.ring.width")} ${t("button.focus.ring.style")} ${t("button.primary.focus.ring.color")};
    outline-offset: ${t("button.focus.ring.offset")};
}

.p-button .p-badge {
    min-width: ${t("button.badge.size")};
    height: ${t("button.badge.size")};
    line-height: ${t("button.badge.size")};
}

.p-button-raised {
    box-shadow: ${t("button.raised.shadow")};
}

.p-button-rounded {
    border-radius: ${t("button.rounded.border.radius")};
}

.p-button-secondary {
    background: ${t("button.secondary.background")};
    border: 1px solid ${t("button.secondary.border.color")};
    color: ${t("button.secondary.color")};
}

.p-button-secondary:not(:disabled):hover {
    background: ${t("button.secondary.hover.background")};
    border: 1px solid ${t("button.secondary.hover.border.color")};
    color: ${t("button.secondary.hover.color")};
}

.p-button-secondary:not(:disabled):active {
    background: ${t("button.secondary.active.background")};
    border: 1px solid ${t("button.secondary.active.border.color")};
    color: ${t("button.secondary.active.color")};
}

.p-button-secondary:focus-visible {
    outline-color: ${t("button.secondary.focus.ring.color")};
    box-shadow: ${t("button.secondary.focus.ring.shadow")};
}

.p-button-success {
    background: ${t("button.success.background")};
    border: 1px solid ${t("button.success.border.color")};
    color: ${t("button.success.color")};
}

.p-button-success:not(:disabled):hover {
    background: ${t("button.success.hover.background")};
    border: 1px solid ${t("button.success.hover.border.color")};
    color: ${t("button.success.hover.color")};
}

.p-button-success:not(:disabled):active {
    background: ${t("button.success.active.background")};
    border: 1px solid ${t("button.success.active.border.color")};
    color: ${t("button.success.active.color")};
}

.p-button-success:focus-visible {
    outline-color: ${t("button.success.focus.ring.color")};
    box-shadow: ${t("button.success.focus.ring.shadow")};
}

.p-button-info {
    background: ${t("button.info.background")};
    border: 1px solid ${t("button.info.border.color")};
    color: ${t("button.info.color")};
}

.p-button-info:not(:disabled):hover {
    background: ${t("button.info.hover.background")};
    border: 1px solid ${t("button.info.hover.border.color")};
    color: ${t("button.info.hover.color")};
}

.p-button-info:not(:disabled):active {
    background: ${t("button.info.active.background")};
    border: 1px solid ${t("button.info.active.border.color")};
    color: ${t("button.info.active.color")};
}

.p-button-info:focus-visible {
    outline-color: ${t("button.info.focus.ring.color")};
    box-shadow: ${t("button.info.focus.ring.shadow")};
}

.p-button-warn {
    background: ${t("button.warn.background")};
    border: 1px solid ${t("button.warn.border.color")};
    color: ${t("button.warn.color")};
}

.p-button-warn:not(:disabled):hover {
    background: ${t("button.warn.hover.background")};
    border: 1px solid ${t("button.warn.hover.border.color")};
    color: ${t("button.warn.hover.color")};
}

.p-button-warn:not(:disabled):active {
    background: ${t("button.warn.active.background")};
    border: 1px solid ${t("button.warn.active.border.color")};
    color: ${t("button.warn.active.color")};
}

.p-button-warn:focus-visible {
    outline-color: ${t("button.warn.focus.ring.color")};
    box-shadow: ${t("button.warn.focus.ring.shadow")};
}

.p-button-help {
    background: ${t("button.help.background")};
    border: 1px solid ${t("button.help.border.color")};
    color: ${t("button.help.color")};
}

.p-button-help:not(:disabled):hover {
    background: ${t("button.help.hover.background")};
    border: 1px solid ${t("button.help.hover.border.color")};
    color: ${t("button.help.hover.color")};
}

.p-button-help:not(:disabled):active {
    background: ${t("button.help.active.background")};
    border: 1px solid ${t("button.help.active.border.color")};
    color: ${t("button.help.active.color")};
}

.p-button-help:focus-visible {
    outline-color: ${t("button.help.focus.ring.color")};
    box-shadow: ${t("button.help.focus.ring.shadow")};
}

.p-button-danger {
    background: ${t("button.danger.background")};
    border: 1px solid ${t("button.danger.border.color")};
    color: ${t("button.danger.color")};
}

.p-button-danger:not(:disabled):hover {
    background: ${t("button.danger.hover.background")};
    border: 1px solid ${t("button.danger.hover.border.color")};
    color: ${t("button.danger.hover.color")};
}

.p-button-danger:not(:disabled):active {
    background: ${t("button.danger.active.background")};
    border: 1px solid ${t("button.danger.active.border.color")};
    color: ${t("button.danger.active.color")};
}

.p-button-danger:focus-visible {
    outline-color: ${t("button.danger.focus.ring.color")};
    box-shadow: ${t("button.danger.focus.ring.shadow")};
}

.p-button-contrast {
    background: ${t("button.contrast.background")};
    border: 1px solid ${t("button.contrast.border.color")};
    color: ${t("button.contrast.color")};
}

.p-button-contrast:not(:disabled):hover {
    background: ${t("button.contrast.hover.background")};
    border: 1px solid ${t("button.contrast.hover.border.color")};
    color: ${t("button.contrast.hover.color")};
}

.p-button-contrast:not(:disabled):active {
    background: ${t("button.contrast.active.background")};
    border: 1px solid ${t("button.contrast.active.border.color")};
    color: ${t("button.contrast.active.color")};
}

.p-button-contrast:focus-visible {
    outline-color: ${t("button.contrast.focus.ring.color")};
    box-shadow: ${t("button.contrast.focus.ring.shadow")};
}

.p-button-outlined {
    background: transparent;
    border-color: ${t("button.outlined.primary.border.color")};
    color: ${t("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):hover {
    background: ${t("button.outlined.primary.hover.background")};
    border-color: ${t("button.outlined.primary.border.color")};
    color: ${t("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):active {
    background: ${t("button.outlined.primary.active.background")};
    border-color: ${t("button.outlined.primary.border.color")};
    color: ${t("button.outlined.primary.color")};
}

.p-button-outlined.p-button-secondary {
    border-color: ${t("button.outlined.secondary.border.color")};
    color: ${t("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: ${t("button.outlined.secondary.hover.background")};
    border-color: ${t("button.outlined.secondary.border.color")};
    color: ${t("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: ${t("button.outlined.secondary.active.background")};
    border-color: ${t("button.outlined.secondary.border.color")};
    color: ${t("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-success {
    border-color: ${t("button.outlined.success.border.color")};
    color: ${t("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: ${t("button.outlined.success.hover.background")};
    border-color: ${t("button.outlined.success.border.color")};
    color: ${t("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: ${t("button.outlined.success.active.background")};
    border-color: ${t("button.outlined.success.border.color")};
    color: ${t("button.outlined.success.color")};
}

.p-button-outlined.p-button-info {
    border-color: ${t("button.outlined.info.border.color")};
    color: ${t("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: ${t("button.outlined.info.hover.background")};
    border-color: ${t("button.outlined.info.border.color")};
    color: ${t("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: ${t("button.outlined.info.active.background")};
    border-color: ${t("button.outlined.info.border.color")};
    color: ${t("button.outlined.info.color")};
}

.p-button-outlined.p-button-warn {
    border-color: ${t("button.outlined.warn.border.color")};
    color: ${t("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: ${t("button.outlined.warn.hover.background")};
    border-color: ${t("button.outlined.warn.border.color")};
    color: ${t("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: ${t("button.outlined.warn.active.background")};
    border-color: ${t("button.outlined.warn.border.color")};
    color: ${t("button.outlined.warn.color")};
}

.p-button-outlined.p-button-help {
    border-color: ${t("button.outlined.help.border.color")};
    color: ${t("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: ${t("button.outlined.help.hover.background")};
    border-color: ${t("button.outlined.help.border.color")};
    color: ${t("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: ${t("button.outlined.help.active.background")};
    border-color: ${t("button.outlined.help.border.color")};
    color: ${t("button.outlined.help.color")};
}

.p-button-outlined.p-button-danger {
    border-color: ${t("button.outlined.danger.border.color")};
    color: ${t("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: ${t("button.outlined.danger.hover.background")};
    border-color: ${t("button.outlined.danger.border.color")};
    color: ${t("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: ${t("button.outlined.danger.active.background")};
    border-color: ${t("button.outlined.danger.border.color")};
    color: ${t("button.outlined.danger.color")};
}

.p-button-outlined.p-button-contrast {
    border-color: ${t("button.outlined.contrast.border.color")};
    color: ${t("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: ${t("button.outlined.contrast.hover.background")};
    border-color: ${t("button.outlined.contrast.border.color")};
    color: ${t("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: ${t("button.outlined.contrast.active.background")};
    border-color: ${t("button.outlined.contrast.border.color")};
    color: ${t("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-plain {
    border-color: ${t("button.outlined.plain.border.color")};
    color: ${t("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: ${t("button.outlined.plain.hover.background")};
    border-color: ${t("button.outlined.plain.border.color")};
    color: ${t("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: ${t("button.outlined.plain.active.background")};
    border-color: ${t("button.outlined.plain.border.color")};
    color: ${t("button.outlined.plain.color")};
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.primary.color")};
}

.p-button-text:not(:disabled):hover {
    background: ${t("button.text.primary.hover.background")};
    border-color: transparent;
    color: ${t("button.text.primary.color")};
}

.p-button-text:not(:disabled):active {
    background: ${t("button.text.primary.active.background")};
    border-color: transparent;
    color: ${t("button.text.primary.color")};
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: ${t("button.text.secondary.hover.background")};
    border-color: transparent;
    color: ${t("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: ${t("button.text.secondary.active.background")};
    border-color: transparent;
    color: ${t("button.text.secondary.color")};
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: ${t("button.text.success.hover.background")};
    border-color: transparent;
    color: ${t("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):active {
    background: ${t("button.text.success.active.background")};
    border-color: transparent;
    color: ${t("button.text.success.color")};
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: ${t("button.text.info.hover.background")};
    border-color: transparent;
    color: ${t("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):active {
    background: ${t("button.text.info.active.background")};
    border-color: transparent;
    color: ${t("button.text.info.color")};
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: ${t("button.text.warn.hover.background")};
    border-color: transparent;
    color: ${t("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: ${t("button.text.warn.active.background")};
    border-color: transparent;
    color: ${t("button.text.warn.color")};
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: ${t("button.text.help.hover.background")};
    border-color: transparent;
    color: ${t("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):active {
    background: ${t("button.text.help.active.background")};
    border-color: transparent;
    color: ${t("button.text.help.color")};
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: ${t("button.text.danger.hover.background")};
    border-color: transparent;
    color: ${t("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: ${t("button.text.danger.active.background")};
    border-color: transparent;
    color: ${t("button.text.danger.color")};
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: ${t("button.text.plain.hover.background")};
    border-color: transparent;
    color: ${t("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: ${t("button.text.plain.active.background")};
    border-color: transparent;
    color: ${t("button.text.plain.color")};
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: ${t("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: ${t("button.text.contrast.hover.background")};
    border-color: transparent;
    color: ${t("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: ${t("button.text.contrast.active.background")};
    border-color: transparent;
    color: ${t("button.text.contrast.color")};
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: ${t("button.link.color")};
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: ${t("button.link.hover.color")};
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: ${t("button.link.active.color")};
}

/* For PrimeNG */
.p-button-icon-right {
    order: 1;
}

p-button[iconpos='right'] spinnericon {
    order: 1;
}
`,yO={root:({instance:t,props:n})=>["p-button p-component",{"p-button-icon-only":t.hasIcon&&!n.label&&!n.badge,"p-button-vertical":(n.iconPos==="top"||n.iconPos==="bottom")&&n.label,"p-button-loading":n.loading,"p-button-link":n.link,[`p-button-${n.severity}`]:n.severity,"p-button-raised":n.raised,"p-button-rounded":n.rounded,"p-button-text":n.text,"p-button-outlined":n.outlined,"p-button-sm":n.size==="small","p-button-lg":n.size==="large","p-button-plain":n.plain,"p-button-fluid":n.fluid}],loadingIcon:"p-button-loading-icon",icon:({props:t})=>["p-button-icon",{[`p-button-icon-${t.iconPos}`]:t.label}],label:"p-button-label"},$n=(()=>{class t extends ue{name="button";theme=vO;classes=yO;static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();var Fn={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},lb=(()=>{class t extends me{_componentStyle=m($n);static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275dir=W({type:t,selectors:[["","pButtonLabel",""]],hostVars:2,hostBindings:function(i,r){i&2&&ft("p-button-label",!0)},features:[Q([$n]),N]})}return t})(),cb=(()=>{class t extends me{_componentStyle=m($n);static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275dir=W({type:t,selectors:[["","pButtonIcon",""]],hostVars:2,hostBindings:function(i,r){i&2&&ft("p-button-icon",!0)},features:[Q([$n]),N]})}return t})(),vV=(()=>{class t extends me{iconPos="left";loadingIcon;set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}_buttonProps;iconSignal=zl(cb);labelSignal=zl(lb);isIconOnly=ot(()=>!!(!this.labelSignal()&&this.iconSignal()));set buttonProps(e){this._buttonProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;fluid;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Fn);isTextButton=ot(()=>!!(!this.iconSignal()&&this.labelSignal()&&this.text));get label(){return this._label}get icon(){return this._icon}get buttonProps(){return this._buttonProps}spinnerIcon=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">
        <g clip-path="url(#clip0_417_21408)">
            <path
                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"
                fill="currentColor"
            />
        </g>
        <defs>
            <clipPath id="clip0_417_21408">
                <rect width="14" height="14" fill="white" />
            </clipPath>
        </defs>
    </svg>`;_componentStyle=m($n);ngAfterViewInit(){super.ngAfterViewInit(),vn(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}ngOnChanges(e){super.ngOnChanges(e);let{buttonProps:i}=e;if(i){let r=i.currentValue;for(let o in r)this[o]=r[o]}}getStyleClass(){let e=[Fn.button,Fn.component];return this.icon&&!this.label&&Oe(this.htmlElement.textContent)&&e.push(Fn.iconOnly),this.loading&&(e.push(Fn.disabled,Fn.loading),!this.icon&&this.label&&e.push(Fn.labelOnly),this.icon&&!this.label&&!Oe(this.htmlElement.textContent)&&e.push(Fn.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),this.hasFluid&&e.push("p-button-fluid"),e}get hasFluid(){let i=this.el.nativeElement.closest("p-fluid");return Oe(this.fluid)?!!i:this.fluid}setStyleClass(){let e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!qi(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!qi(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&vn(i,r);let o=this.getIconClass();o&&vn(i,o),!this.loadingIcon&&this.loading&&(i.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let e=qi(this.htmlElement,".p-button-label");if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=qi(this.htmlElement,".p-button-icon"),i=qi(this.htmlElement,".p-button-label");this.loading&&!this.loadingIcon&&e?e.innerHTML=this.spinnerIcon:e?.innerHTML&&(e.innerHTML=""),e?this.iconPos?e.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1,super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275dir=W({type:t,selectors:[["","pButton",""]],contentQueries:function(i,r,o){i&1&&(Yl(o,r.iconSignal,cb,5),Yl(o,r.labelSignal,lb,5)),i&2&&Zf(2)},hostVars:4,hostBindings:function(i,r){i&2&&ft("p-button-icon-only",r.isIconOnly())("p-button-text",r.isTextButton())},inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",loading:"loading",severity:"severity",raised:[2,"raised","raised",w],rounded:[2,"rounded","rounded",w],text:[2,"text","text",w],outlined:[2,"outlined","outlined",w],size:"size",plain:[2,"plain","plain",w],fluid:[2,"fluid","fluid",w],label:"label",icon:"icon",buttonProps:"buttonProps"},features:[Q([$n]),N,Re]})}return t})(),bO=(()=>{class t extends me{type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;fluid;onClick=new ee;onFocus=new ee;onBlur=new ee;contentTemplate;loadingIconTemplate;iconTemplate;_buttonProps;get buttonProps(){return this._buttonProps}set buttonProps(e){this._buttonProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}get hasFluid(){let i=this.el.nativeElement.closest("p-fluid");return Oe(this.fluid)?!!i:this.fluid}_componentStyle=m($n);templates;_contentTemplate;_iconTemplate;_loadingIconTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnChanges(e){super.ngOnChanges(e);let{buttonProps:i}=e;if(i){let r=i.currentValue;for(let o in r)this[o]=r[o]}}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[i])=>e+` ${i}`,"p-button-loading-icon")}iconClass(){return{[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]:this.loading,"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate||this._loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text||this.variant=="text","p-button-outlined":this.outlined||this.variant=="outlined","p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,"p-button-fluid":this.hasFluid,[`${this.styleClass}`]:this.styleClass}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275cmp=ie({type:t,selectors:[["p-button"]],contentQueries:function(i,r,o){if(i&1&&(De(o,tO,5),De(o,nO,5),De(o,iO,5),De(o,En,4)),i&2){let s;Ce(s=we())&&(r.contentTemplate=s.first),Ce(s=we())&&(r.loadingIconTemplate=s.first),Ce(s=we())&&(r.iconTemplate=s.first),Ce(s=we())&&(r.templates=s)}},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",w],loading:[2,"loading","loading",w],loadingIcon:"loadingIcon",raised:[2,"raised","raised",w],rounded:[2,"rounded","rounded",w],text:[2,"text","text",w],plain:[2,"plain","plain",w],severity:"severity",outlined:[2,"outlined","outlined",w],link:[2,"link","link",w],tabindex:[2,"tabindex","tabindex",un],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",w],fluid:[2,"fluid","fluid",w],buttonProps:"buttonProps"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Q([$n]),N,Re],ngContentSelectors:rO,decls:7,vars:14,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","ngClass","pAutoFocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"value","severity",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"value","severity"]],template:function(i,r){i&1&&(Ti(),ge(0,"button",0),Ue("click",function(s){return r.onClick.emit(s)})("focus",function(s){return r.onFocus.emit(s)})("blur",function(s){return r.onBlur.emit(s)}),Ai(1),pe(2,oO,1,0,"ng-container",1)(3,dO,3,5,"ng-container",2)(4,gO,3,5,"ng-container",2)(5,mO,2,3,"span",3)(6,_O,1,2,"p-badge",4),_e()),i&2&&(T("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("pAutoFocus",r.autofocus),H("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),j(2),T("ngTemplateOutlet",r.contentTemplate||r._contentTemplate),j(),T("ngIf",r.loading),j(),T("ngIf",!r.loading),j(),T("ngIf",!r.contentTemplate&&!r._contentTemplate&&r.label),j(),T("ngIf",!r.contentTemplate&&!r._contentTemplate&&r.badge))},dependencies:[Ge,Pi,ks,dn,up,Ol,nb,ab,rb,af,Se],encapsulation:2,changeDetection:0})}return t})(),yV=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=Z({imports:[Ge,bO,Se,Se]})}return t})();var EO=["checkboxicon"],CO=["input"],wO=()=>({"p-checkbox-input":!0}),IO=t=>({checked:t,class:"p-checkbox-icon"});function SO(t,n){if(t&1&&ae(0,"span",8),t&2){let e=ne(3);T("ngClass",e.checkboxIcon),H("data-pc-section","icon")}}function TO(t,n){t&1&&ae(0,"CheckIcon",9),t&2&&(T("styleClass","p-checkbox-icon"),H("data-pc-section","icon"))}function AO(t,n){if(t&1&&(Wn(0),pe(1,SO,1,2,"span",7)(2,TO,1,2,"CheckIcon",6),Hn()),t&2){let e=ne(2);j(),T("ngIf",e.checkboxIcon),j(),T("ngIf",!e.checkboxIcon)}}function RO(t,n){t&1&&ae(0,"MinusIcon",9),t&2&&(T("styleClass","p-checkbox-icon"),H("data-pc-section","icon"))}function kO(t,n){if(t&1&&(Wn(0),pe(1,AO,3,2,"ng-container",4)(2,RO,1,2,"MinusIcon",6),Hn()),t&2){let e=ne();j(),T("ngIf",e.checked),j(),T("ngIf",e._indeterminate())}}function DO(t,n){}function OO(t,n){t&1&&pe(0,DO,0,0,"ng-template")}var PO=({dt:t})=>`
.p-checkbox {
    position: relative;
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    width: ${t("checkbox.width")};
    height: ${t("checkbox.height")};
}

.p-checkbox-input {
    cursor: pointer;
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    opacity: 0;
    z-index: 1;
    outline: 0 none;
    border: 1px solid transparent;
    border-radius: ${t("checkbox.border.radius")};
}

.p-checkbox-box {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: ${t("checkbox.border.radius")};
    border: 1px solid ${t("checkbox.border.color")};
    background: ${t("checkbox.background")};
    width: ${t("checkbox.width")};
    height: ${t("checkbox.height")};
    transition: background ${t("checkbox.transition.duration")}, color ${t("checkbox.transition.duration")}, border-color ${t("checkbox.transition.duration")}, box-shadow ${t("checkbox.transition.duration")}, outline-color ${t("checkbox.transition.duration")};
    outline-color: transparent;
    box-shadow: ${t("checkbox.shadow")};
}

.p-checkbox-icon {
    transition-duration: ${t("checkbox.transition.duration")};
    color: ${t("checkbox.icon.color")};
    font-size: ${t("checkbox.icon.size")};
    width: ${t("checkbox.icon.size")};
    height: ${t("checkbox.icon.size")};
}

.p-checkbox:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    border-color: ${t("checkbox.hover.border.color")};
}

.p-checkbox-checked .p-checkbox-box {
    border-color: ${t("checkbox.checked.border.color")};
    background: ${t("checkbox.checked.background")};
}

.p-checkbox-checked .p-checkbox-icon {
    color: ${t("checkbox.icon.checked.color")};
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    background: ${t("checkbox.checked.hover.background")};
    border-color: ${t("checkbox.checked.hover.border.color")};
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-icon {
    color: ${t("checkbox.icon.checked.hover.color")};
}

.p-checkbox:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
    border-color: ${t("checkbox.focus.border.color")};
    box-shadow: ${t("checkbox.focus.ring.shadow")};
    outline: ${t("checkbox.focus.ring.width")} ${t("checkbox.focus.ring.style")} ${t("checkbox.focus.ring.color")};
    outline-offset: ${t("checkbox.focus.ring.offset")};
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
    border-color: ${t("checkbox.checked.focus.border.color")};
}

p-checkbox.ng-invalid.ng-dirty .p-checkbox-box {
    border-color: ${t("checkbox.invalid.border.color")};
}

.p-checkbox.p-variant-filled .p-checkbox-box {
    background: ${t("checkbox.filled.background")};
}

.p-checkbox-checked.p-variant-filled .p-checkbox-box {
    background: ${t("checkbox.checked.background")};
}

.p-checkbox-checked.p-variant-filled:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    background: ${t("checkbox.checked.hover.background")};
}

.p-checkbox.p-disabled {
    opacity: 1;
}

.p-checkbox.p-disabled .p-checkbox-box {
    background: ${t("checkbox.disabled.background")};
    border-color: ${t("checkbox.checked.disabled.border.color")};
}

.p-checkbox.p-disabled .p-checkbox-box .p-checkbox-icon {
    color: ${t("checkbox.icon.disabled.color")};
}

.p-checkbox-sm,
.p-checkbox-sm .p-checkbox-box {
    width: ${t("checkbox.sm.width")};
    height: ${t("checkbox.sm.height")};
}

.p-checkbox-sm .p-checkbox-icon {
    font-size: ${t("checkbox.icon.sm.size")};
    width: ${t("checkbox.icon.sm.size")};
    height: ${t("checkbox.icon.sm.size")};
}

.p-checkbox-lg,
.p-checkbox-lg .p-checkbox-box {
    width: ${t("checkbox.lg.width")};
    height: ${t("checkbox.lg.height")};
}

.p-checkbox-lg .p-checkbox-icon {
    font-size: ${t("checkbox.icon.lg.size")};
    width: ${t("checkbox.icon.lg.size")};
    height: ${t("checkbox.icon.lg.size")};
}
`,NO={root:({instance:t,props:n})=>["p-checkbox p-component",{"p-checkbox-checked":t.checked,"p-disabled":n.disabled,"p-invalid":n.invalid,"p-variant-filled":n.variant?n.variant==="filled":t.config.inputStyle==="filled"||t.config.inputVariant==="filled"}],box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},db=(()=>{class t extends ue{name="checkbox";theme=PO;classes=NO;static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();var xO={provide:Zt,useExisting:rt(()=>hb),multi:!0},hb=(()=>{class t extends me{value;name;disabled;binary;ariaLabelledBy;ariaLabel;tabindex;inputId;style;inputStyle;styleClass;inputClass;indeterminate=!1;size;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant;onChange=new ee;onFocus=new ee;onBlur=new ee;inputViewChild;get checked(){return this._indeterminate()?!1:this.binary?this.model===this.trueValue:Wg(this.value,this.model)}get containerClass(){return{"p-checkbox p-component":!0,"p-checkbox-checked p-highlight":this.checked,"p-disabled":this.disabled,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"||this.config.inputVariant()==="filled","p-checkbox-sm p-inputfield-sm":this.size==="small","p-checkbox-lg p-inputfield-lg":this.size==="large"}}_indeterminate=Le(void 0);checkboxIconTemplate;templates;_checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;_componentStyle=m(db);ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this._checkboxIconTemplate=e.template;break;case"checkboxicon":this._checkboxIconTemplate=e.template;break}})}ngOnChanges(e){super.ngOnChanges(e),e.indeterminate&&this._indeterminate.set(e.indeterminate.currentValue)}updateModel(e){let i,r=this.injector.get(Xt,null,{optional:!0,self:!0}),o=r&&!this.formControl?r.value:this.model;this.binary?(i=this._indeterminate()?this.trueValue:this.checked?this.falseValue:this.trueValue,this.model=i,this.onModelChange(i)):(this.checked||this._indeterminate()?i=o.filter(s=>!Pt(s,this.value)):i=o?[...o,this.value]:[this.value],this.onModelChange(i),this.model=i,this.formControl&&this.formControl.setValue(i)),this._indeterminate()&&this._indeterminate.set(!1),this.onChange.emit({checked:i,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){setTimeout(()=>{this.disabled=e,this.cd.markForCheck()})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275cmp=ie({type:t,selectors:[["p-checkbox"],["p-checkBox"],["p-check-box"]],contentQueries:function(i,r,o){if(i&1&&(De(o,EO,4),De(o,En,4)),i&2){let s;Ce(s=we())&&(r.checkboxIconTemplate=s.first),Ce(s=we())&&(r.templates=s)}},viewQuery:function(i,r){if(i&1&&Xf(CO,5),i&2){let o;Ce(o=we())&&(r.inputViewChild=o.first)}},inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",w],binary:[2,"binary","binary",w],ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",un],inputId:"inputId",style:"style",inputStyle:"inputStyle",styleClass:"styleClass",inputClass:"inputClass",indeterminate:[2,"indeterminate","indeterminate",w],size:"size",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",w],required:[2,"required","required",w],autofocus:[2,"autofocus","autofocus",w],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[Q([xO,db]),N,Re],decls:6,vars:29,consts:[["input",""],[3,"ngClass"],["type","checkbox",3,"focus","blur","change","value","checked","disabled","readonly","ngClass"],[1,"p-checkbox-box"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"]],template:function(i,r){if(i&1){let o=Ss();ge(0,"div",1)(1,"input",2,0),Ue("focus",function(a){return Ei(o),Ci(r.onInputFocus(a))})("blur",function(a){return Ei(o),Ci(r.onInputBlur(a))})("change",function(a){return Ei(o),Ci(r.handleChange(a))}),_e(),ge(3,"div",3),pe(4,kO,3,2,"ng-container",4)(5,OO,1,0,null,5),_e()()}i&2&&(jn(r.style),ve(r.styleClass),T("ngClass",r.containerClass),H("data-p-highlight",r.checked)("data-p-checked",r.checked)("data-p-disabled",r.disabled),j(),jn(r.inputStyle),ve(r.inputClass),T("value",r.value)("checked",r.checked)("disabled",r.disabled)("readonly",r.readonly)("ngClass",ep(26,wO)),H("id",r.inputId)("name",r.name)("tabindex",r.tabindex)("required",r.required?!0:null)("aria-labelledby",r.ariaLabelledBy)("aria-label",r.ariaLabel),j(3),T("ngIf",!r.checkboxIconTemplate&&!r._checkboxIconTemplate),j(),T("ngTemplateOutlet",r.checkboxIconTemplate||r._checkboxIconTemplate)("ngTemplateOutletContext",ln(27,IO,r.checked)))},dependencies:[Ge,Pi,ks,dn,ob,sb,Se],encapsulation:2,changeDetection:0})}return t})(),VV=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=Z({imports:[hb,Se,Se]})}return t})();var MO=({dt:t})=>`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: ${t("inputtext.color")};
    background: ${t("inputtext.background")};
    padding-block: ${t("inputtext.padding.y")};
    padding-inline: ${t("inputtext.padding.x")};
    border: 1px solid ${t("inputtext.border.color")};
    transition: background ${t("inputtext.transition.duration")}, color ${t("inputtext.transition.duration")}, border-color ${t("inputtext.transition.duration")}, outline-color ${t("inputtext.transition.duration")}, box-shadow ${t("inputtext.transition.duration")};
    appearance: none;
    border-radius: ${t("inputtext.border.radius")};
    outline-color: transparent;
    box-shadow: ${t("inputtext.shadow")};
}

.p-inputtext.ng-invalid.ng-dirty {
    border-color: ${t("inputtext.invalid.border.color")};
}

.p-inputtext:enabled:hover {
    border-color: ${t("inputtext.hover.border.color")};
}

.p-inputtext:enabled:focus {
    border-color: ${t("inputtext.focus.border.color")};
    box-shadow: ${t("inputtext.focus.ring.shadow")};
    outline: ${t("inputtext.focus.ring.width")} ${t("inputtext.focus.ring.style")} ${t("inputtext.focus.ring.color")};
    outline-offset: ${t("inputtext.focus.ring.offset")};
}

.p-inputtext.p-invalid {
    border-color: ${t("inputtext.invalid.border.color")};
}

.p-inputtext.p-variant-filled {
    background: ${t("inputtext.filled.background")};
}
    
.p-inputtext.p-variant-filled:enabled:hover {
    background: ${t("inputtext.filled.hover.background")};
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: ${t("inputtext.filled.focus.background")};
}

.p-inputtext:disabled {
    opacity: 1;
    background: ${t("inputtext.disabled.background")};
    color: ${t("inputtext.disabled.color")};
}

.p-inputtext::placeholder {
    color: ${t("inputtext.placeholder.color")};
}

.p-inputtext.ng-invalid.ng-dirty::placeholder {
    color: ${t("inputtext.invalid.placeholder.color")};
}

.p-inputtext-sm {
    font-size: ${t("inputtext.sm.font.size")};
    padding-block: ${t("inputtext.sm.padding.y")};
    padding-inline: ${t("inputtext.sm.padding.x")};
}

.p-inputtext-lg {
    font-size: ${t("inputtext.lg.font.size")};
    padding-block: ${t("inputtext.lg.padding.y")};
    padding-inline: ${t("inputtext.lg.padding.x")};
}

.p-inputtext-fluid {
    width: 100%;
}
`,LO={root:({instance:t,props:n})=>["p-inputtext p-component",{"p-filled":t.filled,"p-inputtext-sm":n.size==="small","p-inputtext-lg":n.size==="large","p-invalid":n.invalid,"p-variant-filled":n.variant==="filled","p-inputtext-fluid":n.fluid}]},fb=(()=>{class t extends ue{name="inputtext";theme=MO;classes=LO;static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();var JV=(()=>{class t extends me{ngModel;variant;fluid;pSize;filled;_componentStyle=m(fb);get hasFluid(){let i=this.el.nativeElement.closest("p-fluid");return Oe(this.fluid)?!!i:this.fluid}constructor(e){super(),this.ngModel=e}ngAfterViewInit(){super.ngAfterViewInit(),this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||t)(L(ls,8))};static \u0275dir=W({type:t,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component"],hostVars:14,hostBindings:function(i,r){if(i&1&&Ue("input",function(s){return r.onInput(s)}),i&2){let o;ft("p-filled",r.filled)("p-variant-filled",((o=r.variant)!==null&&o!==void 0?o:r.config.inputStyle()||r.config.inputVariant())==="filled")("p-inputtext-fluid",r.hasFluid)("p-inputtext-sm",r.pSize==="small")("p-inputfield-sm",r.pSize==="small")("p-inputtext-lg",r.pSize==="large")("p-inputfield-lg",r.pSize==="large")}},inputs:{variant:"variant",fluid:[2,"fluid","fluid",w],pSize:"pSize"},features:[Q([fb]),N]})}return t})(),XV=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=Z({})}return t})();var FO=["icon"],$O=["content"],gb=t=>({$implicit:t}),VO=(t,n)=>({"p-togglebutton-icon":!0,"p-togglebutton-icon-left":t,"p-togglebutton-icon-right":n});function UO(t,n){t&1&&zn(0)}function BO(t,n){if(t&1&&ae(0,"span",1),t&2){let e=ne(3);ve(e.checked?e.onIcon:e.offIcon),T("ngClass",Ts(4,VO,e.iconPos==="left",e.iconPos==="right")),H("data-pc-section","icon")}}function jO(t,n){if(t&1&&pe(0,BO,1,7,"span",3),t&2){let e=ne(2);Si(e.onIcon||e.offIcon?0:-1)}}function WO(t,n){t&1&&zn(0)}function HO(t,n){if(t&1&&pe(0,WO,1,0,"ng-container",2),t&2){let e=ne(2);T("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",ln(2,gb,e.checked))}}function zO(t,n){if(t&1&&(pe(0,jO,1,1)(1,HO,1,4,"ng-container"),ge(2,"span",1),Ri(3),_e()),t&2){let e=ne();Si(e.iconTemplate?1:0),j(2),T("ngClass",e.cx("label")),H("data-pc-section","label"),j(),ki(e.checked?e.hasOnLabel?e.onLabel:"\xA0":e.hasOffLabel?e.offLabel:"\xA0")}}var GO=({dt:t})=>`
p-togglebutton {
    display: inline-flex;
}

.p-togglebutton {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: ${t("togglebutton.color")};
    background: ${t("togglebutton.background")};
    border: 1px solid ${t("togglebutton.border.color")};
    padding: ${t("togglebutton.padding")};
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background ${t("togglebutton.transition.duration")}, color ${t("togglebutton.transition.duration")}, border-color ${t("togglebutton.transition.duration")},
        outline-color ${t("togglebutton.transition.duration")}, box-shadow ${t("togglebutton.transition.duration")};
    border-radius: ${t("togglebutton.border.radius")};
    outline-color: transparent;
    font-weight: ${t("togglebutton.font.weight")};
}

.p-togglebutton-content {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: ${t("togglebutton.gap")};
}

.p-togglebutton-label,
.p-togglebutton-icon {
    position: relative;
    transition: none;
}

.p-togglebutton::before {
    content: "";
    background: transparent;
    transition: background ${t("togglebutton.transition.duration")}, color ${t("togglebutton.transition.duration")}, border-color ${t("togglebutton.transition.duration")},
            outline-color ${t("togglebutton.transition.duration")}, box-shadow ${t("togglebutton.transition.duration")};
    position: absolute;
    inset-inline-start: ${t("togglebutton.content.left")};
    top: ${t("togglebutton.content.top")};
    width: calc(100% - calc(2 *  ${t("togglebutton.content.left")}));
    height: calc(100% - calc(2 *  ${t("togglebutton.content.top")}));
    border-radius: ${t("togglebutton.border.radius")};
}

.p-togglebutton.p-togglebutton-checked::before {
    background: ${t("togglebutton.content.checked.background")};
    box-shadow: ${t("togglebutton.content.checked.shadow")};
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover {
    background: ${t("togglebutton.hover.background")};
    color: ${t("togglebutton.hover.color")};
}

.p-togglebutton.p-togglebutton-checked {
    background: ${t("togglebutton.checked.background")};
    border-color: ${t("togglebutton.checked.border.color")};
    color: ${t("togglebutton.checked.color")};
}

.p-togglebutton:focus-visible {
    box-shadow: ${t("togglebutton.focus.ring.shadow")};
    outline: ${t("togglebutton.focus.ring.width")} ${t("togglebutton.focus.ring.style")} ${t("togglebutton.focus.ring.color")};
    outline-offset: ${t("togglebutton.focus.ring.offset")};
}

.p-togglebutton.p-invalid {
    border-color: ${t("togglebutton.invalid.border.color")};
}

.p-togglebutton:disabled {
    opacity: 1;
    cursor: default;
    background: ${t("togglebutton.disabled.background")};
    border-color: ${t("togglebutton.disabled.border.color")};
    color: ${t("togglebutton.disabled.color")};
}

.p-togglebutton-icon {
    color: ${t("togglebutton.icon.color")};
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover .p-togglebutton-icon {
    color: ${t("togglebutton.icon.hover.color")};
}

.p-togglebutton.p-togglebutton-checked .p-togglebutton-icon {
    color: ${t("togglebutton.icon.checked.color")};
}

.p-togglebutton:disabled .p-togglebutton-icon {
    color: ${t("togglebutton.icon.disabled.color")};
}

.p-togglebutton-sm {
    padding: ${t("togglebutton.sm.padding")};
    font-size: ${t("togglebutton.sm.font.size")};
}

.p-togglebutton-lg {
    padding: ${t("togglebutton.lg.padding")};
    font-size: ${t("togglebutton.lg.font.size")};
}

/* For PrimeNG (iconPos) */

.p-togglebutton-icon-right {
    order: 1;
}

p-togglebutton.ng-invalid.ng-dirty > .p-togglebutton {
    border-color: ${t("togglebutton.invalid.border.color")};
}
`,qO={root:({instance:t})=>({"p-togglebutton p-component":!0,"p-togglebutton-checked":t.checked,"p-disabled":t.disabled,"p-togglebutton-sm p-inputfield-sm":t.size==="small","p-togglebutton-lg p-inputfield-lg":t.size==="large"}),content:"p-togglebutton-content",icon:"p-togglebutton-icon",label:"p-togglebutton-label"},pb=(()=>{class t extends ue{name="togglebutton";theme=GO;classes=qO;static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();var KO={provide:Zt,useExisting:rt(()=>lf),multi:!0},lf=(()=>{class t extends me{onLabel="Yes";offLabel="No";onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;get hostClass(){return this.styleClass||""}inputId;tabindex=0;size;iconPos="left";autofocus;allowEmpty;onChange=new ee;iconTemplate;contentTemplate;templates;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};_componentStyle=m(pb);toggle(e){!this.disabled&&!(this.allowEmpty===!1&&this.checked)&&(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onKeyDown(e){switch(e.code){case"Enter":this.toggle(e),e.preventDefault();break;case"Space":this.toggle(e),e.preventDefault();break}}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}get active(){return this.checked===!0}_iconTemplate;_contentTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this._iconTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275cmp=ie({type:t,selectors:[["p-toggleButton"],["p-togglebutton"],["p-toggle-button"]],contentQueries:function(i,r,o){if(i&1&&(De(o,FO,4),De(o,$O,4),De(o,En,4)),i&2){let s;Ce(s=we())&&(r.iconTemplate=s.first),Ce(s=we())&&(r.contentTemplate=s.first),Ce(s=we())&&(r.templates=s)}},hostVars:2,hostBindings:function(i,r){i&2&&ve(r.hostClass)},inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",w],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",un],size:"size",iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",w],allowEmpty:"allowEmpty"},outputs:{onChange:"onChange"},features:[Q([KO,pb]),N],decls:4,vars:15,consts:[["pRipple","","type","button",3,"click","ngClass","tabindex","disabled"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngClass"]],template:function(i,r){i&1&&(ge(0,"button",0),Ue("click",function(s){return r.toggle(s)}),ge(1,"span",1),pe(2,UO,1,0,"ng-container",2)(3,zO,4,4),_e()()),i&2&&(ve(r.styleClass),T("ngClass",r.cx("root"))("tabindex",r.tabindex)("disabled",r.disabled),H("aria-labelledby",r.ariaLabelledBy)("aria-pressed",r.checked)("data-p-checked",r.active)("data-p-disabled",r.disabled),j(),T("ngClass",r.cx("content")),j(),T("ngTemplateOutlet",r.contentTemplate||r._contentTemplate)("ngTemplateOutletContext",ln(13,gb,r.checked)),j(),Si(r.contentTemplate?-1:3))},dependencies:[Ol,Ge,Pi,dn,Se],encapsulation:2,changeDetection:0})}return t})();var YO=["item"],QO=(t,n)=>({$implicit:t,index:n});function JO(t,n){t&1&&zn(0)}function XO(t,n){if(t&1&&pe(0,JO,1,0,"ng-container",3),t&2){let e=ne(2),i=e.$implicit,r=e.$index,o=ne();T("ngTemplateOutlet",o.itemTemplate||o._itemTemplate)("ngTemplateOutletContext",Ts(2,QO,i,r))}}function ZO(t,n){t&1&&pe(0,XO,1,5,"ng-template",null,0,tp)}function eP(t,n){if(t&1){let e=Ss();ge(0,"p-toggleButton",2),Ue("onChange",function(r){let o=Ei(e),s=o.$implicit,a=o.$index,l=ne();return Ci(l.onOptionSelect(r,s,a))}),pe(1,ZO,2,0),_e()}if(t&2){let e=n.$implicit,i=ne();T("autofocus",i.autofocus)("styleClass",i.styleClass)("ngModel",i.isSelected(e))("onLabel",i.getOptionLabel(e))("offLabel",i.getOptionLabel(e))("disabled",i.disabled||i.isOptionDisabled(e))("allowEmpty",i.allowEmpty)("size",i.size),j(),Si(i.itemTemplate||i._itemTemplate?1:-1)}}var tP=({dt:t})=>`
.p-selectbutton {
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    outline-color: transparent;
    border-radius: ${t("selectbutton.border.radius")};
}

.p-selectbutton .p-togglebutton {
    border-radius: 0;
    border-width: 1px 1px 1px 0;
}

.p-selectbutton .p-togglebutton:focus-visible {
    position: relative;
    z-index: 1;
}

.p-selectbutton p-togglebutton:first-child .p-togglebutton {
    border-left-width: 1px;
    border-start-start-radius: ${t("selectbutton.border.radius")};
    border-end-start-radius: ${t("selectbutton.border.radius")};
}

.p-selectbutton p-togglebutton:last-child .p-togglebutton{
    border-start-end-radius: ${t("selectbutton.border.radius")};
    border-end-end-radius: ${t("selectbutton.border.radius")};
}

.p-selectbutton.ng-invalid.ng-dirty {
    outline: 1px solid ${t("selectbutton.invalid.border.color")};
    outline-offset: 0;
}
`,nP={root:({props:t})=>["p-selectbutton p-component",{"p-invalid":t.invalid}]},mb=(()=>{class t extends ue{name="selectbutton";theme=tP;classes=nP;static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275prov=E({token:t,factory:t.\u0275fac})}return t})();var iP={provide:Zt,useExisting:rt(()=>_b),multi:!0},_b=(()=>{class t extends me{options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;size;disabled;dataKey;autofocus;onOptionClick=new ee;onChange=new ee;itemTemplate;_itemTemplate;get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;_componentStyle=m(mb);getOptionLabel(e){return this.optionLabel?yn(e,this.optionLabel):e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?yn(e,this.optionValue):this.optionLabel||e.value===void 0?e:e.value}isOptionDisabled(e){return this.optionDisabled?yn(e,this.optionDisabled):e.disabled!==void 0?e.disabled:!1}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionSelect(e,i,r){if(this.disabled||this.isOptionDisabled(i))return;let o=this.isSelected(i);if(o&&this.unselectable)return;let s=this.getOptionValue(i),a;if(this.multiple)o?a=this.value.filter(l=>!Pt(l,s,this.equalityKey)):a=this.value?[...this.value,s]:[s];else{if(o&&!this.allowEmpty)return;a=o?null:s}this.focusedIndex=r,this.value=a,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.onOptionClick.emit({originalEvent:e,option:i,index:r})}changeTabIndexes(e,i){let r,o;for(let s=0;s<=this.el.nativeElement.children.length-1;s++)this.el.nativeElement.children[s].getAttribute("tabindex")==="0"&&(r={elem:this.el.nativeElement.children[s],index:s});i==="prev"?r.index===0?o=this.el.nativeElement.children.length-1:o=r.index-1:r.index===this.el.nativeElement.children.length-1?o=0:o=r.index+1,this.focusedIndex=o,this.el.nativeElement.children[o].focus()}onFocus(e,i){this.focusedIndex=i}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!Pt(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let o of this.value)if(Pt(o,r,this.dataKey)){i=!0;break}}}else i=Pt(this.getOptionValue(e),this.value,this.equalityKey);return i}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=S(t)))(r||t)}})();static \u0275cmp=ie({type:t,selectors:[["p-selectButton"],["p-selectbutton"],["p-select-button"]],contentQueries:function(i,r,o){if(i&1&&(De(o,YO,4),De(o,En,4)),i&2){let s;Ce(s=we())&&(r.itemTemplate=s.first),Ce(s=we())&&(r.templates=s)}},hostVars:10,hostBindings:function(i,r){i&2&&(H("role","group")("aria-labelledby",r.ariaLabelledBy)("data-pc-section","root")("data-pc-name","selectbutton"),jn(r.style),ft("p-selectbutton",!0)("p-component",!0))},inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",w],tabindex:[2,"tabindex","tabindex",un],multiple:[2,"multiple","multiple",w],allowEmpty:[2,"allowEmpty","allowEmpty",w],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",size:"size",disabled:[2,"disabled","disabled",w],dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",w]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[Q([iP,mb]),N],decls:2,vars:0,consts:[["content",""],[3,"autofocus","styleClass","ngModel","onLabel","offLabel","disabled","allowEmpty","size"],[3,"onChange","autofocus","styleClass","ngModel","onLabel","offLabel","disabled","allowEmpty","size"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&Qf(0,eP,2,9,"p-toggleButton",1,Yf),i&2&&Jf(r.options)},dependencies:[lf,Jy,jy,ls,Ge,dn,Se],encapsulation:2,changeDetection:0})}return t})(),xU=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=te({type:t});static \u0275inj=Z({imports:[_b,Se,Se]})}return t})();var vb=class t{static isArray(n,e=!0){return Array.isArray(n)&&(e||n.length!==0)}static isObject(n,e=!0){return typeof n=="object"&&!Array.isArray(n)&&n!=null&&(e||Object.keys(n).length!==0)}static equals(n,e,i){return i?this.resolveFieldData(n,i)===this.resolveFieldData(e,i):this.equalsByValue(n,e)}static equalsByValue(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var i=Array.isArray(n),r=Array.isArray(e),o,s,a;if(i&&r){if(s=n.length,s!=e.length)return!1;for(o=s;o--!==0;)if(!this.equalsByValue(n[o],e[o]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(n),c=this.isDate(e);if(l!=c)return!1;if(l&&c)return n.getTime()==e.getTime();var u=n instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return n.toString()==e.toString();var h=Object.keys(n);if(s=h.length,s!==Object.keys(e).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,h[o]))return!1;for(o=s;o--!==0;)if(a=h[o],!this.equalsByValue(n[a],e[a]))return!1;return!0}return n!==n&&e!==e}static resolveFieldData(n,e){if(n&&e){if(this.isFunction(e))return e(n);if(e.indexOf(".")==-1)return n[e];{let i=e.split("."),r=n;for(let o=0,s=i.length;o<s;++o){if(r==null)return null;r=r[i[o]]}return r}}else return null}static isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)}static reorderArray(n,e,i){let r;n&&e!==i&&(i>=n.length&&(i%=n.length,e%=n.length),n.splice(i,0,n.splice(e,1)[0]))}static insertIntoOrderedArray(n,e,i,r){if(i.length>0){let o=!1;for(let s=0;s<i.length;s++)if(this.findIndexInList(i[s],r)>e){i.splice(s,0,n),o=!0;break}o||i.push(n)}else i.push(n)}static findIndexInList(n,e){let i=-1;if(e){for(let r=0;r<e.length;r++)if(e[r]==n){i=r;break}}return i}static contains(n,e){if(n!=null&&e&&e.length){for(let i of e)if(this.equals(n,i))return!0}return!1}static removeAccents(n){return n&&(n=n.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),n}static isDate(n){return Object.prototype.toString.call(n)==="[object Date]"}static isEmpty(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!this.isDate(n)&&typeof n=="object"&&Object.keys(n).length===0}static isNotEmpty(n){return!this.isEmpty(n)}static compare(n,e,i,r=1){let o=-1,s=this.isEmpty(n),a=this.isEmpty(e);return s&&a?o=0:s?o=r:a?o=-r:typeof n=="string"&&typeof e=="string"?o=n.localeCompare(e,i,{numeric:!0}):o=n<e?-1:n>e?1:0,o}static sort(n,e,i=1,r,o=1){let s=t.compare(n,e,r,i),a=i;return(t.isEmpty(n)||t.isEmpty(e))&&(a=o===1?i:o),a*s}static merge(n,e){if(!(n==null&&e==null)){{if((n==null||typeof n=="object")&&(e==null||typeof e=="object"))return _(_({},n||{}),e||{});if((n==null||typeof n=="string")&&(e==null||typeof e=="string"))return[n||"",e||""].join(" ")}return e||n}}static isPrintableCharacter(n=""){return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}static getItemValue(n,...e){return this.isFunction(n)?n(...e):n}static findLastIndex(n,e){let i=-1;if(this.isNotEmpty(n))try{i=n.findLastIndex(e)}catch{i=n.lastIndexOf([...n].reverse().find(e))}return i}static findLast(n,e){let i;if(this.isNotEmpty(n))try{i=n.findLast(e)}catch{i=[...n].reverse().find(e)}return i}static deepEquals(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var i=Array.isArray(n),r=Array.isArray(e),o,s,a;if(i&&r){if(s=n.length,s!=e.length)return!1;for(o=s;o--!==0;)if(!this.deepEquals(n[o],e[o]))return!1;return!0}if(i!=r)return!1;var l=n instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return n.getTime()==e.getTime();var u=n instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return n.toString()==e.toString();var h=Object.keys(n);if(s=h.length,s!==Object.keys(e).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,h[o]))return!1;for(o=s;o--!==0;)if(a=h[o],!this.deepEquals(n[a],e[a]))return!1;return!0}return n!==n&&e!==e}static minifyCSS(n){return n&&n.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}static toFlatCase(n){return this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}static isString(n,e=!0){return typeof n=="string"&&(e||n!=="")}},yb=0;function LU(t="pn_id_"){return yb++,`${t}${yb}`}function rP(){let t=[],n=(o,s)=>{let a=t.length>0?t[t.length-1]:{key:o,value:s},l=a.value+(a.key===o?0:s)+2;return t.push({key:o,value:l}),l},e=o=>{t=t.filter(s=>s.value!==o)},i=()=>t.length>0?t[t.length-1].value:0,r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,s,a)=>{s&&(s.style.zIndex=String(n(o,a)))},clear:o=>{o&&(e(r(o)),o.style.zIndex="")},getCurrent:()=>i(),generateZIndex:n,revertZIndex:e}}var FU=rP();export{pn as a,zb as b,CP as c,wP as d,kp as e,GP as f,kE as g,mt as h,mn as i,lC as j,Ot as k,zp as l,hN as m,fN as n,pN as o,mw as p,gN as q,Pg as r,vn as s,yN as t,Yn as u,bN as v,Yc as w,kw as x,Dw as y,EN as z,Ow as A,Qc as B,CN as C,wN as D,IN as E,SN as F,Pw as G,qi as H,TN as I,xg as J,AN as K,Xc as L,RN as M,kN as N,sa as O,DN as P,ON as Q,eu as R,PN as S,NN as T,xN as U,MN as V,LN as W,Fg as X,Oe as Y,Uw as Z,J as _,yn as $,Pt as aa,UN as ba,at as ca,BN as da,jN as ea,fo as fa,Ww as ga,rx as ha,Pe as ia,ox as ja,sx as ka,ax as la,lx as ma,cx as na,En as oa,Se as pa,ux as qa,Zw as ra,Ex as sa,Cx as ta,ue as ua,ru as va,Hx as wa,GM as xa,qM as ya,gL as za,mL as Aa,ns as Ba,dF as Ca,hF as Da,fF as Ea,pF as Fa,gF as Ga,mF as Ha,_F as Ia,Zt as Ja,Ry as Ka,vy as La,Xt as Ma,jy as Na,LF as Oa,ls as Pa,$F as Qa,BD as Ra,WD as Sa,GD as Ta,VF as Ua,Jy as Va,UF as Wa,me as Xa,Ol as Ya,a$ as Za,_b as _a,xU as $a,sf as ab,tb as bb,Ln as cb,ob as db,ab as eb,Q$ as fb,vb as gb,LU as hb,FU as ib,nb as jb,_$ as kb,af as lb,rb as mb,vV as nb,bO as ob,yV as pb,hb as qb,VV as rb,JV as sb,XV as tb};
